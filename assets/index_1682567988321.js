const x0=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};x0();function Uu(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const b0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E0=Uu(b0);function dm(e){return!!e||e===""}function Vu(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=xe(i)?A0(i):Vu(i);if(r)for(const a in r)t[a]=r[a]}return t}else{if(xe(e))return e;if(ue(e))return e}}const T0=/;(?![^(]*\))/g,C0=/:(.+)/;function A0(e){const t={};return e.split(T0).forEach(n=>{if(n){const i=n.split(C0);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Hu(e){let t="";if(xe(e))t=e;else if(lt(e))for(let n=0;n<e.length;n++){const i=Hu(e[n]);i&&(t+=i+" ")}else if(ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ni=e=>e==null?"":lt(e)||ue(e)&&(e.toString===_m||!pt(e.toString))?JSON.stringify(e,pm,2):String(e),pm=(e,t)=>t&&t.__v_isRef?pm(e,t.value):ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:mm(t)?{[`Set(${t.size})`]:[...t.values()]}:ue(t)&&!lt(t)&&!vm(t)?String(t):t,jt={},ds=[],rn=()=>{},S0=()=>!1,k0=/^on[^a-z]/,Fa=e=>k0.test(e),ju=e=>e.startsWith("onUpdate:"),Le=Object.assign,qu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},I0=Object.prototype.hasOwnProperty,Mt=(e,t)=>I0.call(e,t),lt=Array.isArray,ps=e=>za(e)==="[object Map]",mm=e=>za(e)==="[object Set]",pt=e=>typeof e=="function",xe=e=>typeof e=="string",Zu=e=>typeof e=="symbol",ue=e=>e!==null&&typeof e=="object",gm=e=>ue(e)&&pt(e.then)&&pt(e.catch),_m=Object.prototype.toString,za=e=>_m.call(e),P0=e=>za(e).slice(8,-1),vm=e=>za(e)==="[object Object]",Ku=e=>xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qo=Uu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ua=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},L0=/-(\w)/g,wn=Ua(e=>e.replace(L0,(t,n)=>n?n.toUpperCase():"")),M0=/\B([A-Z])/g,Bs=Ua(e=>e.replace(M0,"-$1").toLowerCase()),Va=Ua(e=>e.charAt(0).toUpperCase()+e.slice(1)),oc=Ua(e=>e?`on${Va(e)}`:""),Ir=(e,t)=>!Object.is(e,t),ac=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ca=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},N0=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let sd;const R0=()=>sd||(sd=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let xi;const Ro=[];class D0{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&xi&&(this.parent=xi,this.index=(xi.scopes||(xi.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Ro.push(this),xi=this)}off(){this.active&&(Ro.pop(),xi=Ro[Ro.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function O0(e,t){t=t||xi,t&&t.active&&t.effects.push(e)}const Wu=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ym=e=>(e.w&ai)>0,wm=e=>(e.n&ai)>0,B0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ai},$0=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];ym(r)&&!wm(r)?r.delete(e):t[n++]=r,r.w&=~ai,r.n&=~ai}t.length=n}},Mc=new WeakMap;let fr=0,ai=1;const Nc=30,lr=[];let Ii;const Pi=Symbol(""),Rc=Symbol("");class Gu{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],O0(this,i)}run(){if(!this.active)return this.fn();if(!lr.includes(this))try{return lr.push(Ii=this),F0(),ai=1<<++fr,fr<=Nc?B0(this):rd(this),this.fn()}finally{fr<=Nc&&$0(this),ai=1<<--fr,Vi(),lr.pop();const t=lr.length;Ii=t>0?lr[t-1]:void 0}}stop(){this.active&&(rd(this),this.onStop&&this.onStop(),this.active=!1)}}function rd(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let bs=!0;const Yu=[];function $s(){Yu.push(bs),bs=!1}function F0(){Yu.push(bs),bs=!0}function Vi(){const e=Yu.pop();bs=e===void 0?!0:e}function He(e,t,n){if(!xm())return;let i=Mc.get(e);i||Mc.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=Wu()),bm(r)}function xm(){return bs&&Ii!==void 0}function bm(e,t){let n=!1;fr<=Nc?wm(e)||(e.n|=ai,n=!ym(e)):n=!e.has(Ii),n&&(e.add(Ii),Ii.deps.push(e))}function On(e,t,n,i,r,a){const l=Mc.get(e);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(n==="length"&&lt(e))l.forEach((f,d)=>{(d==="length"||d>=i)&&u.push(f)});else switch(n!==void 0&&u.push(l.get(n)),t){case"add":lt(e)?Ku(n)&&u.push(l.get("length")):(u.push(l.get(Pi)),ps(e)&&u.push(l.get(Rc)));break;case"delete":lt(e)||(u.push(l.get(Pi)),ps(e)&&u.push(l.get(Rc)));break;case"set":ps(e)&&u.push(l.get(Pi));break}if(u.length===1)u[0]&&Dc(u[0]);else{const f=[];for(const d of u)d&&f.push(...d);Dc(Wu(f))}}function Dc(e,t){for(const n of lt(e)?e:[...e])(n!==Ii||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const z0=Uu("__proto__,__v_isRef,__isVue"),Em=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Zu)),U0=Xu(),V0=Xu(!1,!0),H0=Xu(!0),od=j0();function j0(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Rt(this);for(let a=0,l=this.length;a<l;a++)He(i,"get",a+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Rt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$s();const i=Rt(this)[t].apply(this,n);return Vi(),i}}),e}function Xu(e=!1,t=!1){return function(i,r,a){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&a===(e?t?ow:km:t?Sm:Am).get(i))return i;const l=lt(i);if(!e&&l&&Mt(od,r))return Reflect.get(od,r,a);const u=Reflect.get(i,r,a);return(Zu(r)?Em.has(r):z0(r))||(e||He(i,"get",r),t)?u:ke(u)?!l||!Ku(r)?u.value:u:ue(u)?e?Im(u):Fs(u):u}}const q0=Tm(),Z0=Tm(!0);function Tm(e=!1){return function(n,i,r,a){let l=n[i];if(!e&&!eh(r)&&(r=Rt(r),l=Rt(l),!lt(n)&&ke(l)&&!ke(r)))return l.value=r,!0;const u=lt(n)&&Ku(i)?Number(i)<n.length:Mt(n,i),f=Reflect.set(n,i,r,a);return n===Rt(a)&&(u?Ir(r,l)&&On(n,"set",i,r):On(n,"add",i,r)),f}}function K0(e,t){const n=Mt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&On(e,"delete",t,void 0),i}function W0(e,t){const n=Reflect.has(e,t);return(!Zu(t)||!Em.has(t))&&He(e,"has",t),n}function G0(e){return He(e,"iterate",lt(e)?"length":Pi),Reflect.ownKeys(e)}const Cm={get:U0,set:q0,deleteProperty:K0,has:W0,ownKeys:G0},Y0={get:H0,set(e,t){return!0},deleteProperty(e,t){return!0}},X0=Le({},Cm,{get:V0,set:Z0}),Qu=e=>e,Ha=e=>Reflect.getPrototypeOf(e);function Do(e,t,n=!1,i=!1){e=e.__v_raw;const r=Rt(e),a=Rt(t);t!==a&&!n&&He(r,"get",t),!n&&He(r,"get",a);const{has:l}=Ha(r),u=i?Qu:n?nh:Pr;if(l.call(r,t))return u(e.get(t));if(l.call(r,a))return u(e.get(a));e!==r&&e.get(t)}function Oo(e,t=!1){const n=this.__v_raw,i=Rt(n),r=Rt(e);return e!==r&&!t&&He(i,"has",e),!t&&He(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function Bo(e,t=!1){return e=e.__v_raw,!t&&He(Rt(e),"iterate",Pi),Reflect.get(e,"size",e)}function ad(e){e=Rt(e);const t=Rt(this);return Ha(t).has.call(t,e)||(t.add(e),On(t,"add",e,e)),this}function ld(e,t){t=Rt(t);const n=Rt(this),{has:i,get:r}=Ha(n);let a=i.call(n,e);a||(e=Rt(e),a=i.call(n,e));const l=r.call(n,e);return n.set(e,t),a?Ir(t,l)&&On(n,"set",e,t):On(n,"add",e,t),this}function cd(e){const t=Rt(this),{has:n,get:i}=Ha(t);let r=n.call(t,e);r||(e=Rt(e),r=n.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return r&&On(t,"delete",e,void 0),a}function ud(){const e=Rt(this),t=e.size!==0,n=e.clear();return t&&On(e,"clear",void 0,void 0),n}function $o(e,t){return function(i,r){const a=this,l=a.__v_raw,u=Rt(l),f=t?Qu:e?nh:Pr;return!e&&He(u,"iterate",Pi),l.forEach((d,m)=>i.call(r,f(d),f(m),a))}}function Fo(e,t,n){return function(...i){const r=this.__v_raw,a=Rt(r),l=ps(a),u=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,d=r[e](...i),m=n?Qu:t?nh:Pr;return!t&&He(a,"iterate",f?Rc:Pi),{next(){const{value:_,done:v}=d.next();return v?{value:_,done:v}:{value:u?[m(_[0]),m(_[1])]:m(_),done:v}},[Symbol.iterator](){return this}}}}function Gn(e){return function(...t){return e==="delete"?!1:this}}function Q0(){const e={get(a){return Do(this,a)},get size(){return Bo(this)},has:Oo,add:ad,set:ld,delete:cd,clear:ud,forEach:$o(!1,!1)},t={get(a){return Do(this,a,!1,!0)},get size(){return Bo(this)},has:Oo,add:ad,set:ld,delete:cd,clear:ud,forEach:$o(!1,!0)},n={get(a){return Do(this,a,!0)},get size(){return Bo(this,!0)},has(a){return Oo.call(this,a,!0)},add:Gn("add"),set:Gn("set"),delete:Gn("delete"),clear:Gn("clear"),forEach:$o(!0,!1)},i={get(a){return Do(this,a,!0,!0)},get size(){return Bo(this,!0)},has(a){return Oo.call(this,a,!0)},add:Gn("add"),set:Gn("set"),delete:Gn("delete"),clear:Gn("clear"),forEach:$o(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Fo(a,!1,!1),n[a]=Fo(a,!0,!1),t[a]=Fo(a,!1,!0),i[a]=Fo(a,!0,!0)}),[e,n,t,i]}const[J0,tw,ew,nw]=Q0();function Ju(e,t){const n=t?e?nw:ew:e?tw:J0;return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Mt(n,r)&&r in i?n:i,r,a)}const iw={get:Ju(!1,!1)},sw={get:Ju(!1,!0)},rw={get:Ju(!0,!1)},Am=new WeakMap,Sm=new WeakMap,km=new WeakMap,ow=new WeakMap;function aw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lw(e){return e.__v_skip||!Object.isExtensible(e)?0:aw(P0(e))}function Fs(e){return e&&e.__v_isReadonly?e:th(e,!1,Cm,iw,Am)}function cw(e){return th(e,!1,X0,sw,Sm)}function Im(e){return th(e,!0,Y0,rw,km)}function th(e,t,n,i,r){if(!ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const l=lw(e);if(l===0)return e;const u=new Proxy(e,l===2?i:n);return r.set(e,u),u}function ms(e){return eh(e)?ms(e.__v_raw):!!(e&&e.__v_isReactive)}function eh(e){return!!(e&&e.__v_isReadonly)}function Pm(e){return ms(e)||eh(e)}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function Lm(e){return ca(e,"__v_skip",!0),e}const Pr=e=>ue(e)?Fs(e):e,nh=e=>ue(e)?Im(e):e;function Mm(e){xm()&&(e=Rt(e),e.dep||(e.dep=Wu()),bm(e.dep))}function Nm(e,t){e=Rt(e),e.dep&&Dc(e.dep)}function ke(e){return Boolean(e&&e.__v_isRef===!0)}function en(e){return Rm(e,!1)}function uw(e){return Rm(e,!0)}function Rm(e,t){return ke(e)?e:new hw(e,t)}class hw{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Rt(t),this._value=n?t:Pr(t)}get value(){return Mm(this),this._value}set value(t){t=this._shallow?t:Rt(t),Ir(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Pr(t),Nm(this))}}function gs(e){return ke(e)?e.value:e}const fw={get:(e,t,n)=>gs(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return ke(r)&&!ke(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Dm(e){return ms(e)?e:new Proxy(e,fw)}function dw(e){const t=lt(e)?new Array(e.length):{};for(const n in e)t[n]=mw(e,n);return t}class pw{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function mw(e,t,n){const i=e[t];return ke(i)?i:new pw(e,t,n)}class gw{constructor(t,n,i){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Gu(t,()=>{this._dirty||(this._dirty=!0,Nm(this))}),this.__v_isReadonly=i}get value(){const t=Rt(this);return Mm(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ge(e,t){let n,i;const r=pt(e);return r?(n=e,i=rn):(n=e.get,i=e.set),new gw(n,i,r||!i)}Promise.resolve();function _w(e,t,...n){const i=e.vnode.props||jt;let r=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in i){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:_,trim:v}=i[m]||jt;v?r=n.map(x=>x.trim()):_&&(r=n.map(N0))}let u,f=i[u=oc(t)]||i[u=oc(wn(t))];!f&&a&&(f=i[u=oc(Bs(t))]),f&&Ye(f,e,6,r);const d=i[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ye(d,e,6,r)}}function Om(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let l={},u=!1;if(!pt(e)){const f=d=>{const m=Om(d,t,!0);m&&(u=!0,Le(l,m))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!u?(i.set(e,null),null):(lt(a)?a.forEach(f=>l[f]=null):Le(l,a),i.set(e,l),l)}function ih(e,t){return!e||!Fa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Mt(e,t[0].toLowerCase()+t.slice(1))||Mt(e,Bs(t))||Mt(e,t))}let sn=null,ja=null;function ua(e){const t=sn;return sn=e,ja=e&&e.type.__scopeId||null,t}function Bm(e){ja=e}function $m(){ja=null}function Fe(e,t=sn,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&wd(-1);const a=ua(t),l=e(...r);return ua(a),i._d&&wd(1),l};return i._n=!0,i._c=!0,i._d=!0,i}function lc(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:a,propsOptions:[l],slots:u,attrs:f,emit:d,render:m,renderCache:_,data:v,setupState:x,ctx:P,inheritAttrs:T}=e;let C,U;const W=ua(e);try{if(n.shapeFlag&4){const at=r||i;C=gn(m.call(at,at,_,a,x,v,P)),U=f}else{const at=t;C=gn(at.length>1?at(a,{attrs:f,slots:u,emit:d}):at(a,null)),U=t.props?f:vw(f)}}catch(at){yr.length=0,Ga(at,e,1),C=wt(li)}let J=C;if(U&&T!==!1){const at=Object.keys(U),{shapeFlag:vt}=J;at.length&&vt&7&&(l&&at.some(ju)&&(U=yw(U,l)),J=Es(J,U))}return n.dirs&&(J.dirs=J.dirs?J.dirs.concat(n.dirs):n.dirs),n.transition&&(J.transition=n.transition),C=J,ua(W),C}const vw=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fa(n))&&((t||(t={}))[n]=e[n]);return t},yw=(e,t)=>{const n={};for(const i in e)(!ju(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function ww(e,t,n){const{props:i,children:r,component:a}=e,{props:l,children:u,patchFlag:f}=t,d=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?hd(i,l,d):!!l;if(f&8){const m=t.dynamicProps;for(let _=0;_<m.length;_++){const v=m[_];if(l[v]!==i[v]&&!ih(d,v))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:i===l?!1:i?l?hd(i,l,d):!0:!!l;return!1}function hd(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!ih(n,a))return!0}return!1}function xw({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const bw=e=>e.__isSuspense;function Ew(e,t){t&&t.pendingBranch?lt(e)?t.effects.push(...e):t.effects.push(e):wx(e)}function Jo(e,t){if(fe){let n=fe.provides;const i=fe.parent&&fe.parent.provides;i===n&&(n=fe.provides=Object.create(i)),n[e]=t}}function Dn(e,t,n=!1){const i=fe||sn;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&pt(t)?t.call(i.proxy):t}}function Tw(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ka(()=>{e.isMounted=!0}),Hm(()=>{e.isUnmounting=!0}),e}const We=[Function,Array],Cw={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:We,onEnter:We,onAfterEnter:We,onEnterCancelled:We,onBeforeLeave:We,onLeave:We,onAfterLeave:We,onLeaveCancelled:We,onBeforeAppear:We,onAppear:We,onAfterAppear:We,onAppearCancelled:We},setup(e,{slots:t}){const n=cx(),i=Tw();let r;return()=>{const a=t.default&&zm(t.default(),!0);if(!a||!a.length)return;const l=Rt(e),{mode:u}=l,f=a[0];if(i.isLeaving)return cc(f);const d=fd(f);if(!d)return cc(f);const m=Oc(d,l,i,n);Bc(d,m);const _=n.subTree,v=_&&fd(_);let x=!1;const{getTransitionKey:P}=d.type;if(P){const T=P();r===void 0?r=T:T!==r&&(r=T,x=!0)}if(v&&v.type!==li&&(!Ti(d,v)||x)){const T=Oc(v,l,i,n);if(Bc(v,T),u==="out-in")return i.isLeaving=!0,T.afterLeave=()=>{i.isLeaving=!1,n.update()},cc(f);u==="in-out"&&d.type!==li&&(T.delayLeave=(C,U,W)=>{const J=Fm(i,v);J[String(v.key)]=v,C._leaveCb=()=>{U(),C._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=W})}return f}}},Aw=Cw;function Fm(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Oc(e,t,n,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:_,onLeave:v,onAfterLeave:x,onLeaveCancelled:P,onBeforeAppear:T,onAppear:C,onAfterAppear:U,onAppearCancelled:W}=t,J=String(e.key),at=Fm(n,e),vt=(mt,qt)=>{mt&&Ye(mt,i,9,qt)},Kt={mode:a,persisted:l,beforeEnter(mt){let qt=u;if(!n.isMounted)if(r)qt=T||u;else return;mt._leaveCb&&mt._leaveCb(!0);const Vt=at[J];Vt&&Ti(e,Vt)&&Vt.el._leaveCb&&Vt.el._leaveCb(),vt(qt,[mt])},enter(mt){let qt=f,Vt=d,_e=m;if(!n.isMounted)if(r)qt=C||f,Vt=U||d,_e=W||m;else return;let xt=!1;const At=mt._enterCb=cn=>{xt||(xt=!0,cn?vt(_e,[mt]):vt(Vt,[mt]),Kt.delayedLeave&&Kt.delayedLeave(),mt._enterCb=void 0)};qt?(qt(mt,At),qt.length<=1&&At()):At()},leave(mt,qt){const Vt=String(e.key);if(mt._enterCb&&mt._enterCb(!0),n.isUnmounting)return qt();vt(_,[mt]);let _e=!1;const xt=mt._leaveCb=At=>{_e||(_e=!0,qt(),At?vt(P,[mt]):vt(x,[mt]),mt._leaveCb=void 0,at[Vt]===e&&delete at[Vt])};at[Vt]=e,v?(v(mt,xt),v.length<=1&&xt()):xt()},clone(mt){return Oc(mt,t,n,i)}};return Kt}function cc(e){if(qa(e))return e=Es(e),e.children=null,e}function fd(e){return qa(e)?e.children?e.children[0]:void 0:e}function Bc(e,t){e.shapeFlag&6&&e.component?Bc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zm(e,t=!1){let n=[],i=0;for(let r=0;r<e.length;r++){const a=e[r];a.type===Ue?(a.patchFlag&128&&i++,n=n.concat(zm(a.children,t))):(t||a.type!==li)&&n.push(a)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function Um(e){return pt(e)?{setup:e,name:e.name}:e}const $c=e=>!!e.type.__asyncLoader,qa=e=>e.type.__isKeepAlive;function Sw(e,t){Vm(e,"a",t)}function kw(e,t){Vm(e,"da",t)}function Vm(e,t,n=fe){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Za(t,i,n),n){let r=n.parent;for(;r&&r.parent;)qa(r.parent.vnode)&&Iw(i,t,n,r),r=r.parent}}function Iw(e,t,n,i){const r=Za(t,e,i,!0);jm(()=>{qu(i[t],r)},n)}function Za(e,t,n=fe,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;$s(),Ts(n);const u=Ye(t,n,e,l);return Mi(),Vi(),u});return i?r.unshift(a):r.push(a),a}}const Un=e=>(t,n=fe)=>(!pa||e==="sp")&&Za(e,t,n),Pw=Un("bm"),Ka=Un("m"),Lw=Un("bu"),Mw=Un("u"),Hm=Un("bum"),jm=Un("um"),Nw=Un("sp"),Rw=Un("rtg"),Dw=Un("rtc");function Ow(e,t=fe){Za("ec",e,t)}let Fc=!0;function Bw(e){const t=Zm(e),n=e.proxy,i=e.ctx;Fc=!1,t.beforeCreate&&dd(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:l,watch:u,provide:f,inject:d,created:m,beforeMount:_,mounted:v,beforeUpdate:x,updated:P,activated:T,deactivated:C,beforeDestroy:U,beforeUnmount:W,destroyed:J,unmounted:at,render:vt,renderTracked:Kt,renderTriggered:mt,errorCaptured:qt,serverPrefetch:Vt,expose:_e,inheritAttrs:xt,components:At,directives:cn,filters:Ee}=t;if(d&&$w(d,i,null,e.appContext.config.unwrapInjectedRef),l)for(const St in l){const q=l[St];pt(q)&&(i[St]=q.bind(n))}if(r){const St=r.call(n,n);ue(St)&&(e.data=Fs(St))}if(Fc=!0,a)for(const St in a){const q=a[St],Te=pt(q)?q.bind(n,n):pt(q.get)?q.get.bind(n,n):rn,dt=!pt(q)&&pt(q.set)?q.set.bind(n):rn,Et=Ge({get:Te,set:dt});Object.defineProperty(i,St,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Qt=>Et.value=Qt})}if(u)for(const St in u)qm(u[St],i,n,St);if(f){const St=pt(f)?f.call(n):f;Reflect.ownKeys(St).forEach(q=>{Jo(q,St[q])})}m&&dd(m,e,"c");function bt(St,q){lt(q)?q.forEach(Te=>St(Te.bind(n))):q&&St(q.bind(n))}if(bt(Pw,_),bt(Ka,v),bt(Lw,x),bt(Mw,P),bt(Sw,T),bt(kw,C),bt(Ow,qt),bt(Dw,Kt),bt(Rw,mt),bt(Hm,W),bt(jm,at),bt(Nw,Vt),lt(_e))if(_e.length){const St=e.exposed||(e.exposed={});_e.forEach(q=>{Object.defineProperty(St,q,{get:()=>n[q],set:Te=>n[q]=Te})})}else e.exposed||(e.exposed={});vt&&e.render===rn&&(e.render=vt),xt!=null&&(e.inheritAttrs=xt),At&&(e.components=At),cn&&(e.directives=cn)}function $w(e,t,n=rn,i=!1){lt(e)&&(e=zc(e));for(const r in e){const a=e[r];let l;ue(a)?"default"in a?l=Dn(a.from||r,a.default,!0):l=Dn(a.from||r):l=Dn(a),ke(l)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[r]=l}}function dd(e,t,n){Ye(lt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function qm(e,t,n,i){const r=i.includes(".")?pg(n,i):()=>n[i];if(xe(e)){const a=t[e];pt(a)&&na(r,a)}else if(pt(e))na(r,e.bind(n));else if(ue(e))if(lt(e))e.forEach(a=>qm(a,t,n,i));else{const a=pt(e.handler)?e.handler.bind(n):t[e.handler];pt(a)&&na(r,a,e)}}function Zm(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let f;return u?f=u:!r.length&&!n&&!i?f=t:(f={},r.length&&r.forEach(d=>ha(f,d,l,!0)),ha(f,t,l)),a.set(t,f),f}function ha(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&ha(e,a,n,!0),r&&r.forEach(l=>ha(e,l,n,!0));for(const l in t)if(!(i&&l==="expose")){const u=Fw[l]||n&&n[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const Fw={data:pd,props:bi,emits:bi,methods:bi,computed:bi,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:bi,directives:bi,watch:Uw,provide:pd,inject:zw};function pd(e,t){return t?e?function(){return Le(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function zw(e,t){return bi(zc(e),zc(t))}function zc(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ne(e,t){return e?[...new Set([].concat(e,t))]:t}function bi(e,t){return e?Le(Le(Object.create(null),e),t):t}function Uw(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const i in t)n[i]=Ne(e[i],t[i]);return n}function Vw(e,t,n,i=!1){const r={},a={};ca(a,Wa,1),e.propsDefaults=Object.create(null),Km(e,t,r,a);for(const l in e.propsOptions[0])l in r||(r[l]=void 0);n?e.props=i?r:cw(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function Hw(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:l}}=e,u=Rt(r),[f]=e.propsOptions;let d=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let _=0;_<m.length;_++){let v=m[_];const x=t[v];if(f)if(Mt(a,v))x!==a[v]&&(a[v]=x,d=!0);else{const P=wn(v);r[P]=Uc(f,u,P,x,e,!1)}else x!==a[v]&&(a[v]=x,d=!0)}}}else{Km(e,t,r,a)&&(d=!0);let m;for(const _ in u)(!t||!Mt(t,_)&&((m=Bs(_))===_||!Mt(t,m)))&&(f?n&&(n[_]!==void 0||n[m]!==void 0)&&(r[_]=Uc(f,u,_,void 0,e,!0)):delete r[_]);if(a!==u)for(const _ in a)(!t||!Mt(t,_))&&(delete a[_],d=!0)}d&&On(e,"set","$attrs")}function Km(e,t,n,i){const[r,a]=e.propsOptions;let l=!1,u;if(t)for(let f in t){if(Qo(f))continue;const d=t[f];let m;r&&Mt(r,m=wn(f))?!a||!a.includes(m)?n[m]=d:(u||(u={}))[m]=d:ih(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,l=!0)}if(a){const f=Rt(n),d=u||jt;for(let m=0;m<a.length;m++){const _=a[m];n[_]=Uc(r,f,_,d[_],e,!Mt(d,_))}}return l}function Uc(e,t,n,i,r,a){const l=e[n];if(l!=null){const u=Mt(l,"default");if(u&&i===void 0){const f=l.default;if(l.type!==Function&&pt(f)){const{propsDefaults:d}=r;n in d?i=d[n]:(Ts(r),i=d[n]=f.call(null,t),Mi())}else i=f}l[0]&&(a&&!u?i=!1:l[1]&&(i===""||i===Bs(n))&&(i=!0))}return i}function Wm(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const a=e.props,l={},u=[];let f=!1;if(!pt(e)){const m=_=>{f=!0;const[v,x]=Wm(_,t,!0);Le(l,v),x&&u.push(...x)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!f)return i.set(e,ds),ds;if(lt(a))for(let m=0;m<a.length;m++){const _=wn(a[m]);md(_)&&(l[_]=jt)}else if(a)for(const m in a){const _=wn(m);if(md(_)){const v=a[m],x=l[_]=lt(v)||pt(v)?{type:v}:v;if(x){const P=vd(Boolean,x.type),T=vd(String,x.type);x[0]=P>-1,x[1]=T<0||P<T,(P>-1||Mt(x,"default"))&&u.push(_)}}}const d=[l,u];return i.set(e,d),d}function md(e){return e[0]!=="$"}function gd(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function _d(e,t){return gd(e)===gd(t)}function vd(e,t){return lt(t)?t.findIndex(n=>_d(n,e)):pt(t)&&_d(t,e)?0:-1}const Gm=e=>e[0]==="_"||e==="$stable",sh=e=>lt(e)?e.map(gn):[gn(e)],jw=(e,t,n)=>{const i=Fe((...r)=>sh(t(...r)),n);return i._c=!1,i},Ym=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Gm(r))continue;const a=e[r];if(pt(a))t[r]=jw(r,a,i);else if(a!=null){const l=sh(a);t[r]=()=>l}}},Xm=(e,t)=>{const n=sh(t);e.slots.default=()=>n},qw=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Rt(t),ca(t,"_",n)):Ym(t,e.slots={})}else e.slots={},t&&Xm(e,t);ca(e.slots,Wa,1)},Zw=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,l=jt;if(i.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:(Le(r,t),!n&&u===1&&delete r._):(a=!t.$stable,Ym(t,r)),l=t}else t&&(Xm(e,t),l={default:1});if(a)for(const u in r)!Gm(u)&&!(u in l)&&delete r[u]};function yi(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let l=0;l<r.length;l++){const u=r[l];a&&(u.oldValue=a[l].value);let f=u.dir[i];f&&($s(),Ye(f,n,8,[e.el,u,e,t]),Vi())}}function Qm(){return{app:null,config:{isNativeTag:S0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kw=0;function Ww(e,t){return function(i,r=null){r!=null&&!ue(r)&&(r=null);const a=Qm(),l=new Set;let u=!1;const f=a.app={_uid:Kw++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:bx,get config(){return a.config},set config(d){},use(d,...m){return l.has(d)||(d&&pt(d.install)?(l.add(d),d.install(f,...m)):pt(d)&&(l.add(d),d(f,...m))),f},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),f},component(d,m){return m?(a.components[d]=m,f):a.components[d]},directive(d,m){return m?(a.directives[d]=m,f):a.directives[d]},mount(d,m,_){if(!u){const v=wt(i,r);return v.appContext=a,m&&t?t(v,d):e(v,d,_),u=!0,f._container=d,d.__vue_app__=f,ah(v.component)||v.component.proxy}},unmount(){u&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return a.provides[d]=m,f}};return f}}function Vc(e,t,n,i,r=!1){if(lt(e)){e.forEach((v,x)=>Vc(v,t&&(lt(t)?t[x]:t),n,i,r));return}if($c(i)&&!r)return;const a=i.shapeFlag&4?ah(i.component)||i.component.proxy:i.el,l=r?null:a,{i:u,r:f}=e,d=t&&t.r,m=u.refs===jt?u.refs={}:u.refs,_=u.setupState;if(d!=null&&d!==f&&(xe(d)?(m[d]=null,Mt(_,d)&&(_[d]=null)):ke(d)&&(d.value=null)),pt(f))ii(f,u,12,[l,m]);else{const v=xe(f),x=ke(f);if(v||x){const P=()=>{if(e.f){const T=v?m[f]:f.value;r?lt(T)&&qu(T,a):lt(T)?T.includes(a)||T.push(a):v?m[f]=[a]:(f.value=[a],e.k&&(m[e.k]=f.value))}else v?(m[f]=l,Mt(_,f)&&(_[f]=l)):ke(f)&&(f.value=l,e.k&&(m[e.k]=l))};l?(P.id=-1,$e(P,n)):P()}}}const $e=Ew;function Gw(e){return Yw(e)}function Yw(e,t){const n=R0();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:l,createText:u,createComment:f,setText:d,setElementText:m,parentNode:_,nextSibling:v,setScopeId:x=rn,cloneNode:P,insertStaticContent:T}=e,C=(y,b,A,R=null,N=null,F=null,j=!1,B=null,V=!!b.dynamicChildren)=>{if(y===b)return;y&&!Ti(y,b)&&(R=K(y),Ut(y,N,F,!0),y=null),b.patchFlag===-2&&(V=!1,b.dynamicChildren=null);const{type:D,ref:Q,shapeFlag:G}=b;switch(D){case rh:U(y,b,A,R);break;case li:W(y,b,A,R);break;case ta:y==null&&J(b,A,R,j);break;case Ue:cn(y,b,A,R,N,F,j,B,V);break;default:G&1?Kt(y,b,A,R,N,F,j,B,V):G&6?Ee(y,b,A,R,N,F,j,B,V):(G&64||G&128)&&D.process(y,b,A,R,N,F,j,B,V,Dt)}Q!=null&&N&&Vc(Q,y&&y.ref,F,b||y,!b)},U=(y,b,A,R)=>{if(y==null)i(b.el=u(b.children),A,R);else{const N=b.el=y.el;b.children!==y.children&&d(N,b.children)}},W=(y,b,A,R)=>{y==null?i(b.el=f(b.children||""),A,R):b.el=y.el},J=(y,b,A,R)=>{[y.el,y.anchor]=T(y.children,b,A,R)},at=({el:y,anchor:b},A,R)=>{let N;for(;y&&y!==b;)N=v(y),i(y,A,R),y=N;i(b,A,R)},vt=({el:y,anchor:b})=>{let A;for(;y&&y!==b;)A=v(y),r(y),y=A;r(b)},Kt=(y,b,A,R,N,F,j,B,V)=>{j=j||b.type==="svg",y==null?mt(b,A,R,N,F,j,B,V):_e(y,b,N,F,j,B,V)},mt=(y,b,A,R,N,F,j,B)=>{let V,D;const{type:Q,props:G,shapeFlag:tt,transition:rt,patchFlag:gt,dirs:Ft}=y;if(y.el&&P!==void 0&&gt===-1)V=y.el=P(y.el);else{if(V=y.el=l(y.type,F,G&&G.is,G),tt&8?m(V,y.children):tt&16&&Vt(y.children,V,null,R,N,F&&Q!=="foreignObject",j,B),Ft&&yi(y,null,R,"created"),G){for(const zt in G)zt!=="value"&&!Qo(zt)&&a(V,zt,null,G[zt],F,y.children,R,N,$);"value"in G&&a(V,"value",null,G.value),(D=G.onVnodeBeforeMount)&&mn(D,R,y)}qt(V,y,y.scopeId,j,R)}Ft&&yi(y,null,R,"beforeMount");const It=(!N||N&&!N.pendingBranch)&&rt&&!rt.persisted;It&&rt.beforeEnter(V),i(V,b,A),((D=G&&G.onVnodeMounted)||It||Ft)&&$e(()=>{D&&mn(D,R,y),It&&rt.enter(V),Ft&&yi(y,null,R,"mounted")},N)},qt=(y,b,A,R,N)=>{if(A&&x(y,A),R)for(let F=0;F<R.length;F++)x(y,R[F]);if(N){let F=N.subTree;if(b===F){const j=N.vnode;qt(y,j,j.scopeId,j.slotScopeIds,N.parent)}}},Vt=(y,b,A,R,N,F,j,B,V=0)=>{for(let D=V;D<y.length;D++){const Q=y[D]=B?Qn(y[D]):gn(y[D]);C(null,Q,b,A,R,N,F,j,B)}},_e=(y,b,A,R,N,F,j)=>{const B=b.el=y.el;let{patchFlag:V,dynamicChildren:D,dirs:Q}=b;V|=y.patchFlag&16;const G=y.props||jt,tt=b.props||jt;let rt;A&&wi(A,!1),(rt=tt.onVnodeBeforeUpdate)&&mn(rt,A,b,y),Q&&yi(b,y,A,"beforeUpdate"),A&&wi(A,!0);const gt=N&&b.type!=="foreignObject";if(D?xt(y.dynamicChildren,D,B,A,R,gt,F):j||Te(y,b,B,null,A,R,gt,F,!1),V>0){if(V&16)At(B,b,G,tt,A,R,N);else if(V&2&&G.class!==tt.class&&a(B,"class",null,tt.class,N),V&4&&a(B,"style",G.style,tt.style,N),V&8){const Ft=b.dynamicProps;for(let It=0;It<Ft.length;It++){const zt=Ft[It],Be=G[zt],En=tt[zt];(En!==Be||zt==="value")&&a(B,zt,Be,En,N,y.children,A,R,$)}}V&1&&y.children!==b.children&&m(B,b.children)}else!j&&D==null&&At(B,b,G,tt,A,R,N);((rt=tt.onVnodeUpdated)||Q)&&$e(()=>{rt&&mn(rt,A,b,y),Q&&yi(b,y,A,"updated")},R)},xt=(y,b,A,R,N,F,j)=>{for(let B=0;B<b.length;B++){const V=y[B],D=b[B],Q=V.el&&(V.type===Ue||!Ti(V,D)||V.shapeFlag&70)?_(V.el):A;C(V,D,Q,null,R,N,F,j,!0)}},At=(y,b,A,R,N,F,j)=>{if(A!==R){for(const B in R){if(Qo(B))continue;const V=R[B],D=A[B];V!==D&&B!=="value"&&a(y,B,D,V,j,b.children,N,F,$)}if(A!==jt)for(const B in A)!Qo(B)&&!(B in R)&&a(y,B,A[B],null,j,b.children,N,F,$);"value"in R&&a(y,"value",A.value,R.value)}},cn=(y,b,A,R,N,F,j,B,V)=>{const D=b.el=y?y.el:u(""),Q=b.anchor=y?y.anchor:u("");let{patchFlag:G,dynamicChildren:tt,slotScopeIds:rt}=b;rt&&(B=B?B.concat(rt):rt),y==null?(i(D,A,R),i(Q,A,R),Vt(b.children,A,Q,N,F,j,B,V)):G>0&&G&64&&tt&&y.dynamicChildren?(xt(y.dynamicChildren,tt,A,N,F,j,B),(b.key!=null||N&&b===N.subTree)&&Jm(y,b,!0)):Te(y,b,A,Q,N,F,j,B,V)},Ee=(y,b,A,R,N,F,j,B,V)=>{b.slotScopeIds=B,y==null?b.shapeFlag&512?N.ctx.activate(b,A,R,j,V):Hn(b,A,R,N,F,j,V):bt(y,b,V)},Hn=(y,b,A,R,N,F,j)=>{const B=y.component=lx(y,R,N);if(qa(y)&&(B.ctx.renderer=Dt),ux(B),B.asyncDep){if(N&&N.registerDep(B,St),!y.el){const V=B.subTree=wt(li);W(null,V,b,A)}return}St(B,y,b,A,N,F,j)},bt=(y,b,A)=>{const R=b.component=y.component;if(ww(y,b,A))if(R.asyncDep&&!R.asyncResolved){q(R,b,A);return}else R.next=b,vx(R.update),R.update();else b.component=y.component,b.el=y.el,R.vnode=b},St=(y,b,A,R,N,F,j)=>{const B=()=>{if(y.isMounted){let{next:Q,bu:G,u:tt,parent:rt,vnode:gt}=y,Ft=Q,It;wi(y,!1),Q?(Q.el=gt.el,q(y,Q,j)):Q=gt,G&&ac(G),(It=Q.props&&Q.props.onVnodeBeforeUpdate)&&mn(It,rt,Q,gt),wi(y,!0);const zt=lc(y),Be=y.subTree;y.subTree=zt,C(Be,zt,_(Be.el),K(Be),y,N,F),Q.el=zt.el,Ft===null&&xw(y,zt.el),tt&&$e(tt,N),(It=Q.props&&Q.props.onVnodeUpdated)&&$e(()=>mn(It,rt,Q,gt),N)}else{let Q;const{el:G,props:tt}=b,{bm:rt,m:gt,parent:Ft}=y,It=$c(b);if(wi(y,!1),rt&&ac(rt),!It&&(Q=tt&&tt.onVnodeBeforeMount)&&mn(Q,Ft,b),wi(y,!0),G&&st){const zt=()=>{y.subTree=lc(y),st(G,y.subTree,y,N,null)};It?b.type.__asyncLoader().then(()=>!y.isUnmounted&&zt()):zt()}else{const zt=y.subTree=lc(y);C(null,zt,A,R,y,N,F),b.el=zt.el}if(gt&&$e(gt,N),!It&&(Q=tt&&tt.onVnodeMounted)){const zt=b;$e(()=>mn(Q,Ft,zt),N)}b.shapeFlag&256&&y.a&&$e(y.a,N),y.isMounted=!0,b=A=R=null}},V=y.effect=new Gu(B,()=>lg(y.update),y.scope),D=y.update=V.run.bind(V);D.id=y.uid,wi(y,!0),D()},q=(y,b,A)=>{b.component=y;const R=y.vnode.props;y.vnode=b,y.next=null,Hw(y,b.props,R,A),Zw(y,b.children,A),$s(),ch(void 0,y.update),Vi()},Te=(y,b,A,R,N,F,j,B,V=!1)=>{const D=y&&y.children,Q=y?y.shapeFlag:0,G=b.children,{patchFlag:tt,shapeFlag:rt}=b;if(tt>0){if(tt&128){Et(D,G,A,R,N,F,j,B,V);return}else if(tt&256){dt(D,G,A,R,N,F,j,B,V);return}}rt&8?(Q&16&&$(D,N,F),G!==D&&m(A,G)):Q&16?rt&16?Et(D,G,A,R,N,F,j,B,V):$(D,N,F,!0):(Q&8&&m(A,""),rt&16&&Vt(G,A,R,N,F,j,B,V))},dt=(y,b,A,R,N,F,j,B,V)=>{y=y||ds,b=b||ds;const D=y.length,Q=b.length,G=Math.min(D,Q);let tt;for(tt=0;tt<G;tt++){const rt=b[tt]=V?Qn(b[tt]):gn(b[tt]);C(y[tt],rt,A,null,N,F,j,B,V)}D>Q?$(y,N,F,!0,!1,G):Vt(b,A,R,N,F,j,B,V,G)},Et=(y,b,A,R,N,F,j,B,V)=>{let D=0;const Q=b.length;let G=y.length-1,tt=Q-1;for(;D<=G&&D<=tt;){const rt=y[D],gt=b[D]=V?Qn(b[D]):gn(b[D]);if(Ti(rt,gt))C(rt,gt,A,null,N,F,j,B,V);else break;D++}for(;D<=G&&D<=tt;){const rt=y[G],gt=b[tt]=V?Qn(b[tt]):gn(b[tt]);if(Ti(rt,gt))C(rt,gt,A,null,N,F,j,B,V);else break;G--,tt--}if(D>G){if(D<=tt){const rt=tt+1,gt=rt<Q?b[rt].el:R;for(;D<=tt;)C(null,b[D]=V?Qn(b[D]):gn(b[D]),A,gt,N,F,j,B,V),D++}}else if(D>tt)for(;D<=G;)Ut(y[D],N,F,!0),D++;else{const rt=D,gt=D,Ft=new Map;for(D=gt;D<=tt;D++){const Ht=b[D]=V?Qn(b[D]):gn(b[D]);Ht.key!=null&&Ft.set(Ht.key,D)}let It,zt=0;const Be=tt-gt+1;let En=!1,ji=0;const Tn=new Array(Be);for(D=0;D<Be;D++)Tn[D]=0;for(D=rt;D<=G;D++){const Ht=y[D];if(zt>=Be){Ut(Ht,N,F,!0);continue}let ve;if(Ht.key!=null)ve=Ft.get(Ht.key);else for(It=gt;It<=tt;It++)if(Tn[It-gt]===0&&Ti(Ht,b[It])){ve=It;break}ve===void 0?Ut(Ht,N,F,!0):(Tn[ve-gt]=D+1,ve>=ji?ji=ve:En=!0,C(Ht,b[ve],A,null,N,F,j,B,V),zt++)}const Gs=En?Xw(Tn):ds;for(It=Gs.length-1,D=Be-1;D>=0;D--){const Ht=gt+D,ve=b[Ht],ho=Ht+1<Q?b[Ht+1].el:R;Tn[D]===0?C(null,ve,A,ho,N,F,j,B,V):En&&(It<0||D!==Gs[It]?Qt(ve,A,ho,2):It--)}}},Qt=(y,b,A,R,N=null)=>{const{el:F,type:j,transition:B,children:V,shapeFlag:D}=y;if(D&6){Qt(y.component.subTree,b,A,R);return}if(D&128){y.suspense.move(b,A,R);return}if(D&64){j.move(y,b,A,Dt);return}if(j===Ue){i(F,b,A);for(let G=0;G<V.length;G++)Qt(V[G],b,A,R);i(y.anchor,b,A);return}if(j===ta){at(y,b,A);return}if(R!==2&&D&1&&B)if(R===0)B.beforeEnter(F),i(F,b,A),$e(()=>B.enter(F),N);else{const{leave:G,delayLeave:tt,afterLeave:rt}=B,gt=()=>i(F,b,A),Ft=()=>{G(F,()=>{gt(),rt&&rt()})};tt?tt(F,gt,Ft):Ft()}else i(F,b,A)},Ut=(y,b,A,R=!1,N=!1)=>{const{type:F,props:j,ref:B,children:V,dynamicChildren:D,shapeFlag:Q,patchFlag:G,dirs:tt}=y;if(B!=null&&Vc(B,null,A,y,!0),Q&256){b.ctx.deactivate(y);return}const rt=Q&1&&tt,gt=!$c(y);let Ft;if(gt&&(Ft=j&&j.onVnodeBeforeUnmount)&&mn(Ft,b,y),Q&6)H(y.component,A,R);else{if(Q&128){y.suspense.unmount(A,R);return}rt&&yi(y,null,b,"beforeUnmount"),Q&64?y.type.remove(y,b,A,N,Dt,R):D&&(F!==Ue||G>0&&G&64)?$(D,b,A,!1,!0):(F===Ue&&G&384||!N&&Q&16)&&$(V,b,A),R&&Wt(y)}(gt&&(Ft=j&&j.onVnodeUnmounted)||rt)&&$e(()=>{Ft&&mn(Ft,b,y),rt&&yi(y,null,b,"unmounted")},A)},Wt=y=>{const{type:b,el:A,anchor:R,transition:N}=y;if(b===Ue){k(A,R);return}if(b===ta){vt(y);return}const F=()=>{r(A),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(y.shapeFlag&1&&N&&!N.persisted){const{leave:j,delayLeave:B}=N,V=()=>j(A,F);B?B(y.el,F,V):V()}else F()},k=(y,b)=>{let A;for(;y!==b;)A=v(y),r(y),y=A;r(b)},H=(y,b,A)=>{const{bum:R,scope:N,update:F,subTree:j,um:B}=y;R&&ac(R),N.stop(),F&&(F.active=!1,Ut(j,y,b,A)),B&&$e(B,b),$e(()=>{y.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},$=(y,b,A,R=!1,N=!1,F=0)=>{for(let j=F;j<y.length;j++)Ut(y[j],b,A,R,N)},K=y=>y.shapeFlag&6?K(y.component.subTree):y.shapeFlag&128?y.suspense.next():v(y.anchor||y.el),kt=(y,b,A)=>{y==null?b._vnode&&Ut(b._vnode,null,null,!0):C(b._vnode||null,y,b,null,null,null,A),hg(),b._vnode=y},Dt={p:C,um:Ut,m:Qt,r:Wt,mt:Hn,mc:Vt,pc:Te,pbc:xt,n:K,o:e};let ct,st;return t&&([ct,st]=t(Dt)),{render:kt,hydrate:ct,createApp:Ww(kt,ct)}}function wi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Jm(e,t,n=!1){const i=e.children,r=t.children;if(lt(i)&&lt(r))for(let a=0;a<i.length;a++){const l=i[a];let u=r[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[a]=Qn(r[a]),u.el=l.el),n||Jm(l,u))}}function Xw(e){const t=e.slice(),n=[0];let i,r,a,l,u;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(r=n[n.length-1],e[r]<d){t[i]=r,n.push(i);continue}for(a=0,l=n.length-1;a<l;)u=a+l>>1,e[n[u]]<d?a=u+1:l=u;d<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}const Qw=e=>e.__isTeleport,tg="components";function zs(e,t){return tx(tg,e,!0,t)||e}const Jw=Symbol();function tx(e,t,n=!0,i=!1){const r=sn||fe;if(r){const a=r.type;if(e===tg){const u=px(a);if(u&&(u===t||u===wn(t)||u===Va(wn(t))))return a}const l=yd(r[e]||a[e],t)||yd(r.appContext[e],t);return!l&&i?a:l}}function yd(e,t){return e&&(e[t]||e[wn(t)]||e[Va(wn(t))])}const Ue=Symbol(void 0),rh=Symbol(void 0),li=Symbol(void 0),ta=Symbol(void 0),yr=[];let Li=null;function Xt(e=!1){yr.push(Li=e?null:[])}function ex(){yr.pop(),Li=yr[yr.length-1]||null}let fa=1;function wd(e){fa+=e}function eg(e){return e.dynamicChildren=fa>0?Li||ds:null,ex(),fa>0&&Li&&Li.push(e),e}function ne(e,t,n,i,r,a){return eg(I(e,t,n,i,r,a,!0))}function xd(e,t,n,i,r){return eg(wt(e,t,n,i,r,!0))}function Hc(e){return e?e.__v_isVNode===!0:!1}function Ti(e,t){return e.type===t.type&&e.key===t.key}const Wa="__vInternal",ng=({key:e})=>e!=null?e:null,ea=({ref:e,ref_key:t,ref_for:n})=>e!=null?xe(e)||ke(e)||pt(e)?{i:sn,r:e,k:t,f:!!n}:e:null;function I(e,t=null,n=null,i=0,r=null,a=e===Ue?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ng(t),ref:t&&ea(t),scopeId:ja,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return u?(oh(f,n),a&128&&e.normalize(f)):n&&(f.shapeFlag|=xe(n)?8:16),fa>0&&!l&&Li&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Li.push(f),f}const wt=nx;function nx(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===Jw)&&(e=li),Hc(e)){const u=Es(e,t,!0);return n&&oh(u,n),u}if(mx(e)&&(e=e.__vccOpts),t){t=ix(t);let{class:u,style:f}=t;u&&!xe(u)&&(t.class=Hu(u)),ue(f)&&(Pm(f)&&!lt(f)&&(f=Le({},f)),t.style=Vu(f))}const l=xe(e)?1:bw(e)?128:Qw(e)?64:ue(e)?4:pt(e)?2:0;return I(e,t,n,i,r,l,a,!0)}function ix(e){return e?Pm(e)||Wa in e?Le({},e):e:null}function Es(e,t,n=!1){const{props:i,ref:r,patchFlag:a,children:l}=e,u=t?sx(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ng(u),ref:t&&t.ref?n&&r?lt(r)?r.concat(ea(t)):[r,ea(t)]:ea(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ue?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Es(e.ssContent),ssFallback:e.ssFallback&&Es(e.ssFallback),el:e.el,anchor:e.anchor}}function Oe(e=" ",t=0){return wt(rh,null,e,t)}function Vn(e,t){const n=wt(ta,null,e);return n.staticCount=t,n}function gn(e){return e==null||typeof e=="boolean"?wt(li):lt(e)?wt(Ue,null,e.slice()):typeof e=="object"?Qn(e):wt(rh,null,String(e))}function Qn(e){return e.el===null||e.memo?e:Es(e)}function oh(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(lt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),oh(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Wa in t)?t._ctx=sn:r===3&&sn&&(sn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:sn},n=32):(t=String(t),i&64?(n=16,t=[Oe(t)]):n=8);e.children=t,e.shapeFlag|=n}function sx(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Hu([t.class,i.class]));else if(r==="style")t.style=Vu([t.style,i.style]);else if(Fa(r)){const a=t[r],l=i[r];a!==l&&!(lt(a)&&a.includes(l))&&(t[r]=a?[].concat(a,l):l)}else r!==""&&(t[r]=i[r])}return t}function mn(e,t,n,i=null){Ye(e,t,7,[n,i])}function ig(e,t,n,i){let r;const a=n&&n[i];if(lt(e)||xe(e)){r=new Array(e.length);for(let l=0,u=e.length;l<u;l++)r[l]=t(e[l],l,void 0,a&&a[l])}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,a&&a[l])}else if(ue(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,a&&a[u]));else{const l=Object.keys(e);r=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const d=l[u];r[u]=t(e[d],d,u,a&&a[u])}}else r=[];return n&&(n[i]=r),r}const jc=e=>e?sg(e)?ah(e)||e.proxy:jc(e.parent):null,da=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jc(e.parent),$root:e=>jc(e.root),$emit:e=>e.emit,$options:e=>Zm(e),$forceUpdate:e=>()=>lg(e.update),$nextTick:e=>ag.bind(e.proxy),$watch:e=>xx.bind(e)}),rx={get({_:e},t){const{ctx:n,setupState:i,data:r,props:a,accessCache:l,type:u,appContext:f}=e;let d;if(t[0]!=="$"){const x=l[t];if(x!==void 0)switch(x){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(i!==jt&&Mt(i,t))return l[t]=1,i[t];if(r!==jt&&Mt(r,t))return l[t]=2,r[t];if((d=e.propsOptions[0])&&Mt(d,t))return l[t]=3,a[t];if(n!==jt&&Mt(n,t))return l[t]=4,n[t];Fc&&(l[t]=0)}}const m=da[t];let _,v;if(m)return t==="$attrs"&&He(e,"get",t),m(e);if((_=u.__cssModules)&&(_=_[t]))return _;if(n!==jt&&Mt(n,t))return l[t]=4,n[t];if(v=f.config.globalProperties,Mt(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;if(r!==jt&&Mt(r,t))r[t]=n;else if(i!==jt&&Mt(i,t))i[t]=n;else if(Mt(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},l){let u;return!!n[l]||e!==jt&&Mt(e,l)||t!==jt&&Mt(t,l)||(u=a[0])&&Mt(u,l)||Mt(i,l)||Mt(da,l)||Mt(r.config.globalProperties,l)}},ox=Qm();let ax=0;function lx(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||ox,a={uid:ax++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new D0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wm(i,r),emitsOptions:Om(i,r),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:i.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=_w.bind(null,a),e.ce&&e.ce(a),a}let fe=null;const cx=()=>fe||sn,Ts=e=>{fe=e,e.scope.on()},Mi=()=>{fe&&fe.scope.off(),fe=null};function sg(e){return e.vnode.shapeFlag&4}let pa=!1;function ux(e,t=!1){pa=t;const{props:n,children:i}=e.vnode,r=sg(e);Vw(e,n,r,t),qw(e,i);const a=r?hx(e,t):void 0;return pa=!1,a}function hx(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Lm(new Proxy(e.ctx,rx));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?dx(e):null;Ts(e),$s();const a=ii(i,e,0,[e.props,r]);if(Vi(),Mi(),gm(a)){if(a.then(Mi,Mi),t)return a.then(l=>{bd(e,l,t)}).catch(l=>{Ga(l,e,0)});e.asyncDep=a}else bd(e,a,t)}else rg(e,t)}function bd(e,t,n){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ue(t)&&(e.setupState=Dm(t)),rg(e,n)}let Ed;function rg(e,t,n){const i=e.type;if(!e.render){if(!t&&Ed&&!i.render){const r=i.template;if(r){const{isCustomElement:a,compilerOptions:l}=e.appContext.config,{delimiters:u,compilerOptions:f}=i,d=Le(Le({isCustomElement:a,delimiters:u},l),f);i.render=Ed(r,d)}}e.render=i.render||rn}Ts(e),$s(),Bw(e),Vi(),Mi()}function fx(e){return new Proxy(e.attrs,{get(t,n){return He(e,"get","$attrs"),t[n]}})}function dx(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=fx(e))},slots:e.slots,emit:e.emit,expose:t}}function ah(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dm(Lm(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in da)return da[n](e)}}))}function px(e){return pt(e)&&e.displayName||e.name}function mx(e){return pt(e)&&"__vccOpts"in e}function ii(e,t,n,i){let r;try{r=i?e(...i):e()}catch(a){Ga(a,t,n)}return r}function Ye(e,t,n,i){if(pt(e)){const a=ii(e,t,n,i);return a&&gm(a)&&a.catch(l=>{Ga(l,t,n)}),a}const r=[];for(let a=0;a<e.length;a++)r.push(Ye(e[a],t,n,i));return r}function Ga(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let a=t.parent;const l=t.proxy,u=n;for(;a;){const d=a.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,l,u)===!1)return}a=a.parent}const f=t.appContext.config.errorHandler;if(f){ii(f,null,10,[e,l,u]);return}}gx(e,n,r,i)}function gx(e,t,n,i=!0){console.error(e)}let ma=!1,qc=!1;const Ve=[];let Nn=0;const wr=[];let dr=null,os=0;const xr=[];let Xn=null,as=0;const og=Promise.resolve();let lh=null,Zc=null;function ag(e){const t=lh||og;return e?t.then(this?e.bind(this):e):t}function _x(e){let t=Nn+1,n=Ve.length;for(;t<n;){const i=t+n>>>1;Lr(Ve[i])<e?t=i+1:n=i}return t}function lg(e){(!Ve.length||!Ve.includes(e,ma&&e.allowRecurse?Nn+1:Nn))&&e!==Zc&&(e.id==null?Ve.push(e):Ve.splice(_x(e.id),0,e),cg())}function cg(){!ma&&!qc&&(qc=!0,lh=og.then(fg))}function vx(e){const t=Ve.indexOf(e);t>Nn&&Ve.splice(t,1)}function ug(e,t,n,i){lt(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&n.push(e),cg()}function yx(e){ug(e,dr,wr,os)}function wx(e){ug(e,Xn,xr,as)}function ch(e,t=null){if(wr.length){for(Zc=t,dr=[...new Set(wr)],wr.length=0,os=0;os<dr.length;os++)dr[os]();dr=null,os=0,Zc=null,ch(e,t)}}function hg(e){if(xr.length){const t=[...new Set(xr)];if(xr.length=0,Xn){Xn.push(...t);return}for(Xn=t,Xn.sort((n,i)=>Lr(n)-Lr(i)),as=0;as<Xn.length;as++)Xn[as]();Xn=null,as=0}}const Lr=e=>e.id==null?1/0:e.id;function fg(e){qc=!1,ma=!0,ch(e),Ve.sort((n,i)=>Lr(n)-Lr(i));const t=rn;try{for(Nn=0;Nn<Ve.length;Nn++){const n=Ve[Nn];n&&n.active!==!1&&ii(n,null,14)}}finally{Nn=0,Ve.length=0,hg(),ma=!1,lh=null,(Ve.length||wr.length||xr.length)&&fg(e)}}const Td={};function na(e,t,n){return dg(e,t,n)}function dg(e,t,{immediate:n,deep:i,flush:r,onTrack:a,onTrigger:l}=jt){const u=fe;let f,d=!1,m=!1;if(ke(e)?(f=()=>e.value,d=!!e._shallow):ms(e)?(f=()=>e,i=!0):lt(e)?(m=!0,d=e.some(ms),f=()=>e.map(U=>{if(ke(U))return U.value;if(ms(U))return hs(U);if(pt(U))return ii(U,u,2)})):pt(e)?t?f=()=>ii(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return _&&_(),Ye(e,u,3,[v])}:f=rn,t&&i){const U=f;f=()=>hs(U())}let _,v=U=>{_=C.onStop=()=>{ii(U,u,4)}};if(pa)return v=rn,t?n&&Ye(t,u,3,[f(),m?[]:void 0,v]):f(),rn;let x=m?[]:Td;const P=()=>{if(!!C.active)if(t){const U=C.run();(i||d||(m?U.some((W,J)=>Ir(W,x[J])):Ir(U,x)))&&(_&&_(),Ye(t,u,3,[U,x===Td?void 0:x,v]),x=U)}else C.run()};P.allowRecurse=!!t;let T;r==="sync"?T=P:r==="post"?T=()=>$e(P,u&&u.suspense):T=()=>{!u||u.isMounted?yx(P):P()};const C=new Gu(f,T);return t?n?P():x=C.run():r==="post"?$e(C.run.bind(C),u&&u.suspense):C.run(),()=>{C.stop(),u&&u.scope&&qu(u.scope.effects,C)}}function xx(e,t,n){const i=this.proxy,r=xe(e)?e.includes(".")?pg(i,e):()=>i[e]:e.bind(i,i);let a;pt(t)?a=t:(a=t.handler,n=t);const l=fe;Ts(this);const u=dg(r,a.bind(i),n);return l?Ts(l):Mi(),u}function pg(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function hs(e,t){if(!ue(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ke(e))hs(e.value,t);else if(lt(e))for(let n=0;n<e.length;n++)hs(e[n],t);else if(mm(e)||ps(e))e.forEach(n=>{hs(n,t)});else if(vm(e))for(const n in e)hs(e[n],t);return e}function mg(e,t,n){const i=arguments.length;return i===2?ue(t)&&!lt(t)?Hc(t)?wt(e,null,[t]):wt(e,t):wt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Hc(n)&&(n=[n]),wt(e,t,n))}const bx="3.2.26",Ex="http://www.w3.org/2000/svg",ss=typeof document!="undefined"?document:null,Cd=new Map,Tx={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?ss.createElementNS(Ex,e):ss.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>ss.createTextNode(e),createComment:e=>ss.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ss.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i){const r=n?n.previousSibling:t.lastChild;let a=Cd.get(e);if(!a){const l=ss.createElement("template");if(l.innerHTML=i?`<svg>${e}</svg>`:e,a=l.content,i){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}Cd.set(e,a)}return t.insertBefore(a.cloneNode(!0),n),[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Cx(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ax(e,t,n){const i=e.style,r=xe(n);if(n&&!r){for(const a in n)Kc(i,a,n[a]);if(t&&!xe(t))for(const a in t)n[a]==null&&Kc(i,a,"")}else{const a=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const Ad=/\s*!important$/;function Kc(e,t,n){if(lt(n))n.forEach(i=>Kc(e,t,i));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=Sx(e,t);Ad.test(n)?e.setProperty(Bs(i),n.replace(Ad,""),"important"):e[i]=n}}const Sd=["Webkit","Moz","ms"],uc={};function Sx(e,t){const n=uc[t];if(n)return n;let i=wn(t);if(i!=="filter"&&i in e)return uc[t]=i;i=Va(i);for(let r=0;r<Sd.length;r++){const a=Sd[r]+i;if(a in e)return uc[t]=a}return t}const kd="http://www.w3.org/1999/xlink";function kx(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(kd,t.slice(6,t.length)):e.setAttributeNS(kd,t,n);else{const a=E0(t);n==null||a&&!dm(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function Ix(e,t,n,i,r,a,l){if(t==="innerHTML"||t==="textContent"){i&&l(i,r,a),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const u=typeof e[t];if(u==="boolean"){e[t]=dm(n);return}else if(n==null&&u==="string"){e[t]="",e.removeAttribute(t);return}else if(u==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let ga=Date.now,gg=!1;if(typeof window!="undefined"){ga()>document.createEvent("Event").timeStamp&&(ga=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);gg=!!(e&&Number(e[1])<=53)}let Wc=0;const Px=Promise.resolve(),Lx=()=>{Wc=0},Mx=()=>Wc||(Px.then(Lx),Wc=ga());function Nx(e,t,n,i){e.addEventListener(t,n,i)}function Rx(e,t,n,i){e.removeEventListener(t,n,i)}function Dx(e,t,n,i,r=null){const a=e._vei||(e._vei={}),l=a[t];if(i&&l)l.value=i;else{const[u,f]=Ox(t);if(i){const d=a[t]=Bx(i,r);Nx(e,u,d,f)}else l&&(Rx(e,u,l,f),a[t]=void 0)}}const Id=/(?:Once|Passive|Capture)$/;function Ox(e){let t;if(Id.test(e)){t={};let n;for(;n=e.match(Id);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Bs(e.slice(2)),t]}function Bx(e,t){const n=i=>{const r=i.timeStamp||ga();(gg||r>=n.attached-1)&&Ye($x(i,n.value),t,5,[i])};return n.value=e,n.attached=Mx(),n}function $x(e,t){if(lt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i(r))}else return t}const Pd=/^on[a-z]/,Fx=(e,t,n,i,r=!1,a,l,u,f)=>{t==="class"?Cx(e,i,r):t==="style"?Ax(e,n,i):Fa(t)?ju(t)||Dx(e,t,n,i,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zx(e,t,i,r))?Ix(e,t,i,a,l,u,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),kx(e,t,i,r))};function zx(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Pd.test(t)&&pt(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Pd.test(t)&&xe(n)?!1:t in e}const Ux={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Aw.props;const Vx=Le({patchProp:Fx},Tx);let Ld;function Hx(){return Ld||(Ld=Gw(Vx))}const jx=(...e)=>{const t=Hx().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=qx(i);if(!r)return;const a=t._component;!pt(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const l=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},t};function qx(e){return xe(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ls=typeof window!="undefined";function Zx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Bt=Object.assign;function hc(e,t){const n={};for(const i in t){const r=t[i];n[i]=on(r)?r.map(e):e(r)}return n}const br=()=>{},on=Array.isArray,Kx=/\/$/,Wx=e=>e.replace(Kx,"");function fc(e,t,n="/"){let i,r={},a="",l="";const u=t.indexOf("#");let f=t.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(i=t.slice(0,f),a=t.slice(f+1,u>-1?u:t.length),r=e(a)),u>-1&&(i=i||t.slice(0,u),l=t.slice(u,t.length)),i=Qx(i!=null?i:t,n),{fullPath:i+(a&&"?")+a+l,path:i,query:r,hash:l}}function Gx(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Md(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Yx(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Cs(t.matched[i],n.matched[r])&&_g(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _g(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Xx(e[n],t[n]))return!1;return!0}function Xx(e,t){return on(e)?Nd(e,t):on(t)?Nd(t,e):e===t}function Nd(e,t){return on(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Qx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Mr;(function(e){e.pop="pop",e.push="push"})(Mr||(Mr={}));var Er;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Er||(Er={}));function Jx(e){if(!e)if(ls){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Wx(e)}const tb=/^[^#]+#/;function eb(e,t){return e.replace(tb,"#")+t}function nb(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Ya=()=>({left:window.pageXOffset,top:window.pageYOffset});function ib(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=nb(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Rd(e,t){return(history.state?history.state.position-t:-1)+e}const Gc=new Map;function sb(e,t){Gc.set(e,t)}function rb(e){const t=Gc.get(e);return Gc.delete(e),t}let ob=()=>location.protocol+"//"+location.host;function vg(e,t){const{pathname:n,search:i,hash:r}=t,a=e.indexOf("#");if(a>-1){let u=r.includes(e.slice(a))?e.slice(a).length:1,f=r.slice(u);return f[0]!=="/"&&(f="/"+f),Md(f,"")}return Md(n,e)+i+r}function ab(e,t,n,i){let r=[],a=[],l=null;const u=({state:v})=>{const x=vg(e,location),P=n.value,T=t.value;let C=0;if(v){if(n.value=x,t.value=v,l&&l===P){l=null;return}C=T?v.position-T.position:0}else i(x);r.forEach(U=>{U(n.value,P,{delta:C,type:Mr.pop,direction:C?C>0?Er.forward:Er.back:Er.unknown})})};function f(){l=n.value}function d(v){r.push(v);const x=()=>{const P=r.indexOf(v);P>-1&&r.splice(P,1)};return a.push(x),x}function m(){const{history:v}=window;!v.state||v.replaceState(Bt({},v.state,{scroll:Ya()}),"")}function _(){for(const v of a)v();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",m),{pauseListeners:f,listen:d,destroy:_}}function Dd(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Ya():null}}function lb(e){const{history:t,location:n}=window,i={value:vg(e,n)},r={value:t.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,d,m){const _=e.indexOf("#"),v=_>-1?(n.host&&document.querySelector("base")?e:e.slice(_))+f:ob()+e+f;try{t[m?"replaceState":"pushState"](d,"",v),r.value=d}catch(x){console.error(x),n[m?"replace":"assign"](v)}}function l(f,d){const m=Bt({},t.state,Dd(r.value.back,f,r.value.forward,!0),d,{position:r.value.position});a(f,m,!0),i.value=f}function u(f,d){const m=Bt({},r.value,t.state,{forward:f,scroll:Ya()});a(m.current,m,!0);const _=Bt({},Dd(i.value,f,null),{position:m.position+1},d);a(f,_,!1),i.value=f}return{location:i,state:r,push:u,replace:l}}function cb(e){e=Jx(e);const t=lb(e),n=ab(e,t.state,t.location,t.replace);function i(a,l=!0){l||n.pauseListeners(),history.go(a)}const r=Bt({location:"",base:e,go:i,createHref:eb.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function ub(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),cb(e)}function hb(e){return typeof e=="string"||e&&typeof e=="object"}function yg(e){return typeof e=="string"||typeof e=="symbol"}const Yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wg=Symbol("");var Od;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Od||(Od={}));function As(e,t){return Bt(new Error,{type:e,[wg]:!0},t)}function Ln(e,t){return e instanceof Error&&wg in e&&(t==null||!!(e.type&t))}const Bd="[^/]+?",fb={sensitive:!1,strict:!1,start:!0,end:!0},db=/[.+*?^${}()[\]/\\]/g;function pb(e,t){const n=Bt({},fb,t),i=[];let r=n.start?"^":"";const a=[];for(const d of e){const m=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let _=0;_<d.length;_++){const v=d[_];let x=40+(n.sensitive?.25:0);if(v.type===0)_||(r+="/"),r+=v.value.replace(db,"\\$&"),x+=40;else if(v.type===1){const{value:P,repeatable:T,optional:C,regexp:U}=v;a.push({name:P,repeatable:T,optional:C});const W=U||Bd;if(W!==Bd){x+=10;try{new RegExp(`(${W})`)}catch(at){throw new Error(`Invalid custom RegExp for param "${P}" (${W}): `+at.message)}}let J=T?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;_||(J=C&&d.length<2?`(?:/${J})`:"/"+J),C&&(J+="?"),r+=J,x+=20,C&&(x+=-8),T&&(x+=-20),W===".*"&&(x+=-50)}m.push(x)}i.push(m)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const l=new RegExp(r,n.sensitive?"":"i");function u(d){const m=d.match(l),_={};if(!m)return null;for(let v=1;v<m.length;v++){const x=m[v]||"",P=a[v-1];_[P.name]=x&&P.repeatable?x.split("/"):x}return _}function f(d){let m="",_=!1;for(const v of e){(!_||!m.endsWith("/"))&&(m+="/"),_=!1;for(const x of v)if(x.type===0)m+=x.value;else if(x.type===1){const{value:P,repeatable:T,optional:C}=x,U=P in d?d[P]:"";if(on(U)&&!T)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const W=on(U)?U.join("/"):U;if(!W)if(C)v.length<2&&(m.endsWith("/")?m=m.slice(0,-1):_=!0);else throw new Error(`Missing required param "${P}"`);m+=W}}return m||"/"}return{re:l,score:i,keys:a,parse:u,stringify:f}}function mb(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function gb(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const a=mb(i[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-i.length)===1){if($d(i))return 1;if($d(r))return-1}return r.length-i.length}function $d(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _b={type:0,value:""},vb=/[a-zA-Z0-9_]/;function yb(e){if(!e)return[[]];if(e==="/")return[[_b]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(x){throw new Error(`ERR (${n})/"${d}": ${x}`)}let n=0,i=n;const r=[];let a;function l(){a&&r.push(a),a=[]}let u=0,f,d="",m="";function _(){!d||(n===0?a.push({type:0,value:d}):n===1||n===2||n===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:d,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;u<e.length;){if(f=e[u++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&_(),l()):f===":"?(_(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:vb.test(f)?v():(_(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:n=3:m+=f;break;case 3:_(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),_(),l(),r}function wb(e,t,n){const i=pb(yb(e.path),n),r=Bt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function xb(e,t){const n=[],i=new Map;t=Ud({strict:!1,end:!0,sensitive:!1},t);function r(m){return i.get(m)}function a(m,_,v){const x=!v,P=bb(m);P.aliasOf=v&&v.record;const T=Ud(t,m),C=[P];if("alias"in m){const J=typeof m.alias=="string"?[m.alias]:m.alias;for(const at of J)C.push(Bt({},P,{components:v?v.record.components:P.components,path:at,aliasOf:v?v.record:P}))}let U,W;for(const J of C){const{path:at}=J;if(_&&at[0]!=="/"){const vt=_.record.path,Kt=vt[vt.length-1]==="/"?"":"/";J.path=_.record.path+(at&&Kt+at)}if(U=wb(J,_,T),v?v.alias.push(U):(W=W||U,W!==U&&W.alias.push(U),x&&m.name&&!zd(U)&&l(m.name)),P.children){const vt=P.children;for(let Kt=0;Kt<vt.length;Kt++)a(vt[Kt],U,v&&v.children[Kt])}v=v||U,(U.record.components&&Object.keys(U.record.components).length||U.record.name||U.record.redirect)&&f(U)}return W?()=>{l(W)}:br}function l(m){if(yg(m)){const _=i.get(m);_&&(i.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(l),_.alias.forEach(l))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&i.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function u(){return n}function f(m){let _=0;for(;_<n.length&&gb(m,n[_])>=0&&(m.record.path!==n[_].record.path||!xg(m,n[_]));)_++;n.splice(_,0,m),m.record.name&&!zd(m)&&i.set(m.record.name,m)}function d(m,_){let v,x={},P,T;if("name"in m&&m.name){if(v=i.get(m.name),!v)throw As(1,{location:m});T=v.record.name,x=Bt(Fd(_.params,v.keys.filter(W=>!W.optional).map(W=>W.name)),m.params&&Fd(m.params,v.keys.map(W=>W.name))),P=v.stringify(x)}else if("path"in m)P=m.path,v=n.find(W=>W.re.test(P)),v&&(x=v.parse(P),T=v.record.name);else{if(v=_.name?i.get(_.name):n.find(W=>W.re.test(_.path)),!v)throw As(1,{location:m,currentLocation:_});T=v.record.name,x=Bt({},_.params,m.params),P=v.stringify(x)}const C=[];let U=v;for(;U;)C.unshift(U.record),U=U.parent;return{name:T,path:P,params:x,matched:C,meta:Tb(C)}}return e.forEach(m=>a(m)),{addRoute:a,resolve:d,removeRoute:l,getRoutes:u,getRecordMatcher:r}}function Fd(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function bb(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Eb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Eb(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function zd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tb(e){return e.reduce((t,n)=>Bt(t,n.meta),{})}function Ud(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function xg(e,t){return t.children.some(n=>n===e||xg(e,n))}const bg=/#/g,Cb=/&/g,Ab=/\//g,Sb=/=/g,kb=/\?/g,Eg=/\+/g,Ib=/%5B/g,Pb=/%5D/g,Tg=/%5E/g,Lb=/%60/g,Cg=/%7B/g,Mb=/%7C/g,Ag=/%7D/g,Nb=/%20/g;function uh(e){return encodeURI(""+e).replace(Mb,"|").replace(Ib,"[").replace(Pb,"]")}function Rb(e){return uh(e).replace(Cg,"{").replace(Ag,"}").replace(Tg,"^")}function Yc(e){return uh(e).replace(Eg,"%2B").replace(Nb,"+").replace(bg,"%23").replace(Cb,"%26").replace(Lb,"`").replace(Cg,"{").replace(Ag,"}").replace(Tg,"^")}function Db(e){return Yc(e).replace(Sb,"%3D")}function Ob(e){return uh(e).replace(bg,"%23").replace(kb,"%3F")}function Bb(e){return e==null?"":Ob(e).replace(Ab,"%2F")}function _a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $b(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(Eg," "),l=a.indexOf("="),u=_a(l<0?a:a.slice(0,l)),f=l<0?null:_a(a.slice(l+1));if(u in t){let d=t[u];on(d)||(d=t[u]=[d]),d.push(f)}else t[u]=f}return t}function Vd(e){let t="";for(let n in e){const i=e[n];if(n=Db(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(on(i)?i.map(a=>a&&Yc(a)):[i&&Yc(i)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Fb(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=on(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const zb=Symbol(""),Hd=Symbol(""),hh=Symbol(""),fh=Symbol(""),Xc=Symbol("");function cr(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Jn(e,t,n,i,r){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const f=_=>{_===!1?u(As(4,{from:n,to:t})):_ instanceof Error?u(_):hb(_)?u(As(2,{from:t,to:_})):(a&&i.enterCallbacks[r]===a&&typeof _=="function"&&a.push(_),l())},d=e.call(i&&i.instances[r],t,n,f);let m=Promise.resolve(d);e.length<3&&(m=m.then(f)),m.catch(_=>u(_))})}function dc(e,t,n,i){const r=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Ub(u)){const d=(u.__vccOpts||u)[t];d&&r.push(Jn(d,n,i,a,l))}else{let f=u();r.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const m=Zx(d)?d.default:d;a.components[l]=m;const v=(m.__vccOpts||m)[t];return v&&Jn(v,n,i,a,l)()}))}}return r}function Ub(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jd(e){const t=Dn(hh),n=Dn(fh),i=Ge(()=>t.resolve(gs(e.to))),r=Ge(()=>{const{matched:f}=i.value,{length:d}=f,m=f[d-1],_=n.matched;if(!m||!_.length)return-1;const v=_.findIndex(Cs.bind(null,m));if(v>-1)return v;const x=qd(f[d-2]);return d>1&&qd(m)===x&&_[_.length-1].path!==x?_.findIndex(Cs.bind(null,f[d-2])):v}),a=Ge(()=>r.value>-1&&qb(n.params,i.value.params)),l=Ge(()=>r.value>-1&&r.value===n.matched.length-1&&_g(n.params,i.value.params));function u(f={}){return jb(f)?t[gs(e.replace)?"replace":"push"](gs(e.to)).catch(br):Promise.resolve()}return{route:i,href:Ge(()=>i.value.href),isActive:a,isExactActive:l,navigate:u}}const Vb=Um({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jd,setup(e,{slots:t}){const n=Fs(jd(e)),{options:i}=Dn(hh),r=Ge(()=>({[Zd(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Zd(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:mg("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),Hb=Vb;function jb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function qb(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!on(r)||r.length!==i.length||i.some((a,l)=>a!==r[l]))return!1}return!0}function qd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Zd=(e,t,n)=>e!=null?e:t!=null?t:n,Zb=Um({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Dn(Xc),r=Ge(()=>e.route||i.value),a=Dn(Hd,0),l=Ge(()=>{let d=gs(a);const{matched:m}=r.value;let _;for(;(_=m[d])&&!_.components;)d++;return d}),u=Ge(()=>r.value.matched[l.value]);Jo(Hd,Ge(()=>l.value+1)),Jo(zb,u),Jo(Xc,r);const f=en();return na(()=>[f.value,u.value,e.name],([d,m,_],[v,x,P])=>{m&&(m.instances[_]=d,x&&x!==m&&d&&d===v&&(m.leaveGuards.size||(m.leaveGuards=x.leaveGuards),m.updateGuards.size||(m.updateGuards=x.updateGuards))),d&&m&&(!x||!Cs(m,x)||!v)&&(m.enterCallbacks[_]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=r.value,m=e.name,_=u.value,v=_&&_.components[m];if(!v)return Kd(n.default,{Component:v,route:d});const x=_.props[m],P=x?x===!0?d.params:typeof x=="function"?x(d):x:null,C=mg(v,Bt({},P,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(_.instances[m]=null)},ref:f}));return Kd(n.default,{Component:C,route:d})||C}}});function Kd(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Kb=Zb;function Wb(e){const t=xb(e.routes,e),n=e.parseQuery||$b,i=e.stringifyQuery||Vd,r=e.history,a=cr(),l=cr(),u=cr(),f=uw(Yn);let d=Yn;ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=hc.bind(null,k=>""+k),_=hc.bind(null,Bb),v=hc.bind(null,_a);function x(k,H){let $,K;return yg(k)?($=t.getRecordMatcher(k),K=H):K=k,t.addRoute(K,$)}function P(k){const H=t.getRecordMatcher(k);H&&t.removeRoute(H)}function T(){return t.getRoutes().map(k=>k.record)}function C(k){return!!t.getRecordMatcher(k)}function U(k,H){if(H=Bt({},H||f.value),typeof k=="string"){const st=fc(n,k,H.path),y=t.resolve({path:st.path},H),b=r.createHref(st.fullPath);return Bt(st,y,{params:v(y.params),hash:_a(st.hash),redirectedFrom:void 0,href:b})}let $;if("path"in k)$=Bt({},k,{path:fc(n,k.path,H.path).path});else{const st=Bt({},k.params);for(const y in st)st[y]==null&&delete st[y];$=Bt({},k,{params:_(k.params)}),H.params=_(H.params)}const K=t.resolve($,H),kt=k.hash||"";K.params=m(v(K.params));const Dt=Gx(i,Bt({},k,{hash:Rb(kt),path:K.path})),ct=r.createHref(Dt);return Bt({fullPath:Dt,hash:kt,query:i===Vd?Fb(k.query):k.query||{}},K,{redirectedFrom:void 0,href:ct})}function W(k){return typeof k=="string"?fc(n,k,f.value.path):Bt({},k)}function J(k,H){if(d!==k)return As(8,{from:H,to:k})}function at(k){return mt(k)}function vt(k){return at(Bt(W(k),{replace:!0}))}function Kt(k){const H=k.matched[k.matched.length-1];if(H&&H.redirect){const{redirect:$}=H;let K=typeof $=="function"?$(k):$;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=W(K):{path:K},K.params={}),Bt({query:k.query,hash:k.hash,params:"path"in K?{}:k.params},K)}}function mt(k,H){const $=d=U(k),K=f.value,kt=k.state,Dt=k.force,ct=k.replace===!0,st=Kt($);if(st)return mt(Bt(W(st),{state:typeof st=="object"?Bt({},kt,st.state):kt,force:Dt,replace:ct}),H||$);const y=$;y.redirectedFrom=H;let b;return!Dt&&Yx(i,K,$)&&(b=As(16,{to:y,from:K}),dt(K,K,!0,!1)),(b?Promise.resolve(b):Vt(y,K)).catch(A=>Ln(A)?Ln(A,2)?A:Te(A):St(A,y,K)).then(A=>{if(A){if(Ln(A,2))return mt(Bt({replace:ct},W(A.to),{state:typeof A.to=="object"?Bt({},kt,A.to.state):kt,force:Dt}),H||y)}else A=xt(y,K,!0,ct,kt);return _e(y,K,A),A})}function qt(k,H){const $=J(k,H);return $?Promise.reject($):Promise.resolve()}function Vt(k,H){let $;const[K,kt,Dt]=Gb(k,H);$=dc(K.reverse(),"beforeRouteLeave",k,H);for(const st of K)st.leaveGuards.forEach(y=>{$.push(Jn(y,k,H))});const ct=qt.bind(null,k,H);return $.push(ct),rs($).then(()=>{$=[];for(const st of a.list())$.push(Jn(st,k,H));return $.push(ct),rs($)}).then(()=>{$=dc(kt,"beforeRouteUpdate",k,H);for(const st of kt)st.updateGuards.forEach(y=>{$.push(Jn(y,k,H))});return $.push(ct),rs($)}).then(()=>{$=[];for(const st of k.matched)if(st.beforeEnter&&!H.matched.includes(st))if(on(st.beforeEnter))for(const y of st.beforeEnter)$.push(Jn(y,k,H));else $.push(Jn(st.beforeEnter,k,H));return $.push(ct),rs($)}).then(()=>(k.matched.forEach(st=>st.enterCallbacks={}),$=dc(Dt,"beforeRouteEnter",k,H),$.push(ct),rs($))).then(()=>{$=[];for(const st of l.list())$.push(Jn(st,k,H));return $.push(ct),rs($)}).catch(st=>Ln(st,8)?st:Promise.reject(st))}function _e(k,H,$){for(const K of u.list())K(k,H,$)}function xt(k,H,$,K,kt){const Dt=J(k,H);if(Dt)return Dt;const ct=H===Yn,st=ls?history.state:{};$&&(K||ct?r.replace(k.fullPath,Bt({scroll:ct&&st&&st.scroll},kt)):r.push(k.fullPath,kt)),f.value=k,dt(k,H,$,ct),Te()}let At;function cn(){At||(At=r.listen((k,H,$)=>{if(!Wt.listening)return;const K=U(k),kt=Kt(K);if(kt){mt(Bt(kt,{replace:!0}),K).catch(br);return}d=K;const Dt=f.value;ls&&sb(Rd(Dt.fullPath,$.delta),Ya()),Vt(K,Dt).catch(ct=>Ln(ct,12)?ct:Ln(ct,2)?(mt(ct.to,K).then(st=>{Ln(st,20)&&!$.delta&&$.type===Mr.pop&&r.go(-1,!1)}).catch(br),Promise.reject()):($.delta&&r.go(-$.delta,!1),St(ct,K,Dt))).then(ct=>{ct=ct||xt(K,Dt,!1),ct&&($.delta&&!Ln(ct,8)?r.go(-$.delta,!1):$.type===Mr.pop&&Ln(ct,20)&&r.go(-1,!1)),_e(K,Dt,ct)}).catch(br)}))}let Ee=cr(),Hn=cr(),bt;function St(k,H,$){Te(k);const K=Hn.list();return K.length?K.forEach(kt=>kt(k,H,$)):console.error(k),Promise.reject(k)}function q(){return bt&&f.value!==Yn?Promise.resolve():new Promise((k,H)=>{Ee.add([k,H])})}function Te(k){return bt||(bt=!k,cn(),Ee.list().forEach(([H,$])=>k?$(k):H()),Ee.reset()),k}function dt(k,H,$,K){const{scrollBehavior:kt}=e;if(!ls||!kt)return Promise.resolve();const Dt=!$&&rb(Rd(k.fullPath,0))||(K||!$)&&history.state&&history.state.scroll||null;return ag().then(()=>kt(k,H,Dt)).then(ct=>ct&&ib(ct)).catch(ct=>St(ct,k,H))}const Et=k=>r.go(k);let Qt;const Ut=new Set,Wt={currentRoute:f,listening:!0,addRoute:x,removeRoute:P,hasRoute:C,getRoutes:T,resolve:U,options:e,push:at,replace:vt,go:Et,back:()=>Et(-1),forward:()=>Et(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:Hn.add,isReady:q,install(k){const H=this;k.component("RouterLink",Hb),k.component("RouterView",Kb),k.config.globalProperties.$router=H,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>gs(f)}),ls&&!Qt&&f.value===Yn&&(Qt=!0,at(r.location).catch(kt=>{}));const $={};for(const kt in Yn)$[kt]=Ge(()=>f.value[kt]);k.provide(hh,H),k.provide(fh,Fs($)),k.provide(Xc,f);const K=k.unmount;Ut.add(k),k.unmount=function(){Ut.delete(k),Ut.size<1&&(d=Yn,At&&At(),At=null,f.value=Yn,Qt=!1,bt=!1),K()}}};return Wt}function rs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Gb(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const u=t.matched[l];u&&(e.matched.find(d=>Cs(d,u))?i.push(u):n.push(u));const f=e.matched[l];f&&(t.matched.find(d=>Cs(d,f))||r.push(f))}return[n,i,r]}function Yb(){return Dn(fh)}var ge=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const Xb={},Qb={class:"logo-wrapper flex title-font font-medium items-center md:justify-start justify-center text-gray-900"},Jb=Vn('<div class="logo" data-v-c1b3f0d0><img src="https://i.imgur.com/biXQwA3.jpg" data-v-c1b3f0d0></div><div class="logo-text" data-v-c1b3f0d0><div class="ml-3 text-md" data-v-c1b3f0d0>The Undercover</div><div class="ml-3 text-md" data-v-c1b3f0d0>Psychologist</div></div>',2),t1=[Jb];function e1(e,t,n,i,r,a){return Xt(),ne("div",Qb,t1)}var Xa=ge(Xb,[["render",e1],["__scopeId","data-v-c1b3f0d0"]]);const n1={components:{Logo:Xa}},i1={class:"text-gray-600 body-font absolute w-full bottom-0"},s1={class:"container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col"},r1=Vn('<p class="text-sm text-gray-500 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4"> \xA9 2020 Tailblocks \u2014 <a href="https://twitter.com/knyttneve" class="text-gray-600 ml-1" rel="noopener noreferrer" target="_blank">@knyttneve</a></p><span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start"><a class="text-gray-500"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-3 text-gray-500"><svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-3 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path></svg></a><a class="ml-3 text-gray-500"><svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0" class="w-5 h-5" viewBox="0 0 24 24"><path stroke="none" d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path><circle cx="4" cy="4" r="2" stroke="none"></circle></svg></a></span>',2);function o1(e,t,n,i,r,a){const l=Xa;return Xt(),ne("footer",i1,[I("div",s1,[I("a",null,[wt(l)]),r1])])}var a1=ge(n1,[["render",o1]]);const l1={components:{Logo:Xa}},c1={class:"text-gray-600 body-font relative z-100"},u1={class:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center"},h1={class:"md:ml-auto flex flex-wrap items-center text-base md:justify-center justify-between"},f1=Oe("\u6211\u7684\u5FEB\u6A02\u751F\u6D3B\u63D0\u6848"),d1=Oe("\u5FC3\u7406\u5B78\u8B80\u66F8\u8DA3"),p1=Oe("\u5FC3\u7406\u65B0\u805E\u3001\u7814\u7A76"),m1=Oe("\u5C0B\u627E\u5C08\u696D\u4EBA\u54E1\u5354\u52A9"),g1=I("div",{class:"mr-5 inline-block hover:text-gray-900"},"\u95DC\u65BC",-1);function _1(e,t,n,i,r,a){const l=Xa,u=zs("router-link");return Xt(),ne("header",c1,[I("div",u1,[wt(u,{class:"flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0",to:"/"},{default:Fe(()=>[wt(l)]),_:1}),I("nav",h1,[wt(u,{class:"mr-5 hover:text-gray-900",to:"/happiness-articles"},{default:Fe(()=>[f1]),_:1}),wt(u,{class:"mr-5 hover:text-gray-900",to:"/book-review"},{default:Fe(()=>[d1]),_:1}),wt(u,{class:"mr-5 hover:text-gray-900",to:"/news-and-views"},{default:Fe(()=>[p1]),_:1}),wt(u,{class:"mr-5 hover:text-gray-900",to:"/therapists"},{default:Fe(()=>[m1]),_:1}),g1])])])}var v1=ge(l1,[["render",_1]]);const y1={props:{popArticles:{type:Array}},setup(e){}},w1={class:"relative pb-170px lg:pb-104px"};function x1(e,t,n,i,r,a){const l=v1,u=zs("router-view"),f=a1;return Xt(),ne("div",w1,[wt(l),wt(u),wt(f)])}var b1=ge(y1,[["render",x1]]);const E1={},T1={class:"text-gray-600 body-font max-w-[1200px] mx-auto"},C1=Vn('<div class="container px-5 py-24 mx-auto"><div class="w-full grid lg:grid-cols-3 gap-2"><div class="py-8 px-4 bg-white"><div class="h-full flex items-start"><div class="w-12 flex-shrink-0 flex flex-col text-center leading-none"><span class="text-gray-500 pb-2 mb-2 border-b-2 border-gray-200">7 \u6708</span><span class="font-medium text-lg text-gray-800 title-font leading-none">13</span></div><div class="flex-grow pl-6 flex flex-col justify-between h-full"><div class="title"><h2 class="tracking-widest text-xs title-font font-medium text-indigo-500 mb-1"> Psychology news and views </h2><h1 class="title-font text-xl font-medium text-gray-900 mb-3"> \u6C7A\u5FC3\u6539\u8B8A </h1><p class="leading-relaxed mb-5">- \u6211\u5011\u5982\u4F55\u91CD\u5EFA\u751F\u6D3B</p></div><a class="inline-flex items-center"><img alt="blog" src="https://dummyimage.com/103x103" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center"><span class="flex-grow flex flex-col pl-3"><span class="title-font font-medium text-gray-900">Psychology Today</span></span></a></div></div></div><div class="py-8 px-4 bg-white"><div class="h-full flex items-start"><div class="w-12 flex-shrink-0 flex flex-col text-center leading-none"><span class="text-gray-500 pb-2 mb-2 border-b-2 border-gray-200">6 \u6708</span><span class="font-medium text-lg text-gray-800 title-font leading-none">13</span></div><div class="flex-grow pl-6 flex flex-col justify-between h-full"><div class="title"><h2 class="tracking-widest text-xs title-font font-medium text-indigo-500 mb-1"> Psychology Research </h2><h1 class="title-font text-xl font-medium text-gray-900 mb-3"> \u5E78\u798F\u8207\u61F7\u820A\u7684\u65E5\u5E38 </h1><p class="leading-relaxed mb-5">- \u5F9E\u751F\u7269\u6548\u5EA6\u4E0A\u7684\u89C0\u9EDE</p></div><a class="inline-flex items-center"><img alt="blog" src="https://dummyimage.com/103x103" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center"><span class="flex-grow flex flex-col pl-3"><span class="title-font font-medium text-gray-900">American Psychological Association</span></span></a></div></div></div><div class="py-8 px-4 bg-white"><div class="h-full flex items-start"><div class="w-12 flex-shrink-0 flex flex-col text-center leading-none"><span class="text-gray-500 pb-2 mb-2 border-b-2 border-gray-200">7 \u6708</span><span class="font-medium text-lg text-gray-800 title-font leading-none">1</span></div><div class="flex-grow pl-6 flex flex-col justify-between h-full"><div class="title"><h2 class="tracking-widest text-xs title-font font-medium text-indigo-500 mb-1"> Psychology news and views </h2><h1 class="title-font text-xl font-medium text-gray-900 mb-3"> \u8FFD\u6C42\u76EE\u6A19\u53EA\u662F\u65C5\u7A0B\uFF0C\u4E0D\u662F\u7D42\u9EDE </h1><p class="leading-relaxed mb-5"> How Metaphor Drives Growth After Goal Attainment </p></div><a class="inline-flex items-center"><img alt="blog" src="https://dummyimage.com/103x103" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center"><span class="flex-grow flex flex-col pl-3"><span class="title-font font-medium text-gray-900">American Psychological Association</span></span></a></div></div></div><div class="py-8 px-4 bg-white"><div class="h-full flex items-start"><div class="w-12 flex-shrink-0 flex flex-col text-center leading-none"><span class="text-gray-500 pb-2 mb-2 border-b-2 border-gray-200">7 \u6708</span><span class="font-medium text-lg text-gray-800 title-font leading-none">1</span></div><div class="flex-grow pl-6 flex flex-col justify-between h-full"><div class="title"><h2 class="tracking-widest text-xs title-font font-medium text-indigo-500 mb-1"> Psychology news and views </h2><h1 class="title-font text-xl font-medium text-gray-900 mb-3"> \u70BA\u4EC0\u9EBC\u5728\u6DF7\u4E82\u4E2D\u6210\u9577\u7684\u5C0F\u5B69\u5EFA\u7ACB\u5065\u5EB7\u7684\u95DC\u4FC2\u5982\u6B64\u56F0\u96E3 </h1><p class="leading-relaxed mb-5"> ...and how acknowledging past hurts can help you better cope. </p></div><a class="inline-flex items-center"><img alt="blog" src="https://dummyimage.com/103x103" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center"><span class="flex-grow flex flex-col pl-3"><span class="title-font font-medium text-gray-900">Psychology Today</span></span></a></div></div></div></div></div>',1),A1=[C1];function S1(e,t,n,i,r,a){return Xt(),ne("section",T1,A1)}var k1=ge(E1,[["render",S1]]);const I1={},P1={class:"text-gray-600 body- overflow-hidden max-w-[1200px] mx-auto"},L1={class:"container px-5 mx-auto"},M1={class:"-my-8 divide-y-2 divide-gray-100"},N1={class:"my-4 py-8 flex flex-wrap md:flex-nowrap bg-white"},R1=I("div",{class:"pl-8 md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"},[I("span",{class:"-semibold title- text-gray-700"},"My Happiness Project"),I("span",{class:"mt-1 text-gray-500 text-sm"},"\u4E03\u6708")],-1),D1={class:"pl-8 md:flex-grow"},O1=I("h2",{class:"text-2xl -medium text-gray-900 title- mb-2"}," [ \u7B2C\u4E94\u500B\u6708 ] \u518D\u60F3\u60F3\uFF0C\u6211\u7684\u5FA9\u53E4\u751F\u6D3B ",-1),B1=I("p",{class:"leading-relaxed"}," \u5F88\u591A\u6771\u897F\u597D\u50CF\u662F\u7406\u6240\u7576\u7136\u9019\u6A23\u5B50\uFF0C\u4F46\u6211\u5011\u5F88\u5C11\u554F\u70BA\u4EC0\u9EBC? ",-1),$1=Oe("\u770B\u66F4\u591A "),F1=I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})],-1),z1={class:"my-4 py-8 flex flex-wrap md:flex-nowrap bg-white"},U1=I("div",{class:"pl-8 md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"},[I("span",{class:"-semibold title- text-gray-700"},"My Happiness Project"),I("span",{class:"mt-1 text-gray-500 text-sm"},"\u516D\u6708")],-1),V1={class:"pl-8 md:flex-grow"},H1=I("h2",{class:"text-2xl -medium text-gray-900 title- mb-2"}," [ \u7B2C\u56DB\u500B\u6708 ] \u95DC\u65BC\u81EA\u7136\u6211\u60F3\u8AAA\u7684\uFF0C\u4F46\u6211\u6C92\u8AAA ",-1),j1=I("p",{class:"leading-relaxed"}," \u5927\u81EA\u7136\u7684\u8C50\u5BCC\u8DDF\u5967\u79D8\uFF0C\u5F9E\u68EE\u6797\u5230\u5916\u592A\u7A7A\uFF0C\u5F9E\u4E00\u7FA4\u4EBA\u5230\u9748\u9B42\u3002\u65E2\u6DF1\u4E14\u5EE3\uFF0C\u6700\u5F8C \u6211\u5011\u6709\u5F88\u591A\u8A71\u60F3\u8AAA\u537B\u6C92\u6709\u8AAA\uFF0C\u9019\u6A23\u7C21\u55AE\uFF0C\u9019\u6A23\u81EA\u7136\u3002\u4F46\u96E2\u6211\u5011\u6108\u4F86\u8D8A\u9060\u7684\u662F\u4EC0\u9EBC? ",-1),q1=Oe("\u770B\u66F4\u591A "),Z1=I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})],-1),K1={class:"my-4 py-8 flex flex-wrap md:flex-nowrap bg-white"},W1=I("div",{class:"pl-8 md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"},[I("span",{class:"-semibold title- text-gray-700"},"My Happiness Project"),I("span",{class:"mt-1 text-gray-500 text-sm"},"\u4E94\u6708")],-1),G1={class:"pl-8 md:flex-grow"},Y1=I("h2",{class:"text-2xl -medium text-gray-900 title- mb-2"}," [ \u7B2C\u4E09\u500B\u6708 ] \u56E0\u70BA\u8A8D\u8B58\u8907\u96DC\uFF0C\u6211\u559C\u6B61\u4E0A\u4E86\u7C21\u55AE ",-1),X1=I("p",{class:"leading-relaxed"}," \u9700\u8981\u6642\u9593\uFF0C\u9700\u8981\u6709\u597D\u5947\u5FC3\u53BB\u63A2\u7D22\u7C21\u55AE\u7684\u53EF\u80FD\u6027\uFF0C\u7136\u5F8C\u624D\u4E86\u89E3\u81EA\u5DF1\u3002 \u7AD9\u5728\u4E00\u5B9A\u7684\u9AD8\u5EA6\u4E0A\u5617\u8A66\u6539\u8B8A\u751F\u6D3B\uFF0C\u6210\u70BA\u81EA\u5DF1\u60F3\u8981\u7684\u6A23\u5B50\uFF0C\u66F4\u7C21\u55AE\uFF0C\u4E5F\u66F4\u6709\u7684\u610F\u7FA9\u3002 ",-1),Q1=Oe("\u770B\u66F4\u591A "),J1=I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})],-1),tE={class:"my-4 py-8 flex flex-wrap md:flex-nowrap bg-white"},eE=I("div",{class:"pl-8 md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"},[I("span",{class:"-semibold title- text-gray-700"},"My Happiness Project"),I("span",{class:"mt-1 text-gray-500 text-sm"},"\u56DB\u6708")],-1),nE={class:"pl-8 md:flex-grow"},iE=I("h2",{class:"text-2xl -medium text-gray-900 title- mb-2"}," [ \u7B2C\u4E8C\u500B\u6708 ] \u5E78\u904B\u81EA\u9020\u8005\uFF0C\u7DF4\u7FD2\u7576\u4E00\u500B\u5E78\u904B\u7684\u4EBA ",-1),sE=I("p",{class:"leading-relaxed"}," \u5E78\u904B\u662F\u4E00\u7A2E\u547D\u55CE? \u9084\u662F\u638C\u63E1\u5728\u81EA\u5DF1\u624B\u88E1? Serendipity mindset \u8B93\u6211\u624D\u88FD\u9020\u81EA\u5DF1\u7684\u597D\u904B\u6C23\u3002 ",-1),rE=Oe("\u770B\u66F4\u591A "),oE=I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})],-1),aE={class:"my-4 py-8 flex flex-wrap md:flex-nowrap bg-white"},lE=I("div",{class:"pl-8 md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"},[I("span",{class:"-semibold title- text-gray-700"},"My Happiness Project"),I("span",{class:"text-sm text-gray-500"},"\u4E09\u6708")],-1),cE={class:"pl-8 md:flex-grow"},uE=I("h2",{class:"text-2xl -medium text-gray-900 title- mb-2"}," [ \u7B2C\u4E00\u500B\u6708 ] \u56DE\u5230\u547C\u5438\uFF0C\u90A3\u4E9B\u547C\u5438\u6559\u6703\u6211\u7684\u4E8B ",-1),hE=I("p",{class:"leading-relaxed"}," \u65B9\u584A\u547C\u5438\u3001\u7A74\u9053\u5C0E\u5F15\u3001\u6162\u8DD1\u3001\u68EE\u6797\u6D74\uFF0C\u75AB\u60C5\u4E0B\u88AB\u5FD8\u8A18\u7684\u547C\u5438\uFF0C\u5E6B\u52A9\u6211\u5011\u8212\u7DE9\u58D3\u529B\u3001\u91CD\u65B0\u627E\u56DE\u5C08\u5FC3\uFF0C\u4E5F\u53EF\u4EE5\u5F88\u6709\u8DA3! \u4E5F\u5F88\u79D1\u5B78\u5594! ",-1),fE=Oe(" \u770B\u66F4\u591A "),dE=I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})],-1);function pE(e,t,n,i,r,a){const l=zs("router-link");return Xt(),ne("section",P1,[I("div",L1,[I("div",M1,[I("div",N1,[R1,I("div",D1,[O1,B1,wt(l,{class:"text-indigo-500 inline-flex items-center mt-4 cursor-pointer",to:"/blog/Meditation bushwick direct trade taxidermy shaman"},{default:Fe(()=>[$1,F1]),_:1})])]),I("div",z1,[U1,I("div",V1,[H1,j1,wt(l,{class:"text-indigo-500 inline-flex items-center mt-4 cursor-pointer",to:"/blog/Meditation bushwick direct trade taxidermy shaman"},{default:Fe(()=>[q1,Z1]),_:1})])]),I("div",K1,[W1,I("div",G1,[Y1,X1,wt(l,{class:"text-indigo-500 inline-flex items-center mt-4 cursor-pointer",to:"/blog/Meditation bushwick direct trade taxidermy shaman"},{default:Fe(()=>[Q1,J1]),_:1})])]),I("div",tE,[eE,I("div",nE,[iE,sE,wt(l,{class:"text-indigo-500 inline-flex items-center mt-4 cursor-pointer",to:"/blog/Meditation bushwick direct trade taxidermy shaman"},{default:Fe(()=>[rE,oE]),_:1})])]),I("div",aE,[lE,I("div",cE,[uE,hE,wt(l,{class:"text-indigo-500 inline-flex items-center mt-4 cursor-pointer",to:"/blog/Woke master cleanse drinking vinegar salvia"},{default:Fe(()=>[fE,dE]),_:1})])])])])])}var mE=ge(I1,[["render",pE]]);const gE={props:{popArticles:{type:Array}},setup(e){}},_E={class:"text-gray-600 body-font"},vE={class:"container px-5 py-24 mx-auto max-w-[1200px]"},yE={class:"flex flex-wrap -m-4"},wE={class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden"},xE=I("div",{class:"bg-gray-200 lg:h-96 md:h-72 w-full object-cover object-center",alt:"blog"},null,-1),bE={class:"p-6 bg-gray-300"},EE={class:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1"},TE={class:"title-font text-lg font-medium text-gray-900 mb-3"},CE={class:"leading-relaxed h-80px mb-3"},AE=I("div",{class:"flex items-center flex-wrap"},[I("a",{class:"bg-gray-200 rounded-xl w-110px h-24px py-1 text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0"}),I("span",{class:"animate-pulse bg-gray-200 rounded-xl w-63px h-24px text-gray-400 mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200"}),I("span",{class:"bg-gray-200 rounded-xl w-30px h-24px py-1 text-gray-400 inline-flex items-center leading-none text-sm"})],-1);function SE(e,t,n,i,r,a){return Xt(),ne("section",_E,[I("div",vE,[I("div",yE,[(Xt(),ne(Ue,null,ig(3,l=>I("div",{class:"p-4 md:w-1/3",key:l},[I("div",wE,[xE,I("div",bE,[I("h2",EE,ni(l.category),1),I("h1",TE,ni(l.title),1),I("p",CE,ni(l.subtitle),1),AE])])])),64))])])])}var kE=ge(gE,[["render",SE]]);const IE={props:{popArticles:{type:Array}},setup(e){}},PE={class:"text-gray-600 body-font"},LE={class:"container px-5 py-24 mx-auto max-w-[1200px]"},ME={class:"flex flex-wrap -m-4"},NE={class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden bg-white"},RE={class:"cover lg:h-96 md:h-72 w-full overflow-hidden"},DE=["src"],OE={class:"p-6"},BE={class:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1"},$E={class:"title-font text-lg font-medium text-gray-900 mb-3"},FE={class:"leading-relaxed mb-3 h-80px clamp"},zE=I("div",{class:"flex items-center flex-wrap"},[I("a",{class:"text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0"},[Oe("Learn More "),I("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[I("path",{d:"M5 12h14"}),I("path",{d:"M12 5l7 7-7 7"})])]),I("span",{class:"text-gray-400 mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200"},[I("svg",{class:"w-4 h-4 mr-1",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[I("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),I("circle",{cx:"12",cy:"12",r:"3"})]),Oe("1.2K ")]),I("span",{class:"text-gray-400 inline-flex items-center leading-none text-sm"},[I("svg",{class:"w-4 h-4 mr-1",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[I("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"})]),Oe("6 ")])],-1);function UE(e,t,n,i,r,a){const l=zs("router-link");return Xt(),ne("section",PE,[I("div",LE,[I("div",ME,[(Xt(!0),ne(Ue,null,ig(n.popArticles,u=>(Xt(),ne("div",{class:"p-4 md:w-1/3",key:u.title},[wt(l,{to:`/article/${u.title}`},{default:Fe(()=>[I("div",NE,[I("div",RE,[I("img",{class:"object-cover object-center w-full",src:u.cover,alt:"blog"},null,8,DE)]),I("div",OE,[I("h2",BE,ni(u.category),1),I("h1",$E,ni(u.title),1),I("p",FE,ni(u.subtitle),1),zE])])]),_:2},1032,["to"])]))),128))])])])}var VE=ge(IE,[["render",UE]]);const HE={},jE=e=>(Bm("data-v-deb23c32"),e=e(),$m(),e),qE={class:"p-4 max-w-[1200px] mx-auto"},ZE={class:"container relative"},KE=jE(()=>I("div",{class:"absolute left-0 top-0 w-full h-full flex justify-center items-center text-center"},[I("h1",{class:"lg:text-10xl lg:translate-y-1 text-6xl transform -rotate-6 lg:translate-y-8 z-50 p-10"},[I("span",{class:"lg:text-6xl text-2xl"},"Let's"),Oe(" Think Again! ")]),I("img",{class:"absolute left-[0px] bottom-[-20px] lg:left-[-100px] lg:top-[-200px] w-[35%]",src:"https://i.imgur.com/eu79Bkx.png",alt:""}),I("div",{class:"absolute right-0 bottom-[-30px] lg:right-[60px] lg:bottom-[-10px] hinge"},[I("img",{class:"w-[30px] h-[30px] lg:w-[70px] lg:h-[70px]",src:"https://i.imgur.com/kCJBz7w.png",alt:""})]),I("div",{class:"absolute left-8 top-[-10px] lg:left-[80px] lg:top-[-10px]"},[I("img",{class:"w-[30px] h-[30px] lg:w-[100px] lg:h-[100px]",src:"https://i.imgur.com/ffiTpct.png",alt:""})])],-1));function WE(e,t,n,i,r,a){const l=zs("router-link");return Xt(),ne("div",qE,[I("div",ZE,[wt(l,{class:"mr-5 hover:text-gray-900",to:"/project"},{default:Fe(()=>[KE]),_:1})])])}var GE=ge(HE,[["render",WE],["__scopeId","data-v-deb23c32"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},YE=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],l=e[n++],u=e[n++],f=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],l=r+1<e.length,u=l?e[r+1]:0,f=r+2<e.length,d=f?e[r+2]:0,m=a>>2,_=(a&3)<<4|u>>4;let v=(u&15)<<2|d>>6,x=d&63;f||(x=64,l||(v=64)),i.push(n[m],n[_],n[v],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sg(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],u=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const _=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||u==null||d==null||_==null)throw new XE;const v=a<<2|u>>4;if(i.push(v),d!==64){const x=u<<4&240|d>>2;if(i.push(x),_!==64){const P=d<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(e){const t=Sg(e);return kg.encodeByteArray(t,!0)},va=function(e){return QE(e).replace(/\./g,"")},JE=function(e){try{return kg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=()=>tT().__FIREBASE_DEFAULTS__,nT=()=>{typeof process=="undefined"||process.env},iT=()=>{if(typeof document=="undefined")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JE(e[1]);return t&&JSON.parse(t)},Ig=()=>{try{return eT()||nT()||iT()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sT=e=>{var t,n;return(n=(t=Ig())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},rT=e=>{const t=sT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},oT=()=>{var e;return(e=Ig())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[va(JSON.stringify(n)),va(JSON.stringify(l)),u].join(".")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class Us extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=hT,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pg.prototype.create)}}class Pg{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?fT(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Us(r,u,i)}}function fT(e,t){return e.replace(dT,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const dT=/\{\$([^}]+)}/g;function Qc(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],l=t[r];if(Wd(a)&&Wd(l)){if(!Qc(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Wd(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){return e&&e._delegate?e._delegate:e}class Rr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new aT;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gT(t))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Ei){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ei){return this.instances.has(t)}getOptions(t=Ei){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mT(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ei){return this.component?this.component.multipleInstances?t:Ei:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(e){return e===Ei?void 0:e}function gT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const vT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},yT=Ot.INFO,wT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},xT=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=wT[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lg{constructor(t){this.name=t,this._logLevel=yT,this._logHandler=xT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const bT=(e,t)=>t.some(n=>e instanceof n);let Gd,Yd;function ET(){return Gd||(Gd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TT(){return Yd||(Yd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mg=new WeakMap,Jc=new WeakMap,Ng=new WeakMap,pc=new WeakMap,dh=new WeakMap;function CT(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(si(e.result)),r()},l=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&Mg.set(n,e)}).catch(()=>{}),dh.set(t,e),t}function AT(e){if(Jc.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Jc.set(e,t)}let tu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Jc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ng.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ST(e){tu=e(tu)}function kT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mc(this),t,...n);return Ng.set(i,t.sort?t.sort():[t]),si(i)}:TT().includes(e)?function(...t){return e.apply(mc(this),t),si(Mg.get(this))}:function(...t){return si(e.apply(mc(this),t))}}function IT(e){return typeof e=="function"?kT(e):(e instanceof IDBTransaction&&AT(e),bT(e,ET())?new Proxy(e,tu):e)}function si(e){if(e instanceof IDBRequest)return CT(e);if(pc.has(e))return pc.get(e);const t=IT(e);return t!==e&&(pc.set(e,t),dh.set(t,e)),t}const mc=e=>dh.get(e);function PT(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(e,t),u=si(l);return i&&l.addEventListener("upgradeneeded",f=>{i(si(l.result),f.oldVersion,f.newVersion,si(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const LT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],gc=new Map;function Xd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gc.get(t))return gc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=MT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||LT.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&f.done]))[0]};return gc.set(t,a),a}ST(e=>({...e,get:(t,n,i)=>Xd(t,n)||e.get(t,n,i),has:(t,n)=>!!Xd(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function RT(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const eu="@firebase/app",Qd="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Lg("@firebase/app"),DT="@firebase/app-compat",OT="@firebase/analytics-compat",BT="@firebase/analytics",$T="@firebase/app-check-compat",FT="@firebase/app-check",zT="@firebase/auth",UT="@firebase/auth-compat",VT="@firebase/database",HT="@firebase/database-compat",jT="@firebase/functions",qT="@firebase/functions-compat",ZT="@firebase/installations",KT="@firebase/installations-compat",WT="@firebase/messaging",GT="@firebase/messaging-compat",YT="@firebase/performance",XT="@firebase/performance-compat",QT="@firebase/remote-config",JT="@firebase/remote-config-compat",tC="@firebase/storage",eC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/firestore-compat",sC="firebase",rC="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="[DEFAULT]",oC={[eu]:"fire-core",[DT]:"fire-core-compat",[BT]:"fire-analytics",[OT]:"fire-analytics-compat",[FT]:"fire-app-check",[$T]:"fire-app-check-compat",[zT]:"fire-auth",[UT]:"fire-auth-compat",[VT]:"fire-rtdb",[HT]:"fire-rtdb-compat",[jT]:"fire-fn",[qT]:"fire-fn-compat",[ZT]:"fire-iid",[KT]:"fire-iid-compat",[WT]:"fire-fcm",[GT]:"fire-fcm-compat",[YT]:"fire-perf",[XT]:"fire-perf-compat",[QT]:"fire-rc",[JT]:"fire-rc-compat",[tC]:"fire-gcs",[eC]:"fire-gcs-compat",[nC]:"fire-fst",[iC]:"fire-fst-compat","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Map,iu=new Map;function aC(e,t){try{e.container.addComponent(t)}catch(n){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wa(e){const t=e.name;if(iu.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;iu.set(t,e);for(const n of ya.values())aC(n,e);return!0}function lC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ri=new Pg("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=rC;function Rg(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:nu,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw ri.create("bad-app-name",{appName:String(r)});if(n||(n=oT()),!n)throw ri.create("no-options");const a=ya.get(r);if(a){if(Qc(n,a.options)&&Qc(i,a.config))return a;throw ri.create("duplicate-app",{appName:r})}const l=new _T(r);for(const f of iu.values())l.addComponent(f);const u=new uC(n,i,l);return ya.set(r,u),u}function fC(e=nu){const t=ya.get(e);if(!t&&e===nu)return Rg();if(!t)throw ri.create("no-app",{appName:e});return t}function _s(e,t,n){var i;let r=(i=oC[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(u.join(" "));return}wa(new Rr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebase-heartbeat-database",pC=1,Dr="firebase-heartbeat-store";let _c=null;function Dg(){return _c||(_c=PT(dC,pC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Dr)}}}).catch(e=>{throw ri.create("idb-open",{originalErrorMessage:e.message})})),_c}async function mC(e){try{return(await Dg()).transaction(Dr).objectStore(Dr).get(Og(e))}catch(t){if(t instanceof Us)$i.warn(t.message);else{const n=ri.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$i.warn(n.message)}}}async function Jd(e,t){try{const i=(await Dg()).transaction(Dr,"readwrite");return await i.objectStore(Dr).put(t,Og(e)),i.done}catch(n){if(n instanceof Us)$i.warn(n.message);else{const i=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(i.message)}}}function Og(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1024,_C=30*24*60*60*1e3;class vC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=_C}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tp(),{heartbeatsToSend:n,unsentEntries:i}=yC(this._heartbeatsCache.heartbeats),r=va(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function tp(){return new Date().toISOString().substring(0,10)}function yC(e,t=gC){const n=[];let i=e.slice();for(const r of e){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),ep(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ep(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await mC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ep(e){return va(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(e){wa(new Rr("platform-logger",t=>new NT(t),"PRIVATE")),wa(new Rr("heartbeat",t=>new vC(t),"PRIVATE")),_s(eu,Qd,e),_s(eu,Qd,"esm2017"),_s("fire-js","")}xC("");var bC="firebase",EC="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(bC,EC,"app");var TC=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},X,ph=ph||{},ot=TC||self;function xa(){}function Qa(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Gr(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function CC(e){return Object.prototype.hasOwnProperty.call(e,vc)&&e[vc]||(e[vc]=++AC)}var vc="closure_uid_"+(1e9*Math.random()>>>0),AC=0;function SC(e,t,n){return e.call.apply(e.bind,arguments)}function kC(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ie(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=SC:Ie=kC,Ie.apply(null,arguments)}function zo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function be(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(i,r,a){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return t.prototype[r].apply(i,l)}}function fi(){this.s=this.s,this.o=this.o}var IC=0;fi.prototype.s=!1;fi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),IC!=0)&&CC(this)};fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function mh(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function np(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Qa(i)){const r=e.length||0,a=i.length||0;e.length=r+a;for(let l=0;l<a;l++)e[r+l]=i[l]}else e.push(i)}}function Pe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var PC=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ot.addEventListener("test",xa,t),ot.removeEventListener("test",xa,t)}catch{}return e}();function ba(e){return/^[\s\xa0]*$/.test(e)}var ip=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yc(e,t){return e<t?-1:e>t?1:0}function Ja(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function _n(e){return Ja().indexOf(e)!=-1}function gh(e){return gh[" "](e),e}gh[" "]=xa;function LC(e){var t=RC;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var MC=_n("Opera"),Ss=_n("Trident")||_n("MSIE"),$g=_n("Edge"),su=$g||Ss,Fg=_n("Gecko")&&!(Ja().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),NC=Ja().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge");function zg(){var e=ot.document;return e?e.documentMode:void 0}var Ea;t:{var wc="",xc=function(){var e=Ja();if(Fg)return/rv:([^\);]+)(\)|;)/.exec(e);if($g)return/Edge\/([\d\.]+)/.exec(e);if(Ss)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(NC)return/WebKit\/(\S+)/.exec(e);if(MC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(xc&&(wc=xc?xc[1]:""),Ss){var bc=zg();if(bc!=null&&bc>parseFloat(wc)){Ea=String(bc);break t}}Ea=wc}var RC={};function DC(){return LC(function(){let e=0;const t=ip(String(Ea)).split("."),n=ip("9").split("."),i=Math.max(t.length,n.length);for(let l=0;e==0&&l<i;l++){var r=t[l]||"",a=n[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],r[0].length==0&&a[0].length==0)break;e=yc(r[1].length==0?0:parseInt(r[1],10),a[1].length==0?0:parseInt(a[1],10))||yc(r[2].length==0,a[2].length==0)||yc(r[2],a[2]),r=r[3],a=a[3]}while(e==0)}return 0<=e})}var ru;if(ot.document&&Ss){var sp=zg();ru=sp||parseInt(Ea,10)||void 0}else ru=void 0;var OC=ru;function Or(e,t){if(Pe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fg){t:{try{gh(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Or.X.h.call(this)}}be(Or,Pe);var BC={2:"touch",3:"pen",4:"mouse"};Or.prototype.h=function(){Or.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),$C=0;function FC(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++$C,this.ba=this.ea=!1}function tl(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function _h(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function Ug(e){const t={};for(const n in e)t[n]=e[n];return t}const rp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vg(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let a=0;a<rp.length;a++)n=rp[a],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function el(e){this.src=e,this.g={},this.h=0}el.prototype.add=function(e,t,n,i,r){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var l=au(e,t,i,r);return-1<l?(t=e[l],n||(t.ea=!1)):(t=new FC(t,this.src,a,!!i,r),t.ea=n,e.push(t)),t};function ou(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=Bg(i,t),a;(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(tl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function au(e,t,n,i){for(var r=0;r<e.length;++r){var a=e[r];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==i)return r}return-1}var vh="closure_lm_"+(1e6*Math.random()|0),Ec={};function Hg(e,t,n,i,r){if(i&&i.once)return qg(e,t,n,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hg(e,t[a],n,i,r);return null}return n=xh(n),e&&e[Yr]?e.N(t,n,Gr(i)?!!i.capture:!!i,r):jg(e,t,n,!1,i,r)}function jg(e,t,n,i,r,a){if(!t)throw Error("Invalid event type");var l=Gr(r)?!!r.capture:!!r,u=wh(e);if(u||(e[vh]=u=new el(e)),n=u.add(t,n,i,l,a),n.proxy)return n;if(i=zC(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)PC||(r=l),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Kg(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zC(){function e(n){return t.call(e.src,e.listener,n)}const t=UC;return e}function qg(e,t,n,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qg(e,t[a],n,i,r);return null}return n=xh(n),e&&e[Yr]?e.O(t,n,Gr(i)?!!i.capture:!!i,r):jg(e,t,n,!0,i,r)}function Zg(e,t,n,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)Zg(e,t[a],n,i,r);else i=Gr(i)?!!i.capture:!!i,n=xh(n),e&&e[Yr]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=au(a,n,i,r),-1<n&&(tl(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete e.g[t],e.h--)))):e&&(e=wh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=au(t,n,i,r)),(n=-1<e?t[e]:null)&&yh(n))}function yh(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[Yr])ou(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Kg(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=wh(t))?(ou(n,e),n.h==0&&(n.src=null,t[vh]=null)):tl(e)}}}function Kg(e){return e in Ec?Ec[e]:Ec[e]="on"+e}function UC(e,t){if(e.ba)e=!0;else{t=new Or(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&yh(e),e=n.call(i,t)}return e}function wh(e){return e=e[vh],e instanceof el?e:null}var Tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(e){return typeof e=="function"?e:(e[Tc]||(e[Tc]=function(t){return e.handleEvent(t)}),e[Tc])}function pe(){fi.call(this),this.i=new el(this),this.P=this,this.I=null}be(pe,fi);pe.prototype[Yr]=!0;pe.prototype.removeEventListener=function(e,t,n,i){Zg(this,e,t,n,i)};function we(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new Pe(t,e);else if(t instanceof Pe)t.target=t.target||e;else{var r=t;t=new Pe(i,e),Vg(t,r)}if(r=!0,n)for(var a=n.length-1;0<=a;a--){var l=t.g=n[a];r=Uo(l,i,!0,t)&&r}if(l=t.g=e,r=Uo(l,i,!0,t)&&r,r=Uo(l,i,!1,t)&&r,n)for(a=0;a<n.length;a++)l=t.g=n[a],r=Uo(l,i,!1,t)&&r}pe.prototype.M=function(){if(pe.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)tl(n[i]);delete e.g[t],e.h--}}this.I=null};pe.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};pe.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Uo(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var l=t[a];if(l&&!l.ba&&l.capture==n){var u=l.listener,f=l.ha||l.src;l.ea&&ou(e.i,l),r=u.call(f,i)!==!1&&r}}return r&&!i.defaultPrevented}var bh=ot.JSON.stringify;function VC(){var e=Yg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class HC{constructor(){this.h=this.g=null}add(t,n){const i=Wg.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Wg=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jC,e=>e.reset());class jC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qC(e){ot.setTimeout(()=>{throw e},0)}function Gg(e,t){lu||ZC(),cu||(lu(),cu=!0),Yg.add(e,t)}var lu;function ZC(){var e=ot.Promise.resolve(void 0);lu=function(){e.then(KC)}}var cu=!1,Yg=new HC;function KC(){for(var e;e=VC();){try{e.h.call(e.g)}catch(n){qC(n)}var t=Wg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}cu=!1}function nl(e,t){pe.call(this),this.h=e||1,this.g=t||ot,this.j=Ie(this.lb,this),this.l=Date.now()}be(nl,pe);X=nl.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),we(this,"tick"),this.ca&&(Eh(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Eh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}X.M=function(){nl.X.M.call(this),Eh(this),delete this.g};function Th(e,t,n){if(typeof e=="function")n&&(e=Ie(e,n));else if(e&&typeof e.handleEvent=="function")e=Ie(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function Xg(e){e.g=Th(()=>{e.g=null,e.i&&(e.i=!1,Xg(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class WC extends fi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Xg(this)}M(){super.M(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(e){fi.call(this),this.h=e,this.g={}}be(Br,fi);var op=[];function Qg(e,t,n,i){Array.isArray(n)||(n&&(op[0]=n.toString()),n=op);for(var r=0;r<n.length;r++){var a=Hg(t,n[r],i||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Jg(e){_h(e.g,function(t,n){this.g.hasOwnProperty(n)&&yh(t)},e),e.g={}}Br.prototype.M=function(){Br.X.M.call(this),Jg(this)};Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function il(){this.g=!0}il.prototype.Aa=function(){this.g=!1};function GC(e,t,n,i,r,a){e.info(function(){if(e.g)if(a)for(var l="",u=a.split("&"),f=0;f<u.length;f++){var d=u[f].split("=");if(1<d.length){var m=d[0];d=d[1];var _=m.split("_");l=2<=_.length&&_[1]=="type"?l+(m+"="+d+"&"):l+(m+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+l})}function YC(e,t,n,i,r,a,l){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+a+" "+l})}function fs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+QC(e,n)+(i?" "+i:"")})}function XC(e,t){e.info(function(){return"TIMEOUT: "+t})}il.prototype.info=function(){};function QC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<r.length;l++)r[l]=""}}}}return bh(n)}catch{return t}}var Hi={},ap=null;function sl(){return ap=ap||new pe}Hi.Pa="serverreachability";function t_(e){Pe.call(this,Hi.Pa,e)}be(t_,Pe);function $r(e){const t=sl();we(t,new t_(t))}Hi.STAT_EVENT="statevent";function e_(e,t){Pe.call(this,Hi.STAT_EVENT,e),this.stat=t}be(e_,Pe);function De(e){const t=sl();we(t,new e_(t,e))}Hi.Qa="timingevent";function n_(e,t){Pe.call(this,Hi.Qa,e),this.size=t}be(n_,Pe);function Xr(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){e()},t)}var rl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},i_={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ch(){}Ch.prototype.h=null;function lp(e){return e.h||(e.h=e.i())}function s_(){}var Qr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ah(){Pe.call(this,"d")}be(Ah,Pe);function Sh(){Pe.call(this,"c")}be(Sh,Pe);var uu;function ol(){}be(ol,Ch);ol.prototype.g=function(){return new XMLHttpRequest};ol.prototype.i=function(){return{}};uu=new ol;function Jr(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new Br(this),this.O=JC,e=su?125:void 0,this.T=new nl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new r_}function r_(){this.i=null,this.g="",this.h=!1}var JC=45e3,hu={},Ta={};X=Jr.prototype;X.setTimeout=function(e){this.O=e};function fu(e,t,n){e.K=1,e.v=ll(Bn(t)),e.s=n,e.P=!0,o_(e,null)}function o_(e,t){e.F=Date.now(),to(e),e.A=Bn(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),p_(n.i,"t",i),e.C=0,n=e.l.H,e.h=new r_,e.g=D_(e.l,n?t:null,!e.s),0<e.N&&(e.L=new WC(Ie(e.La,e,e.g),e.N)),Qg(e.S,e.g,"readystatechange",e.ib),t=e.H?Ug(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),$r(),GC(e.j,e.u,e.A,e.m,e.U,e.s)}X.ib=function(e){e=e.target;const t=this.L;t&&Rn(e)==3?t.l():this.La(e)};X.La=function(e){try{if(e==this.g)t:{const m=Rn(this.g);var t=this.g.Ea();const _=this.g.aa();if(!(3>m)&&(m!=3||su||this.g&&(this.h.h||this.g.fa()||fp(this.g)))){this.I||m!=4||t==7||(t==8||0>=_?$r(3):$r(2)),al(this);var n=this.g.aa();this.Y=n;e:if(a_(this)){var i=fp(this.g);e="";var r=i.length,a=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Ci(this),Tr(this);var l="";break e}this.h.i=new ot.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=n==200,YC(this.j,this.u,this.A,this.m,this.U,m,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ba(u)){var d=u;break e}}d=null}if(n=d)fs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,du(this,n);else{this.i=!1,this.o=3,De(12),Ci(this),Tr(this);break t}}this.P?(l_(this,m,l),su&&this.i&&m==3&&(Qg(this.S,this.T,"tick",this.hb),this.T.start())):(fs(this.j,this.m,l,null),du(this,l)),m==4&&Ci(this),this.i&&!this.I&&(m==4?L_(this.l,this):(this.i=!1,to(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,De(12)):(this.o=0,De(13)),Ci(this),Tr(this)}}}catch{}finally{}};function a_(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function l_(e,t,n){let i=!0,r;for(;!e.I&&e.C<n.length;)if(r=tA(e,n),r==Ta){t==4&&(e.o=4,De(14),i=!1),fs(e.j,e.m,null,"[Incomplete Response]");break}else if(r==hu){e.o=4,De(15),fs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else fs(e.j,e.m,r,null),du(e,r);a_(e)&&r!=Ta&&r!=hu&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,De(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rh(t),t.K=!0,De(11))):(fs(e.j,e.m,n,"[Invalid Chunked Response]"),Ci(e),Tr(e))}X.hb=function(){if(this.g){var e=Rn(this.g),t=this.g.fa();this.C<t.length&&(al(this),l_(this,e,t),this.i&&e!=4&&to(this))}};function tA(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Ta:(n=Number(t.substring(n,i)),isNaN(n)?hu:(i+=1,i+n>t.length?Ta:(t=t.substr(i,n),e.C=i+n,t)))}X.cancel=function(){this.I=!0,Ci(this)};function to(e){e.V=Date.now()+e.O,c_(e,e.O)}function c_(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Xr(Ie(e.gb,e),t)}function al(e){e.B&&(ot.clearTimeout(e.B),e.B=null)}X.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(XC(this.j,this.A),this.K!=2&&($r(),De(17)),Ci(this),this.o=2,Tr(this)):c_(this,this.V-e)};function Tr(e){e.l.G==0||e.I||L_(e.l,e)}function Ci(e){al(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Eh(e.T),Jg(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function du(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||pu(n.h,e))){if(!e.J&&pu(n.h,e)&&n.G==3){try{var i=n.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Sa(n),hl(n);else break t;Nh(n),De(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Xr(Ie(n.cb,n),6e3));if(1>=__(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ai(n,11)}else if((e.J||n.g==e)&&Sa(n),!ba(t))for(r=n.Fa.g.parse(t),t=0;t<r.length;t++){let d=r[t];if(n.T=d[0],d=d[1],n.G==2)if(d[0]=="c"){n.I=d[1],n.ka=d[2];const m=d[3];m!=null&&(n.ma=m,n.j.info("VER="+n.ma));const _=d[4];_!=null&&(n.Ca=_,n.j.info("SVER="+n.Ca));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const x=e.g;if(x){const P=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var a=i.h;a.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(kh(a,a.h),a.h=null))}if(i.D){const T=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(i.za=T,Gt(i.F,i.D,T))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var l=e;if(i.sa=R_(i,i.H?i.ka:null,i.V),l.J){v_(i.h,l);var u=l,f=i.J;f&&u.setTimeout(f),u.B&&(al(u),to(u)),i.g=l}else I_(i);0<n.i.length&&fl(n)}else d[0]!="stop"&&d[0]!="close"||Ai(n,7);else n.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ai(n,7):Mh(n):d[0]!="noop"&&n.l&&n.l.wa(d),n.A=0)}}$r(4)}catch{}}function eA(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map!="undefined"&&e instanceof Map||typeof Set!="undefined"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Qa(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function nA(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map!="undefined"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set!="undefined"&&e instanceof Set)){if(Qa(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function u_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Qa(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=nA(e),i=eA(e),r=i.length,a=0;a<r;a++)t.call(void 0,i[a],n&&n[a],e)}var h_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var a=e[n].substring(0,i);r=e[n].substring(i+1)}else a=e[n];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Ni(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ni){this.h=t!==void 0?t:e.h,Ca(this,e.j),this.s=e.s,this.g=e.g,Aa(this,e.m),this.l=e.l,t=e.i;var n=new Fr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),cp(this,n),this.o=e.o}else e&&(n=String(e).match(h_))?(this.h=!!t,Ca(this,n[1]||"",!0),this.s=pr(n[2]||""),this.g=pr(n[3]||"",!0),Aa(this,n[4]),this.l=pr(n[5]||"",!0),cp(this,n[6]||"",!0),this.o=pr(n[7]||"")):(this.h=!!t,this.i=new Fr(null,this.h))}Ni.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mr(t,up,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(mr(t,up,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(mr(n,n.charAt(0)=="/"?oA:rA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mr(n,lA)),e.join("")};function Bn(e){return new Ni(e)}function Ca(e,t,n){e.j=n?pr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Aa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cp(e,t,n){t instanceof Fr?(e.i=t,cA(e.i,e.h)):(n||(t=mr(t,aA)),e.i=new Fr(t,e.h))}function Gt(e,t,n){e.i.set(t,n)}function ll(e){return Gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mr(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,sA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var up=/[#\/\?@]/g,rA=/[#\?:]/g,oA=/[#\?]/g,aA=/[#\?@]/g,lA=/#/g;function Fr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function di(e){e.g||(e.g=new Map,e.h=0,e.i&&iA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}X=Fr.prototype;X.add=function(e,t){di(this),this.i=null,e=Vs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function f_(e,t){di(e),t=Vs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function d_(e,t){return di(e),t=Vs(e,t),e.g.has(t)}X.forEach=function(e,t){di(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};X.oa=function(){di(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let a=0;a<r.length;a++)n.push(t[i])}return n};X.W=function(e){di(this);let t=[];if(typeof e=="string")d_(this,e)&&(t=t.concat(this.g.get(Vs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};X.set=function(e,t){return di(this),this.i=null,e=Vs(this,e),d_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};X.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function p_(e,t,n){f_(e,t),0<n.length&&(e.i=null,e.g.set(Vs(e,t),mh(n)),e.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const a=encodeURIComponent(String(i)),l=this.W(i);for(i=0;i<l.length;i++){var r=a;l[i]!==""&&(r+="="+encodeURIComponent(String(l[i]))),e.push(r)}}return this.i=e.join("&")};function Vs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function cA(e,t){t&&!e.j&&(di(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(f_(this,i),p_(this,r,n))},e)),e.j=t}var uA=class{constructor(e,t){this.h=e,this.g=t}};function m_(e){this.l=e||hA,ot.PerformanceNavigationTiming?(e=ot.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ot.g&&ot.g.Ga&&ot.g.Ga()&&ot.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hA=10;function g_(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function __(e){return e.h?1:e.g?e.g.size:0}function pu(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kh(e,t){e.g?e.g.add(t):e.h=t}function v_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}m_.prototype.cancel=function(){if(this.i=y_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function y_(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return mh(e.i)}function Ih(){}Ih.prototype.stringify=function(e){return ot.JSON.stringify(e,void 0)};Ih.prototype.parse=function(e){return ot.JSON.parse(e,void 0)};function fA(){this.g=new Ih}function dA(e,t,n){const i=n||"";try{u_(e,function(r,a){let l=r;Gr(r)&&(l=bh(r)),t.push(i+a+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function pA(e,t){const n=new il;if(ot.Image){const i=new Image;i.onload=zo(Vo,n,i,"TestLoadImage: loaded",!0,t),i.onerror=zo(Vo,n,i,"TestLoadImage: error",!1,t),i.onabort=zo(Vo,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=zo(Vo,n,i,"TestLoadImage: timeout",!1,t),ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Vo(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function eo(e){this.l=e.ac||null,this.j=e.jb||!1}be(eo,Ch);eo.prototype.g=function(){return new cl(this.l,this.j)};eo.prototype.i=function(e){return function(){return e}}({});function cl(e,t){pe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ph,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(cl,pe);var Ph=0;X=cl.prototype;X.open=function(e,t){if(this.readyState!=Ph)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zr(this)};X.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ot).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=Ph};X.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ot.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w_(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function w_(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}X.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?no(this):zr(this),this.readyState==3&&w_(this)}};X.Va=function(e){this.g&&(this.response=this.responseText=e,no(this))};X.Ua=function(e){this.g&&(this.response=e,no(this))};X.ga=function(){this.g&&no(this)};function no(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zr(e)}X.setRequestHeader=function(e,t){this.v.append(e,t)};X.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function zr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var mA=ot.JSON.parse;function te(e){pe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=x_,this.K=this.L=!1}be(te,pe);var x_="",gA=/^https?$/i,_A=["POST","PUT"];X=te.prototype;X.Ka=function(e){this.L=e};X.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uu.g(),this.C=this.u?lp(this.u):lp(uu),this.g.onreadystatechange=Ie(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){hp(this,a);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const a of i.keys())n.set(a,i.get(a));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),r=ot.FormData&&e instanceof ot.FormData,!(0<=Bg(_A,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of n)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{T_(this),0<this.B&&((this.K=vA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.qa,this)):this.A=Th(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){hp(this,a)}};function vA(e){return Ss&&DC()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}X.qa=function(){typeof ph!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))};function hp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,b_(e),ul(e)}function b_(e){e.D||(e.D=!0,we(e,"complete"),we(e,"error"))}X.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),ul(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ul(this,!0)),te.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?E_(this):this.fb())};X.fb=function(){E_(this)};function E_(e){if(e.h&&typeof ph!="undefined"&&(!e.C[1]||Rn(e)!=4||e.aa()!=2)){if(e.v&&Rn(e)==4)Th(e.Ha,0,e);else if(we(e,"readystatechange"),Rn(e)==4){e.h=!1;try{const u=e.aa();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=u===0){var r=String(e.H).match(h_)[1]||null;if(!r&&ot.self&&ot.self.location){var a=ot.self.location.protocol;r=a.substr(0,a.length-1)}i=!gA.test(r?r.toLowerCase():"")}n=i}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var l=2<Rn(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.aa()+"]",b_(e)}}finally{ul(e)}}}}function ul(e,t){if(e.g){T_(e);const n=e.g,i=e.C[0]?xa:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=i}catch{}}}function T_(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}X.aa=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),mA(t)}};function fp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case x_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C_(e){let t="";return _h(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Lh(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=C_(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Gt(e,t,n))}function ur(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function A_(e){this.Ca=0,this.i=[],this.j=new il,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ur("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ur("baseRetryDelayMs",5e3,e),this.bb=ur("retryDelaySeedMs",1e4,e),this.$a=ur("forwardChannelMaxRetries",2,e),this.ta=ur("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new m_(e&&e.concurrentRequestLimit),this.Fa=new fA,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=A_.prototype;X.ma=8;X.G=1;function Mh(e){if(S_(e),e.G==3){var t=e.U++,n=Bn(e.F);Gt(n,"SID",e.I),Gt(n,"RID",t),Gt(n,"TYPE","terminate"),io(e,n),t=new Jr(e,e.j,t,void 0),t.K=2,t.v=ll(Bn(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon&&(n=ot.navigator.sendBeacon(t.v.toString(),"")),!n&&ot.Image&&(new Image().src=t.v,n=!0),n||(t.g=D_(t.l,null),t.g.da(t.v)),t.F=Date.now(),to(t)}N_(e)}function hl(e){e.g&&(Rh(e),e.g.cancel(),e.g=null)}function S_(e){hl(e),e.u&&(ot.clearTimeout(e.u),e.u=null),Sa(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&ot.clearTimeout(e.m),e.m=null)}function fl(e){g_(e.h)||e.m||(e.m=!0,Gg(e.Ja,e),e.C=0)}function yA(e,t){return __(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Xr(Ie(e.Ja,e,t),M_(e,e.C)),e.C++,!0)}X.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Jr(this,this.j,e,void 0);let a=this.s;if(this.S&&(a?(a=Ug(a),Vg(a,this.S)):a=this.S),this.o!==null||this.N||(r.H=a,a=null),this.O)t:{for(var t=0,n=0;n<this.i.length;n++){e:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.i.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=k_(this,r,t),n=Bn(this.F),Gt(n,"RID",e),Gt(n,"CVER",22),this.D&&Gt(n,"X-HTTP-Session-Id",this.D),io(this,n),a&&(this.N?t="headers="+encodeURIComponent(String(C_(a)))+"&"+t:this.o&&Lh(n,this.o,a)),kh(this.h,r),this.Ya&&Gt(n,"TYPE","init"),this.O?(Gt(n,"$req",t),Gt(n,"SID","null"),r.Z=!0,fu(r,n,null)):fu(r,n,t),this.G=2}}else this.G==3&&(e?dp(this,e):this.i.length==0||g_(this.h)||dp(this))};function dp(e,t){var n;t?n=t.m:n=e.U++;const i=Bn(e.F);Gt(i,"SID",e.I),Gt(i,"RID",n),Gt(i,"AID",e.T),io(e,i),e.o&&e.s&&Lh(i,e.o,e.s),n=new Jr(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=k_(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),kh(e.h,n),fu(n,i,t)}function io(e,t){e.ia&&_h(e.ia,function(n,i){Gt(t,i,n)}),e.l&&u_({},function(n,i){Gt(t,i,n)})}function k_(e,t,n){n=Math.min(e.i.length,n);var i=e.l?Ie(e.l.Ra,e.l,e):null;t:{var r=e.i;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=r[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let u=!0;for(let f=0;f<n;f++){let d=r[f].h;const m=r[f].g;if(d-=a,0>d)a=Math.max(0,r[f].h-100),u=!1;else try{dA(m,l,"req"+d+"_")}catch{i&&i(m)}}if(u){i=l.join("&");break t}}}return e=e.i.splice(0,n),t.D=e,i}function I_(e){e.g||e.u||(e.Z=1,Gg(e.Ia,e),e.A=0)}function Nh(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Xr(Ie(e.Ia,e),M_(e,e.A)),e.A++,!0)}X.Ia=function(){if(this.u=null,P_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Xr(Ie(this.eb,this),e)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,De(10),hl(this),P_(this))};function Rh(e){e.B!=null&&(ot.clearTimeout(e.B),e.B=null)}function P_(e){e.g=new Jr(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Bn(e.sa);Gt(t,"RID","rpc"),Gt(t,"SID",e.I),Gt(t,"CI",e.L?"0":"1"),Gt(t,"AID",e.T),Gt(t,"TYPE","xmlhttp"),io(e,t),e.o&&e.s&&Lh(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=ll(Bn(t)),n.s=null,n.P=!0,o_(n,e)}X.cb=function(){this.v!=null&&(this.v=null,hl(this),Nh(this),De(19))};function Sa(e){e.v!=null&&(ot.clearTimeout(e.v),e.v=null)}function L_(e,t){var n=null;if(e.g==t){Sa(e),Rh(e),e.g=null;var i=2}else if(pu(e.h,t))n=t.D,v_(e.h,t),i=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=sl(),we(i,new n_(i,n)),fl(e)}else I_(e);else if(r=t.o,r==3||r==0&&0<e.pa||!(i==1&&yA(e,t)||i==2&&Nh(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:Ai(e,5);break;case 4:Ai(e,10);break;case 3:Ai(e,6);break;default:Ai(e,2)}}}function M_(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ai(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var i=Ie(e.kb,e);n||(n=new Ni("//www.google.com/images/cleardot.gif"),ot.location&&ot.location.protocol=="http"||Ca(n,"https"),ll(n)),pA(n.toString(),i)}else De(2);e.G=0,e.l&&e.l.va(t),N_(e),S_(e)}X.kb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function N_(e){if(e.G=0,e.la=[],e.l){const t=y_(e.h);(t.length!=0||e.i.length!=0)&&(np(e.la,t),np(e.la,e.i),e.h.i.length=0,mh(e.i),e.i.length=0),e.l.ua()}}function R_(e,t,n){var i=n instanceof Ni?Bn(n):new Ni(n,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),Aa(i,i.m);else{var r=ot.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var a=new Ni(null,void 0);i&&Ca(a,i),t&&(a.g=t),r&&Aa(a,r),n&&(a.l=n),i=a}return n=e.D,t=e.za,n&&t&&Gt(i,n,t),Gt(i,"VER",e.ma),io(e,i),i}function D_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new te(new eo({jb:!0})):new te(e.ra),t.Ka(e.H),t}function O_(){}X=O_.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function ka(){if(Ss&&!(10<=Number(OC)))throw Error("Environmental error: no available transport.")}ka.prototype.g=function(e,t){return new je(e,t)};function je(e,t){pe.call(this),this.g=new A_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!ba(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ba(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hs(this)}be(je,pe);je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;De(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=R_(e,null,e.V),fl(e)};je.prototype.close=function(){Mh(this.g)};je.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=bh(e),e=n);t.i.push(new uA(t.ab++,e)),t.G==3&&fl(t)};je.prototype.M=function(){this.g.l=null,delete this.j,Mh(this.g),delete this.g,je.X.M.call(this)};function B_(e){Ah.call(this);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}be(B_,Ah);function $_(){Sh.call(this),this.status=1}be($_,Sh);function Hs(e){this.g=e}be(Hs,O_);Hs.prototype.xa=function(){we(this.g,"a")};Hs.prototype.wa=function(e){we(this.g,new B_(e))};Hs.prototype.va=function(e){we(this.g,new $_)};Hs.prototype.ua=function(){we(this.g,"b")};ka.prototype.createWebChannel=ka.prototype.g;je.prototype.send=je.prototype.u;je.prototype.open=je.prototype.m;je.prototype.close=je.prototype.close;rl.NO_ERROR=0;rl.TIMEOUT=8;rl.HTTP_ERROR=6;i_.COMPLETE="complete";s_.EventType=Qr;Qr.OPEN="a";Qr.CLOSE="b";Qr.ERROR="c";Qr.MESSAGE="d";pe.prototype.listen=pe.prototype.N;te.prototype.listenOnce=te.prototype.O;te.prototype.getLastError=te.prototype.Oa;te.prototype.getLastErrorCode=te.prototype.Ea;te.prototype.getStatus=te.prototype.aa;te.prototype.getResponseJson=te.prototype.Sa;te.prototype.getResponseText=te.prototype.fa;te.prototype.send=te.prototype.da;te.prototype.setWithCredentials=te.prototype.Ka;var wA=function(){return new ka},xA=function(){return sl()},Cc=rl,bA=i_,EA=Hi,pp={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},TA=eo,Ho=s_,CA=te;const mp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Lg("@firebase/firestore");function gp(){return Fi.logLevel}function et(e,...t){if(Fi.logLevel<=Ot.DEBUG){const n=t.map(Dh);Fi.debug(`Firestore (${js}): ${e}`,...n)}}function $n(e,...t){if(Fi.logLevel<=Ot.ERROR){const n=t.map(Dh);Fi.error(`Firestore (${js}): ${e}`,...n)}}function mu(e,...t){if(Fi.logLevel<=Ot.WARN){const n=t.map(Dh);Fi.warn(`Firestore (${js}): ${e}`,...n)}}function Dh(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e="Unexpected state"){const t=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+e;throw $n(t),new Error(t)}function le(e,t){e||ht()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Us{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ae.UNAUTHENTICATED))}shutdown(){}}class SA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kA{constructor(t){this.t=t,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ri,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const f=a;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},u=f=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ri)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(le(typeof i.accessToken=="string"),new F_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string"),new Ae(t)}}class IA{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(le(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class PA{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new IA(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MA{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const i=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,et("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(le(typeof n.token=="string"),this.A=n.token,new LA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=NA(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=t.charAt(r[a]%t.length))}return i}}function $t(e,t){return e<t?-1:e>t?1:0}function ks(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new de(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ut(t)}static min(){return new ut(new de(0,0))}static max(){return new ut(new de(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,i){n===void 0?n=0:n>t.length&&ht(),i===void 0?i=t.length-n:i>t.length-n&&ht(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ur.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ur?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const a=t.get(r),l=n.get(r);if(a<l)return-1;if(a>l)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Zt extends Ur{construct(t,n,i){return new Zt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const RA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Re extends Ur{construct(t,n,i){return new Re(t,n,i)}static isValidIdentifier(t){return RA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Re.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Re(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Re(n)}static emptyPath(){return new Re([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(Zt.fromString(t))}static fromName(t){return new it(Zt.fromString(t).popFirst(5))}static empty(){return new it(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new Zt(t.slice()))}}function DA(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=ut.fromTimestamp(i===1e9?new de(n+1,0):new de(n,i));return new ci(r,it.empty(),t)}function OA(e){return new ci(e.readTime,e.key,-1)}class ci{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ci(ut.min(),it.empty(),-1)}static max(){return new ci(ut.max(),it.empty(),-1)}}function BA(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:$t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==$A)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new O((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):O.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):O.reject(n)}static resolve(t){return new O((n,i)=>{n(t)})}static reject(t){return new O((n,i)=>{i(t)})}static waitFor(t){return new O((n,i)=>{let r=0,a=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&n()},f=>i(f))}),l=!0,a===r&&n()})}static or(t){let n=O.resolve(!1);for(const i of t)n=n.next(r=>r?O.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(t,n){return new O((i,r)=>{const a=t.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(t[d]).next(m=>{l[d]=m,++u,u===a&&i(l)},m=>r(m))}})}static doWhile(t,n){return new O((i,r)=>{const a=()=>{t()===!0?n().next(()=>{a()},r):i()};a()})}}function so(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Bh.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n,i,r,a,l,u,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.useFetchStreams=f}}class Vr{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Vr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Vr&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function U_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){return e==null}function Ia(e){return e===0&&1/e==-1/0}function UA(e){return typeof e=="number"&&Number.isInteger(e)&&!Ia(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new VA("Invalid base64 string: "+r):r}}(t);return new Me(n)}static fromUint8Array(t){const n=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new Me(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Me.EMPTY_BYTE_STRING=new Me("");const HA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(e){if(le(!!e),typeof e=="string"){let t=0;const n=HA.exec(e);if(le(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:oe(e.seconds),nanos:oe(e.nanos)}}function oe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Is(e){return typeof e=="string"?Me.fromBase64String(e):Me.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H_(e){const t=e.mapValue.fields.__previous_value__;return V_(t)?H_(t):t}function Hr(e){const t=ui(e.mapValue.fields.__local_write_time__.timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?V_(e)?4:jA(e)?9007199254740991:10:ht()}function xn(e,t){if(e===t)return!0;const n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hr(e).isEqual(Hr(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ui(i.timestampValue),l=ui(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return Is(i.bytesValue).isEqual(Is(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return oe(i.geoPointValue.latitude)===oe(r.geoPointValue.latitude)&&oe(i.geoPointValue.longitude)===oe(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return oe(i.integerValue)===oe(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=oe(i.doubleValue),l=oe(r.doubleValue);return a===l?Ia(a)===Ia(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ks(e.arrayValue.values||[],t.arrayValue.values||[],xn);case 10:return function(i,r){const a=i.mapValue.fields||{},l=r.mapValue.fields||{};if(_p(a)!==_p(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!xn(a[u],l[u])))return!1;return!0}(e,t);default:return ht()}}function jr(e,t){return(e.values||[]).find(n=>xn(n,t))!==void 0}function Ps(e,t){if(e===t)return 0;const n=zi(e),i=zi(t);if(n!==i)return $t(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $t(e.booleanValue,t.booleanValue);case 2:return function(r,a){const l=oe(r.integerValue||r.doubleValue),u=oe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return vp(e.timestampValue,t.timestampValue);case 4:return vp(Hr(e),Hr(t));case 5:return $t(e.stringValue,t.stringValue);case 6:return function(r,a){const l=Is(r),u=Is(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=$t(l[f],u[f]);if(d!==0)return d}return $t(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const l=$t(oe(r.latitude),oe(a.latitude));return l!==0?l:$t(oe(r.longitude),oe(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,a){const l=r.values||[],u=a.values||[];for(let f=0;f<l.length&&f<u.length;++f){const d=Ps(l[f],u[f]);if(d)return d}return $t(l.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===jo.mapValue&&a===jo.mapValue)return 0;if(r===jo.mapValue)return 1;if(a===jo.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),f=a.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const _=$t(u[m],d[m]);if(_!==0)return _;const v=Ps(l[u[m]],f[d[m]]);if(v!==0)return v}return $t(u.length,d.length)}(e.mapValue,t.mapValue);default:throw ht()}}function vp(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return $t(e,t);const n=ui(e),i=ui(t),r=$t(n.seconds,i.seconds);return r!==0?r:$t(n.nanos,i.nanos)}function Ls(e){return gu(e)}function gu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=ui(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Is(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,it.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(i){let r="[",a=!0;for(const l of i.values||[])a?a=!1:r+=",",r+=gu(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${gu(i.fields[u])}`;return a+"}"}(e.mapValue):ht();var t,n}function yp(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _u(e){return!!e&&"integerValue"in e}function $h(e){return!!e&&"arrayValue"in e}function wp(e){return!!e&&"nullValue"in e}function xp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ac(e){return!!e&&"mapValue"in e}function Cr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ro(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Cr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n){this.position=t,this.inclusive=n}}function bp(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const a=t[r],l=e.position[r];if(a.field.isKeyField()?i=it.comparator(it.fromName(l.referenceValue),n.key):i=Ps(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ep(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{}class ae extends j_{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new ZA(t,n,i):n==="array-contains"?new GA(t,i):n==="in"?new YA(t,i):n==="not-in"?new XA(t,i):n==="array-contains-any"?new QA(t,i):new ae(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new KA(t,i):new WA(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ps(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class an extends j_{constructor(t,n){super(),this.filters=t,this.op=n,this.ft=null}static create(t,n){return new an(t,n)}matches(t){return q_(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(n=>n.isInequality());return t!==null?t.field:null}dt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function q_(e){return e.op==="and"}function Z_(e){return qA(e)&&q_(e)}function qA(e){for(const t of e.filters)if(t instanceof an)return!1;return!0}function vu(e){if(e instanceof ae)return e.field.canonicalString()+e.op.toString()+Ls(e.value);if(Z_(e))return e.filters.map(t=>vu(t)).join(",");{const t=e.filters.map(n=>vu(n)).join(",");return`${e.op}(${t})`}}function K_(e,t){return e instanceof ae?function(n,i){return i instanceof ae&&n.op===i.op&&n.field.isEqual(i.field)&&xn(n.value,i.value)}(e,t):e instanceof an?function(n,i){return i instanceof an&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,a,l)=>r&&K_(a,i.filters[l]),!0):!1}(e,t):void ht()}function W_(e){return e instanceof ae?function(t){return`${t.field.canonicalString()} ${t.op} ${Ls(t.value)}`}(e):e instanceof an?function(t){return t.op.toString()+" {"+t.getFilters().map(W_).join(" ,")+"}"}(e):"Filter"}class ZA extends ae{constructor(t,n,i){super(t,n,i),this.key=it.fromName(i.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class KA extends ae{constructor(t,n){super(t,"in",n),this.keys=G_("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class WA extends ae{constructor(t,n){super(t,"not-in",n),this.keys=G_("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function G_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>it.fromName(i.referenceValue))}class GA extends ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $h(n)&&jr(n.arrayValue,this.value)}}class YA extends ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jr(this.value.arrayValue,n)}}class XA extends ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(jr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!jr(this.value.arrayValue,n)}}class QA extends ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$h(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>jr(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,n="asc"){this.field=t,this.dir=n}}function JA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||ye.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qo(this.root,t,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qo(this.root,t,this.comparator,!0)}}class qo{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ye{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i!=null?i:ye.RED,this.left=r!=null?r:ye.EMPTY,this.right=a!=null?a:ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,a){return new ye(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ye.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(e,t,n,i,r){return this}insert(e,t,n){return new ye(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tp(this.data.getIterator())}getIteratorFrom(t){return new Tp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ce(this.comparator);return n.data=t,n}}class Tp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.fields=t,t.sort(Re.comparator)}static empty(){return new ei([])}unionWith(t){let n=new ce(Re.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ei(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ks(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ac(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cr(n)}setAll(t){let n=Re.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,i,r),i={},r=[],n=u.popLast()}l?i[u.lastSegment()]=Cr(l):r.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(t){const n=this.field(t.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Ac(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){ro(n,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new vn(Cr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,r,a,l,u){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Se(t,0,ut.min(),ut.min(),ut.min(),vn.empty(),0)}static newFoundDocument(t,n,i,r){return new Se(t,1,n,ut.min(),i,r,0)}static newNoDocument(t,n){return new Se(t,2,n,ut.min(),ut.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,ut.min(),ut.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,n=null,i=[],r=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this._t=null}}function Cp(e,t=null,n=[],i=[],r=null,a=null,l=null){return new tS(e,t,n,i,r,a,l)}function Fh(e){const t=Nt(e);if(t._t===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>vu(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),dl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ls(i)).join(",")),t._t=n}return t._t}function zh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!K_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ep(e.startAt,t.startAt)&&Ep(e.endAt,t.endAt)}function yu(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n=null,i=[],r=[],a=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.wt=null,this.gt=null,this.startAt,this.endAt}}function eS(e,t,n,i,r,a,l,u){return new oo(e,t,n,i,r,a,l,u)}function Y_(e){return new oo(e)}function Ap(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function X_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Uh(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Q_(e){return e.collectionGroup!==null}function vs(e){const t=Nt(e);if(t.wt===null){t.wt=[];const n=Uh(t),i=X_(t);if(n!==null&&i===null)n.isKeyField()||t.wt.push(new Ar(n)),t.wt.push(new Ar(Re.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ar(Re.keyField(),a))}}}return t.wt}function Fn(e){const t=Nt(e);if(!t.gt)if(t.limitType==="F")t.gt=Cp(t.path,t.collectionGroup,vs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const a of vs(t)){const l=a.dir==="desc"?"asc":"desc";n.push(new Ar(a.field,l))}const i=t.endAt?new Pa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pa(t.startAt.position,t.startAt.inclusive):null;t.gt=Cp(t.path,t.collectionGroup,n,t.filters,t.limit,i,r)}return t.gt}function wu(e,t){t.getFirstInequalityField(),Uh(e);const n=e.filters.concat([t]);return new oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xu(e,t,n){return new oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pl(e,t){return zh(Fn(e),Fn(t))&&e.limitType===t.limitType}function J_(e){return`${Fh(Fn(e))}|lt:${e.limitType}`}function bu(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>W_(i)).join(", ")}]`),dl(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ls(i)).join(",")),`Target(${n})`}(Fn(e))}; limitType=${e.limitType})`}function ml(e,t){return t.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):it.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(const r of vs(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(r,a,l){const u=bp(r,a,l);return r.inclusive?u<=0:u<0}(n.startAt,vs(n),i)||n.endAt&&!function(r,a,l){const u=bp(r,a,l);return r.inclusive?u>=0:u>0}(n.endAt,vs(n),i))}(e,t)}function nS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tv(e){return(t,n)=>{let i=!1;for(const r of vs(e)){const a=iS(r,t,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function iS(e,t,n){const i=e.field.isKeyField()?it.comparator(t.key,n.key):function(r,a,l){const u=a.data.field(r),f=l.data.field(r);return u!==null&&f!==null?Ps(u,f):ht()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ia(t)?"-0":t}}function nv(e){return{integerValue:""+e}}function sS(e,t){return UA(t)?nv(t):ev(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this._=void 0}}function rS(e,t,n){return e instanceof Eu?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,t):e instanceof La?iv(e,t):e instanceof Ma?sv(e,t):function(i,r){const a=aS(i,r),l=Sp(a)+Sp(i.It);return _u(a)&&_u(i.It)?nv(l):ev(i.Tt,l)}(e,t)}function oS(e,t,n){return e instanceof La?iv(e,t):e instanceof Ma?sv(e,t):n}function aS(e,t){return e instanceof Tu?_u(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}class Eu extends gl{}class La extends gl{constructor(t){super(),this.elements=t}}function iv(e,t){const n=rv(t);for(const i of e.elements)n.some(r=>xn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ma extends gl{constructor(t){super(),this.elements=t}}function sv(e,t){let n=rv(t);for(const i of e.elements)n=n.filter(r=>!xn(r,i));return{arrayValue:{values:n}}}class Tu extends gl{constructor(t,n){super(),this.Tt=t,this.It=n}}function Sp(e){return oe(e.integerValue||e.doubleValue)}function rv(e){return $h(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function lS(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof La&&i instanceof La||n instanceof Ma&&i instanceof Ma?ks(n.elements,i.elements,xn):n instanceof Tu&&i instanceof Tu?xn(n.It,i.It):n instanceof Eu&&i instanceof Eu}(e.transform,t.transform)}class Di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ia(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vh{}function ov(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uS(e.key,Di.none()):new Hh(e.key,e.data,Di.none());{const n=e.data,i=vn.empty();let r=new ce(Re.comparator);for(let a of t.fields)if(!r.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new _l(e.key,i,new ei(r.toArray()),Di.none())}}function cS(e,t,n){e instanceof Hh?function(i,r,a){const l=i.value.clone(),u=Ip(i.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof _l?function(i,r,a){if(!ia(i.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Ip(i.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(av(i)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(i,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Sr(e,t,n,i){return e instanceof Hh?function(r,a,l,u){if(!ia(r.precondition,a))return l;const f=r.value.clone(),d=Pp(r.fieldTransforms,u,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof _l?function(r,a,l,u){if(!ia(r.precondition,a))return l;const f=Pp(r.fieldTransforms,u,a),d=a.data;return d.setAll(av(r)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(r,a,l){return ia(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function kp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ks(n,i,(r,a)=>lS(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hh extends Vh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _l extends Vh{constructor(t,n,i,r,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function av(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Ip(e,t,n){const i=new Map;le(e.length===n.length);for(let r=0;r<n.length;r++){const a=e[r],l=a.transform,u=t.data.field(a.field);i.set(a.field,oS(l,u,n[r]))}return i}function Pp(e,t,n){const i=new Map;for(const r of e){const a=r.transform,l=n.data.field(r.field);i.set(r.field,rS(a,l,t))}return i}class uS extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,yt;function lv(e){if(e===void 0)return $n("GRPC error has no .code"),z.UNKNOWN;switch(e){case re.OK:return z.OK;case re.CANCELLED:return z.CANCELLED;case re.UNKNOWN:return z.UNKNOWN;case re.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case re.INTERNAL:return z.INTERNAL;case re.UNAVAILABLE:return z.UNAVAILABLE;case re.UNAUTHENTICATED:return z.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case re.NOT_FOUND:return z.NOT_FOUND;case re.ALREADY_EXISTS:return z.ALREADY_EXISTS;case re.PERMISSION_DENIED:return z.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case re.ABORTED:return z.ABORTED;case re.OUT_OF_RANGE:return z.OUT_OF_RANGE;case re.UNIMPLEMENTED:return z.UNIMPLEMENTED;case re.DATA_LOSS:return z.DATA_LOSS;default:return ht()}}(yt=re||(re={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ro(this.inner,(n,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return U_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new me(it.comparator);function hi(){return fS}const cv=new me(it.comparator);function gr(...e){let t=cv;for(const n of e)t=t.insert(n.key,n);return t}function dS(e){let t=cv;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Si(){return kr()}function uv(){return kr()}function kr(){return new qs(e=>e.toString(),(e,t)=>e.isEqual(t))}new me(it.comparator);const pS=new ce(it.comparator);function Ct(...e){let t=pS;for(const n of e)t=t.add(n);return t}const mS=new ce($t);function hv(){return mS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n,i,r,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,ao.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new vl(ut.min(),r,hv(),hi(),Ct())}}class ao{constructor(t,n,i,r,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ao(i,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n,i,r){this.Et=t,this.removedTargetIds=n,this.key=i,this.At=r}}class fv{constructor(t,n){this.targetId=t,this.Rt=n}}class dv{constructor(t,n,i=Me.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Lp{constructor(){this.Pt=0,this.vt=Np(),this.bt=Me.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.bt=t)}Nt(){let t=Ct(),n=Ct(),i=Ct();return this.vt.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new ao(this.bt,this.Vt,t,n,i)}kt(){this.St=!1,this.vt=Np()}$t(t,n){this.St=!0,this.vt=this.vt.insert(t,n)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class gS{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=hi(),this.Kt=Mp(),this.Gt=new ce($t)}Qt(t){for(const n of t.Et)t.At&&t.At.isFoundDocument()?this.jt(n,t.At):this.zt(n,t.key,t.At);for(const n of t.removedTargetIds)this.zt(n,t.key,t.At)}Wt(t){this.forEachTarget(t,n=>{const i=this.Ht(n);switch(t.state){case 0:this.Jt(n)&&i.xt(t.resumeToken);break;case 1:i.Ft(),i.Dt||i.kt(),i.xt(t.resumeToken);break;case 2:i.Ft(),i.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(i.Bt(),i.xt(t.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),i.xt(t.resumeToken));break;default:ht()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qt.forEach((i,r)=>{this.Jt(r)&&n(r)})}Zt(t){const n=t.targetId,i=t.Rt.count,r=this.Xt(n);if(r){const a=r.target;if(yu(a))if(i===0){const l=new it(a.path);this.zt(n,l,Se.newNoDocument(l,ut.min()))}else le(i===1);else this.te(n)!==i&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(t){const n=new Map;this.qt.forEach((a,l)=>{const u=this.Xt(l);if(u){if(a.current&&yu(u.target)){const f=new it(u.target.path);this.Ut.get(f)!==null||this.ne(l,f)||this.zt(l,f,Se.newNoDocument(f,t))}a.Ct&&(n.set(l,a.Nt()),a.kt())}});let i=Ct();this.Kt.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const d=this.Xt(f);return!d||d.purpose===2||(u=!1,!1)}),u&&(i=i.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(t));const r=new vl(t,n,this.Gt,this.Ut,i);return this.Ut=hi(),this.Kt=Mp(),this.Gt=new ce($t),r}jt(t,n){if(!this.Jt(t))return;const i=this.ne(t,n.key)?2:0;this.Ht(t).$t(n.key,i),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(t))}zt(t,n,i){if(!this.Jt(t))return;const r=this.Ht(t);this.ne(t,n)?r.$t(n,1):r.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(t)),i&&(this.Ut=this.Ut.insert(n,i))}removeTarget(t){this.qt.delete(t)}te(t){const n=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.Ht(t).Ot()}Ht(t){let n=this.qt.get(t);return n||(n=new Lp,this.qt.set(t,n)),n}se(t){let n=this.Kt.get(t);return n||(n=new ce($t),this.Kt=this.Kt.insert(t,n)),n}Jt(t){const n=this.Xt(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Xt(t){const n=this.qt.get(t);return n&&n.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new Lp),this.Lt.getRemoteKeysForTarget(t).forEach(n=>{this.zt(t,n,null)})}ne(t,n){return this.Lt.getRemoteKeysForTarget(t).has(n)}}function Mp(){return new me(it.comparator)}function Np(){return new me(it.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yS=(()=>({and:"AND",or:"OR"}))();class wS{constructor(t,n){this.databaseId=t,this.yt=n}}function Cu(e,t){return e.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pv(e,t){return e.yt?t.toBase64():t.toUint8Array()}function ys(e){return le(!!e),ut.fromTimestamp(function(t){const n=ui(t);return new de(n.seconds,n.nanos)}(e))}function mv(e,t){return function(n){return new Zt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function gv(e){const t=Zt.fromString(e);return le(wv(t)),t}function Sc(e,t){const n=gv(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(_v(n))}function Au(e,t){return mv(e.databaseId,t)}function xS(e){const t=gv(e);return t.length===4?Zt.emptyPath():_v(t)}function Rp(e){return new Zt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _v(e){return le(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function bS(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ht()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(f,d){return f.yt?(le(d===void 0||typeof d=="string"),Me.fromBase64String(d||"")):(le(d===void 0||d instanceof Uint8Array),Me.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const d=f.code===void 0?z.UNKNOWN:lv(f.code);return new Y(d,f.message||"")}(l);n=new dv(i,r,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Sc(e,i.document.name),a=ys(i.document.updateTime),l=i.document.createTime?ys(i.document.createTime):ut.min(),u=new vn({mapValue:{fields:i.document.fields}}),f=Se.newFoundDocument(r,a,l,u),d=i.targetIds||[],m=i.removedTargetIds||[];n=new sa(d,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Sc(e,i.document),a=i.readTime?ys(i.readTime):ut.min(),l=Se.newNoDocument(r,a),u=i.removedTargetIds||[];n=new sa([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Sc(e,i.document),a=i.removedTargetIds||[];n=new sa([],a,r,null)}else{if(!("filter"in t))return ht();{t.filter;const i=t.filter;i.targetId;const r=i.count||0,a=new hS(r),l=i.targetId;n=new fv(l,a)}}return n}function ES(e,t){return{documents:[Au(e,t.path)]}}function TS(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Au(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Au(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(f.length!==0)return yv(an.create(f,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(f){if(f.length!==0)return f.map(d=>function(m){return{field:cs(m.field),direction:SS(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(f,d){return f.yt||dl(d)?d:{value:d}}(e,t.limit);var u;return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),n}function CS(e){let t=xS(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){le(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let a=[];n.where&&(a=function(m){const _=vv(m);return _ instanceof an&&Z_(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(m=>function(_){return new Ar(us(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m)));let u=null;n.limit&&(u=function(m){let _;return _=typeof m=="object"?m.value:m,dl(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(m){const _=!!m.before,v=m.values||[];return new Pa(v,_)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const _=!m.before,v=m.values||[];return new Pa(v,_)}(n.endAt)),eS(t,r,l,a,u,"F",f,d)}function AS(e,t){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function vv(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=us(t.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=us(t.unaryFilter.field);return ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=us(t.unaryFilter.field);return ae.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=us(t.unaryFilter.field);return ae.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(e):e.fieldFilter!==void 0?function(t){return ae.create(us(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return an.create(t.compositeFilter.filters.map(n=>vv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ht()}}(t.compositeFilter.op))}(e):ht()}function SS(e){return _S[e]}function kS(e){return vS[e]}function IS(e){return yS[e]}function cs(e){return{fieldPath:e.canonicalString()}}function us(e){return Re.fromServerFormat(e.fieldPath)}function yv(e){return e instanceof ae?function(t){if(t.op==="=="){if(xp(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NAN"}};if(wp(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xp(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NOT_NAN"}};if(wp(t.value))return{unaryFilter:{field:cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(t.field),op:kS(t.op),value:t.value}}}(e):e instanceof an?function(t){const n=t.getFilters().map(i=>yv(i));return n.length===1?n[0]:{compositeFilter:{op:IS(t.op),filters:n}}}(e):ht()}function wv(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&cS(a,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Sr(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Sr(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=uv();return this.mutations.forEach(r=>{const a=t.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(r.key)?null:u;const f=ov(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(ut.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ct())}isEqual(t){return this.batchId===t.batchId&&ks(this.mutations,t.mutations,(n,i)=>kp(n,i))&&ks(this.baseMutations,t.baseMutations,(n,i)=>kp(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,i,r,a=ut.min(),l=ut.min(),u=Me.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u}withSequenceNumber(t){return new Oi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this.oe=t}}function NS(e){const t=CS({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Ze=new DS}addToCollectionParentIndex(t,n){return this.Ze.add(n),O.resolve()}getCollectionParents(t,n){return O.resolve(this.Ze.getEntries(n))}addFieldIndex(t,n){return O.resolve()}deleteFieldIndex(t,n){return O.resolve()}getDocumentsMatchingTarget(t,n){return O.resolve(null)}getIndexType(t,n){return O.resolve(0)}getFieldIndexes(t,n){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,n){return O.resolve(ci.min())}getMinOffsetFromCollectionGroup(t,n){return O.resolve(ci.min())}updateCollectionGroup(t,n,i){return O.resolve()}updateIndexEntries(t,n){return O.resolve()}}class DS{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ce(Zt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ce(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Vn(){return new Ms(0)}static Sn(){return new Ms(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new qs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?O.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Sr(i.mutation,r,ei.empty(),de.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Ct()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Ct()){const r=Si();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(a=>{let l=gr();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Si();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Ct()))}populateOverlays(t,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(t,n,i,r){let a=hi();const l=kr(),u=kr();return n.forEach((f,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof _l)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Sr(m.mutation,d,m.mutation.getFieldMask(),de.now())):l.set(d.key,ei.empty())}),this.recalculateAndSaveOverlays(t,a).next(f=>(f.forEach((d,m)=>l.set(d,m)),n.forEach((d,m)=>{var _;return u.set(d,new BS(m,(_=l.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,n){const i=kr();let r=new me((l,u)=>l-u),a=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const u of l)u.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let m=i.get(f)||ei.empty();m=u.applyToLocalView(d,m),i.set(f,m);const _=(r.get(u.batchId)||Ct()).add(f);r=r.insert(u.batchId,_)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,_=uv();m.forEach(v=>{if(!a.has(v)){const x=ov(n.get(v),i.get(v));x!==null&&_.set(v,x),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return O.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return it.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Q_(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-a.size):O.resolve(Si());let u=-1,f=a;return l.next(d=>O.forEach(d,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),a.get(m)?O.resolve():this.remoteDocumentCache.getEntry(t,m).next(v=>{f=f.insert(m,v)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,f,d,Ct())).next(m=>({batchId:u,changes:dS(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(i=>{let r=gr();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const r=n.collectionGroup;let a=gr();return this.indexManager.getCollectionParents(t,r).next(l=>O.forEach(l,u=>{const f=function(d,m){return new oo(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,f,i).next(d=>{d.forEach((m,_)=>{a=a.insert(m,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r))).next(a=>{r.forEach((u,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,Se.newInvalidDocument(d)))});let l=gr();return a.forEach((u,f)=>{const d=r.get(u);d!==void 0&&Sr(d.mutation,f,ei.empty(),de.now()),ml(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,n){return O.resolve(this.es.get(n))}saveBundleMetadata(t,n){var i;return this.es.set(n.id,{id:(i=n).id,version:i.version,createTime:ys(i.createTime)}),O.resolve()}getNamedQuery(t,n){return O.resolve(this.ns.get(n))}saveNamedQuery(t,n){return this.ns.set(n.name,function(i){return{name:i.name,query:NS(i.bundledQuery),readTime:ys(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.overlays=new me(it.comparator),this.ss=new Map}getOverlay(t,n){return O.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Si();return O.forEach(n,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,a)=>{this.ce(t,n,a)}),O.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.ss.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ss.delete(i)),O.resolve()}getOverlaysForCollection(t,n,i){const r=Si(),a=n.length+1,l=new it(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return O.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let a=new me((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let m=a.get(d.largestBatchId);m===null&&(m=Si(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Si(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=r)););return O.resolve(u)}ce(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new LS(n,i));let a=this.ss.get(n);a===void 0&&(a=Ct(),this.ss.set(n,a)),this.ss.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.rs=new ce(he.os),this.us=new ce(he.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,n){const i=new he(t,n);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.ls(new he(t,n))}fs(t,n){t.forEach(i=>this.removeReference(i,n))}ds(t){const n=new it(new Zt([])),i=new he(n,t),r=new he(n,t+1),a=[];return this.us.forEachInRange([i,r],l=>{this.ls(l),a.push(l.key)}),a}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const n=new it(new Zt([])),i=new he(n,t),r=new he(n,t+1);let a=Ct();return this.us.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new he(t,0),i=this.rs.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class he{constructor(t,n){this.key=t,this.gs=n}static os(t,n){return it.comparator(t.key,n.key)||$t(t.gs,n.gs)}static cs(t,n){return $t(t.gs,n.gs)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new ce(he.os)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const a=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new PS(a,n,i,r);this.mutationQueue.push(l);for(const u of r)this.ps=this.ps.add(new he(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return O.resolve(l)}lookupMutationBatch(t,n){return O.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Ts(i),a=r<0?0:r;return O.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new he(n,0),r=new he(n,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([i,r],l=>{const u=this.Is(l.gs);a.push(u)}),O.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ce($t);return n.forEach(r=>{const a=new he(r,0),l=new he(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([a,l],u=>{i=i.add(u.gs)})}),O.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let a=i;it.isDocumentKey(a)||(a=a.child(""));const l=new he(new it(a),0);let u=new ce($t);return this.ps.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.gs)),!0)},l),O.resolve(this.Es(u))}Es(t){const n=[];return t.forEach(i=>{const r=this.Is(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){le(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.ps;return O.forEach(n.mutations,r=>{const a=new he(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ps=i})}Pn(t){}containsKey(t,n){const i=new he(n,0),r=this.ps.firstAfterOrEqual(i);return O.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}As(t,n){return this.Ts(t)}Ts(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Is(t){const n=this.Ts(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.Rs=t,this.docs=new me(it.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,l=this.Rs(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return O.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=hi();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Se.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let a=hi();const l=n.path,u=new it(l.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||BA(OA(m),i)<=0||(r.has(m.key)||ml(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return O.resolve(a)}getAllFromCollectionGroup(t,n,i,r){ht()}Ps(t,n){return O.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new HS(this)}getSize(t){return O.resolve(this.size)}}class HS extends OS{constructor(t){super(),this.Xn=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Xn.addEntry(t,r)):this.Xn.removeEntry(i)}),O.waitFor(n)}getFromCache(t,n){return this.Xn.getEntry(t,n)}getAllFromCache(t,n){return this.Xn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.persistence=t,this.vs=new qs(n=>Fh(n),zh),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.bs=0,this.Vs=new jh,this.targetCount=0,this.Ss=Ms.Vn()}forEachTarget(t,n){return this.vs.forEach((i,r)=>n(r)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),O.resolve()}xn(t){this.vs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ss=new Ms(n),this.highestTargetId=n),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,n){return this.xn(n),this.targetCount+=1,O.resolve()}updateTargetData(t,n){return this.xn(n),O.resolve()}removeTargetData(t,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,n,i){let r=0;const a=[];return this.vs.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.vs.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),O.waitFor(a).next(()=>r)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,n){const i=this.vs.get(n)||null;return O.resolve(i)}addMatchingKeys(t,n,i){return this.Vs.hs(n,i),O.resolve()}removeMatchingKeys(t,n,i){this.Vs.fs(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(l=>{a.push(r.markPotentiallyOrphaned(t,l))}),O.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Vs.ds(n),O.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Vs.ws(n);return O.resolve(i)}containsKey(t,n){return O.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.Ds={},this.overlays={},this.Cs=new Bh(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new jS(this),this.indexManager=new RS,this.remoteDocumentCache=function(i){return new VS(i)}(i=>this.referenceDelegate.ks(i)),this.Tt=new MS(n),this.$s=new FS(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zS,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Ds[t.toKey()];return i||(i=new US(n,this.referenceDelegate),this.Ds[t.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(t,n,i){et("MemoryPersistence","Starting transaction:",t);const r=new ZS(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Fs(t,n){return O.or(Object.values(this.Ds).map(i=>()=>i.containsKey(t,n)))}}class ZS extends FA{constructor(t){super(),this.currentSequenceNumber=t}}class qh{constructor(t){this.persistence=t,this.Bs=new jh,this.Ls=null}static qs(t){return new qh(t)}get Us(){if(this.Ls)return this.Ls;throw ht()}addReference(t,n,i){return this.Bs.addReference(i,n),this.Us.delete(i.toString()),O.resolve()}removeReference(t,n,i){return this.Bs.removeReference(i,n),this.Us.add(i.toString()),O.resolve()}markPotentiallyOrphaned(t,n){return this.Us.add(n.toString()),O.resolve()}removeTarget(t,n){this.Bs.ds(n.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(a=>this.Us.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ms(){this.Ls=new Set}Os(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Us,i=>{const r=it.fromPath(i);return this.Ks(t,r).next(a=>{a||n.removeEntry(r,ut.min())})}).next(()=>(this.Ls=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ks(t,n).next(i=>{i?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(t){return 0}Ks(t,n){return O.or([()=>O.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Fs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ci=i,this.xi=r}static Ni(t,n){let i=Ct(),r=Ct();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Zh(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.ki=!1}initialize(t,n){this.$i=t,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(t,n,i,r){return this.Mi(t,n).next(a=>a||this.Oi(t,n,r,i)).next(a=>a||this.Fi(t,n))}Mi(t,n){if(Ap(n))return O.resolve(null);let i=Fn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=xu(n,null,"F"),i=Fn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Ct(...a);return this.$i.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.Bi(n,u);return this.Li(n,d,l,f.readTime)?this.Mi(t,xu(n,null,"F")):this.qi(t,d,n,f)}))})))}Oi(t,n,i,r){return Ap(n)||r.isEqual(ut.min())?this.Fi(t,n):this.$i.getDocuments(t,i).next(a=>{const l=this.Bi(n,a);return this.Li(n,l,i,r)?this.Fi(t,n):(gp()<=Ot.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bu(n)),this.qi(t,l,n,DA(r,-1)))})}Bi(t,n){let i=new ce(tv(t));return n.forEach((r,a)=>{ml(t,a)&&(i=i.add(a))}),i}Li(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Fi(t,n){return gp()<=Ot.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",bu(n)),this.$i.getDocumentsMatchingQuery(t,n,ci.min())}qi(t,n,i,r){return this.$i.getDocumentsMatchingQuery(t,i,r).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,n,i,r){this.persistence=t,this.Ui=n,this.Tt=r,this.Ki=new me($t),this.Gi=new qs(a=>Fh(a),zh),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(i)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $S(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ki))}}function GS(e,t,n,i){return new WS(e,t,n,i)}async function xv(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.zi(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let f=Ct();for(const d of r){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of a){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(i,f).next(d=>({Wi:d,removedBatchIds:l,addedBatchIds:u}))})})}function bv(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ns.getLastRemoteSnapshotVersion(n))}function YS(e,t){const n=Nt(e),i=t.snapshotVersion;let r=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ji.newChangeBuffer({trackRemovals:!0});r=n.Ki;const u=[];t.targetChanges.forEach((m,_)=>{const v=r.get(_);if(!v)return;u.push(n.Ns.removeMatchingKeys(a,m.removedDocuments,_).next(()=>n.Ns.addMatchingKeys(a,m.addedDocuments,_)));let x=v.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.has(_)?x=x.withResumeToken(Me.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,i)),r=r.insert(_,x),function(P,T,C){return P.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,x,m)&&u.push(n.Ns.updateTargetData(a,x))});let f=hi(),d=Ct();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(XS(a,l,t.documentUpdates).next(m=>{f=m.Hi,d=m.Ji})),!i.isEqual(ut.min())){const m=n.Ns.getLastRemoteSnapshotVersion(a).next(_=>n.Ns.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(m)}return O.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,d)).next(()=>f)}).then(a=>(n.Ki=r,a))}function XS(e,t,n){let i=Ct(),r=Ct();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=hi();return n.forEach((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(ut.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):et("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{Hi:l,Ji:r}})}function QS(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ns.getTargetData(i,t).next(a=>a?(r=a,O.resolve(r)):n.Ns.allocateTargetId(i).next(l=>(r=new Oi(t,l,0,i.currentSequenceNumber),n.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ki.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(i.targetId,i),n.Gi.set(t,i.targetId)),i})}async function Su(e,t,n){const i=Nt(e),r=i.Ki.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!so(l))throw l;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ki=i.Ki.remove(t),i.Gi.delete(r.target)}function Dp(e,t,n){const i=Nt(e);let r=ut.min(),a=Ct();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,f,d){const m=Nt(u),_=m.Gi.get(d);return _!==void 0?O.resolve(m.Ki.get(_)):m.Ns.getTargetData(f,d)}(i,l,Fn(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>i.Ui.getDocumentsMatchingQuery(l,t,n?r:ut.min(),n?a:Ct())).next(u=>(JS(i,nS(t),u),{documents:u,Yi:a})))}function JS(e,t,n){let i=e.Qi.get(t)||ut.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Qi.set(t,i)}class Op{constructor(){this.activeTargetIds=hv()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tk{constructor(){this.Ur=new Op,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,n,i){this.Kr[t]=n}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new Op,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{Gr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo=null;function kc(){return Zo===null?Zo=268435456+Math.round(2147483648*Math.random()):Zo++,"0x"+Zo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce="WebChannelConnection";class sk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,n,i,r,a){const l=kc(),u=this.fo(t,n);et("RestConnection",`Sending RPC '${t}' ${l}:`,u,i);const f={};return this._o(f,r,a),this.wo(t,u,f,i).then(d=>(et("RestConnection",`Received RPC '${t}' ${l}: `,d),d),d=>{throw mu("RestConnection",`RPC '${t}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}mo(t,n,i,r,a,l){return this.lo(t,n,i,r,a)}_o(t,n,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+js,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}fo(t,n){const i=nk[t];return`${this.co}/v1/${n}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,n,i,r){const a=kc();return new Promise((l,u)=>{const f=new CA;f.setWithCredentials(!0),f.listenOnce(bA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cc.NO_ERROR:const m=f.getResponseJson();et(Ce,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(m)),l(m);break;case Cc.TIMEOUT:et(Ce,`RPC '${t}' ${a} timed out`),u(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const _=f.getStatus();if(et(Ce,`RPC '${t}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const P=function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(C)>=0?C:z.UNKNOWN}(x.status);u(new Y(P,x.message))}else u(new Y(z.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{et(Ce,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);et(Ce,`RPC '${t}' ${a} sending request:`,r),f.send(n,"POST",d,i,15)})}yo(t,n,i){const r=kc(),a=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=wA(),u=xA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new TA({})),this._o(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const d=a.join("");et(Ce,`Creating RPC '${t}' stream ${r}: ${d}`,f);const m=l.createWebChannel(d,f);let _=!1,v=!1;const x=new ik({Yr:T=>{v?et(Ce,`Not sending because RPC '${t}' stream ${r} is closed:`,T):(_||(et(Ce,`Opening RPC '${t}' stream ${r} transport.`),m.open(),_=!0),et(Ce,`RPC '${t}' stream ${r} sending:`,T),m.send(T))},Zr:()=>m.close()}),P=(T,C,U)=>{T.listen(C,W=>{try{U(W)}catch(J){setTimeout(()=>{throw J},0)}})};return P(m,Ho.EventType.OPEN,()=>{v||et(Ce,`RPC '${t}' stream ${r} transport opened.`)}),P(m,Ho.EventType.CLOSE,()=>{v||(v=!0,et(Ce,`RPC '${t}' stream ${r} transport closed`),x.oo())}),P(m,Ho.EventType.ERROR,T=>{v||(v=!0,mu(Ce,`RPC '${t}' stream ${r} transport errored:`,T),x.oo(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),P(m,Ho.EventType.MESSAGE,T=>{var C;if(!v){const U=T.data[0];le(!!U);const W=U,J=W.error||((C=W[0])===null||C===void 0?void 0:C.error);if(J){et(Ce,`RPC '${t}' stream ${r} received error:`,J);const at=J.status;let vt=function(mt){const qt=re[mt];if(qt!==void 0)return lv(qt)}(at),Kt=J.message;vt===void 0&&(vt=z.INTERNAL,Kt="Unknown error status: "+at+" with message "+J.message),v=!0,x.oo(new Y(vt,Kt)),m.close()}else et(Ce,`RPC '${t}' stream ${r} received:`,U),x.uo(U)}}),P(u,EA.STAT_EVENT,T=>{T.stat===pp.PROXY?et(Ce,`RPC '${t}' stream ${r} detected buffering proxy`):T.stat===pp.NOPROXY&&et(Ce,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.ro()},0),x}}function Ic(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e){return new wS(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,n,i=1e3,r=1.5,a=6e4){this.Ys=t,this.timerId=n,this.po=i,this.Io=r,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(t){this.cancel();const n=Math.floor(this.Eo+this.bo()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,n-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t,n,i,r,a,l,u,f){this.Ys=t,this.So=i,this.Do=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Ev(t,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(t,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,t!==4?this.ko.reset():n&&n.code===z.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,await this.listener.no(n)}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===n&&this.jo(i,r)},i=>{t(()=>{const r=new Y(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(t,n){const i=this.Qo(this.Co);this.stream=this.Wo(t,n),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return n=>{this.Ys.enqueueAndForget(()=>this.Co===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends rk{constructor(t,n,i,r,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.Tt=a}Wo(t,n){return this.connection.yo("Listen",t,n)}onMessage(t){this.ko.reset();const n=bS(this.Tt,t),i=function(r){if(!("targetChange"in r))return ut.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ut.min():a.readTime?ys(a.readTime):ut.min()}(t);return this.listener.Ho(n,i)}Jo(t){const n={};n.database=Rp(this.Tt),n.addTarget=function(r,a){let l;const u=a.target;return l=yu(u)?{documents:ES(r,u)}:{query:TS(r,u)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=pv(r,a.resumeToken):a.snapshotVersion.compareTo(ut.min())>0&&(l.readTime=Cu(r,a.snapshotVersion.toTimestamp())),l}(this.Tt,t);const i=AS(this.Tt,t);i&&(n.labels=i),this.qo(n)}Yo(t){const n={};n.database=Rp(this.Tt),n.removeTarget=t,this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,n,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.lo(t,n,i,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(z.UNKNOWN,r.toString())})}mo(t,n,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.mo(t,n,i,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(z.UNKNOWN,a.toString())})}terminate(){this.iu=!0}}class lk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,t==="Online"&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?($n(n),this.cu=!1):et("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,n,i,r,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr(l=>{i.enqueueAndForget(async()=>{co(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=Nt(u);f.mu.add(4),await lo(f),f.pu.set("Unknown"),f.mu.delete(4),await wl(f)}(this))})}),this.pu=new lk(i,r)}}async function wl(e){if(co(e))for(const t of e.gu)await t(!0)}async function lo(e){for(const t of e.gu)await t(!1)}function Tv(e,t){const n=Nt(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Gh(n)?Wh(n):Zs(n).Mo()&&Kh(n,t))}function Cv(e,t){const n=Nt(e),i=Zs(n);n.wu.delete(t),i.Mo()&&Av(n,t),n.wu.size===0&&(i.Mo()?i.Bo():co(n)&&n.pu.set("Unknown"))}function Kh(e,t){e.Iu.Ot(t.targetId),Zs(e).Jo(t)}function Av(e,t){e.Iu.Ot(t),Zs(e).Yo(t)}function Wh(e){e.Iu=new gS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>e.wu.get(t)||null}),Zs(e).start(),e.pu.au()}function Gh(e){return co(e)&&!Zs(e).$o()&&e.wu.size>0}function co(e){return Nt(e).mu.size===0}function Sv(e){e.Iu=void 0}async function uk(e){e.wu.forEach((t,n)=>{Kh(e,t)})}async function hk(e,t){Sv(e),Gh(e)?(e.pu.fu(t),Wh(e)):e.pu.set("Unknown")}async function fk(e,t,n){if(e.pu.set("Online"),t instanceof dv&&t.state===2&&t.cause)try{await async function(i,r){const a=r.cause;for(const l of r.targetIds)i.wu.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.wu.delete(l),i.Iu.removeTarget(l))}(e,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $p(e,i)}else if(t instanceof sa?e.Iu.Qt(t):t instanceof fv?e.Iu.Zt(t):e.Iu.Wt(t),!n.isEqual(ut.min()))try{const i=await bv(e.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.Iu.ee(a);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.wu.get(f);d&&r.wu.set(f,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach(u=>{const f=r.wu.get(u);if(!f)return;r.wu.set(u,f.withResumeToken(Me.EMPTY_BYTE_STRING,f.snapshotVersion)),Av(r,u);const d=new Oi(f.target,u,1,f.sequenceNumber);Kh(r,d)}),r.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){et("RemoteStore","Failed to raise snapshot:",i),await $p(e,i)}}async function $p(e,t,n){if(!so(t))throw t;e.mu.add(1),await lo(e),e.pu.set("Offline"),n||(n=()=>bv(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.mu.delete(1),await wl(e)})}async function Fp(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=co(n);n.mu.add(3),await lo(n),i&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.mu.delete(3),await wl(n)}async function dk(e,t){const n=Nt(e);t?(n.mu.delete(2),await wl(n)):t||(n.mu.add(2),await lo(n),n.pu.set("Unknown"))}function Zs(e){return e.Tu||(e.Tu=function(t,n,i){const r=Nt(t);return r.ru(),new ok(n,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(e.datastore,e.asyncQueue,{Xr:uk.bind(null,e),no:hk.bind(null,e),Ho:fk.bind(null,e)}),e.gu.push(async t=>{t?(e.Tu.Fo(),Gh(e)?Wh(e):e.pu.set("Unknown")):(await e.Tu.stop(),Sv(e))})),e.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,i,r,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,n,i,r,a){const l=Date.now()+i,u=new Yh(t,n,l,r,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(e,t){if($n("AsyncQueue",`${t}: ${e}`),so(e))return new Y(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.comparator=t?(n,i)=>t(n,i)||it.comparator(n.key,i.key):(n,i)=>it.comparator(n.key,i.key),this.keyedMap=gr(),this.sortedSet=new me(this.comparator)}static emptySet(t){return new ws(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ws)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ws;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Au=new me(it.comparator)}track(t){const n=t.doc.key,i=this.Au.get(n);i?t.type!==0&&i.type===3?this.Au=this.Au.insert(n,t):t.type===3&&i.type!==1?this.Au=this.Au.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Au=this.Au.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Au=this.Au.remove(n):t.type===1&&i.type===2?this.Au=this.Au.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Au=this.Au.insert(n,{type:2,doc:t.doc}):ht():this.Au=this.Au.insert(n,t)}Ru(){const t=[];return this.Au.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ns{constructor(t,n,i,r,a,l,u,f,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,r,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Ns(t,n,ws.emptySet(n),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Pu=void 0,this.listeners=[]}}class mk{constructor(){this.queries=new qs(t=>J_(t),pl),this.onlineState="Unknown",this.vu=new Set}}async function gk(e,t){const n=Nt(e),i=t.query;let r=!1,a=n.queries.get(i);if(a||(r=!0,a=new pk),r)try{a.Pu=await n.onListen(i)}catch(l){const u=kv(l,`Initialization of query '${bu(t.query)}' failed`);return void t.onError(u)}n.queries.set(i,a),a.listeners.push(t),t.bu(n.onlineState),a.Pu&&t.Vu(a.Pu)&&Xh(n)}async function _k(e,t){const n=Nt(e),i=t.query;let r=!1;const a=n.queries.get(i);if(a){const l=a.listeners.indexOf(t);l>=0&&(a.listeners.splice(l,1),r=a.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function vk(e,t){const n=Nt(e);let i=!1;for(const r of t){const a=r.query,l=n.queries.get(a);if(l){for(const u of l.listeners)u.Vu(r)&&(i=!0);l.Pu=r}}i&&Xh(n)}function yk(e,t,n){const i=Nt(e),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(n);i.queries.delete(t)}function Xh(e){e.vu.forEach(t=>{t.next()})}class wk{constructor(t,n,i){this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ns(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Du?this.xu(t)&&(this.Su.next(t),n=!0):this.Nu(t,this.onlineState)&&(this.ku(t),n=!0),this.Cu=t,n}onError(t){this.Su.error(t)}bu(t){this.onlineState=t;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),n=!0),n}Nu(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.$u||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}xu(t){if(t.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(t){t=Ns.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this.key=t}}class Pv{constructor(t){this.key=t}}class xk{constructor(t,n){this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Ct(),this.mutatedKeys=Ct(),this.ju=tv(t),this.zu=new ws(this.ju)}get Wu(){return this.Ku}Hu(t,n){const i=n?n.Ju:new zp,r=n?n.zu:this.zu;let a=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((m,_)=>{const v=r.get(m),x=ml(this.query,_)?_:null,P=!!v&&this.mutatedKeys.has(v.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;v&&x?v.data.isEqual(x.data)?P!==T&&(i.track({type:3,doc:x}),C=!0):this.Yu(v,x)||(i.track({type:2,doc:x}),C=!0,(f&&this.ju(x,f)>0||d&&this.ju(x,d)<0)&&(u=!0)):!v&&x?(i.track({type:0,doc:x}),C=!0):v&&!x&&(i.track({type:1,doc:v}),C=!0,(f||d)&&(u=!0)),C&&(x?(l=l.add(x),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{zu:l,Ju:i,Li:u,mutatedKeys:a}}Yu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const a=t.Ju.Ru();a.sort((d,m)=>function(_,v){const x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return x(_)-x(v)}(d.type,m.type)||this.ju(d.doc,m.doc)),this.Zu(i);const l=n?this.Xu():[],u=this.Qu.size===0&&this.current?1:0,f=u!==this.Gu;return this.Gu=u,a.length!==0||f?{snapshot:new Ns(this.query,t.zu,r,a,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:l}:{tc:l}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new zp,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=Ct(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const n=[];return t.forEach(i=>{this.Qu.has(i)||n.push(new Pv(i))}),this.Qu.forEach(i=>{t.has(i)||n.push(new Iv(i))}),n}nc(t){this.Ku=t.Yi,this.Qu=Ct();const n=this.Hu(t.documents);return this.applyChanges(n,!0)}sc(){return Ns.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class bk{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Ek{constructor(t){this.key=t,this.ic=!1}}class Tk{constructor(t,n,i,r,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.rc={},this.oc=new qs(u=>J_(u),pl),this.uc=new Map,this.cc=new Set,this.ac=new me(it.comparator),this.hc=new Map,this.lc=new jh,this.fc={},this.dc=new Map,this._c=Ms.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function Ck(e,t){const n=Mk(e);let i,r;const a=n.oc.get(t);if(a)i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),r=a.view.sc();else{const l=await QS(n.localStore,Fn(t));n.isPrimaryClient&&Tv(n.remoteStore,l);const u=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=await Ak(n,t,i,u==="current",l.resumeToken)}return r}async function Ak(e,t,n,i,r){e.mc=(_,v,x)=>async function(P,T,C,U){let W=T.view.Hu(C);W.Li&&(W=await Dp(P.localStore,T.query,!1).then(({documents:vt})=>T.view.Hu(vt,W)));const J=U&&U.targetChanges.get(T.targetId),at=T.view.applyChanges(W,P.isPrimaryClient,J);return Vp(P,T.targetId,at.tc),at.snapshot}(e,_,v,x);const a=await Dp(e.localStore,t,!0),l=new xk(t,a.Yi),u=l.Hu(a.documents),f=ao.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),d=l.applyChanges(u,e.isPrimaryClient,f);Vp(e,n,d.tc);const m=new bk(t,n,l);return e.oc.set(t,m),e.uc.has(n)?e.uc.get(n).push(t):e.uc.set(n,[t]),d.snapshot}async function Sk(e,t){const n=Nt(e),i=n.oc.get(t),r=n.uc.get(i.targetId);if(r.length>1)return n.uc.set(i.targetId,r.filter(a=>!pl(a,t))),void n.oc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Su(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Cv(n.remoteStore,i.targetId),ku(n,i.targetId)}).catch(Oh)):(ku(n,i.targetId),await Su(n.localStore,i.targetId,!0))}async function Lv(e,t){const n=Nt(e);try{const i=await YS(n.localStore,t);t.targetChanges.forEach((r,a)=>{const l=n.hc.get(a);l&&(le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.ic=!0:r.modifiedDocuments.size>0?le(l.ic):r.removedDocuments.size>0&&(le(l.ic),l.ic=!1))}),await Nv(n,i,t)}catch(i){await Oh(i)}}function Up(e,t,n){const i=Nt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.oc.forEach((a,l)=>{const u=l.view.bu(t);u.snapshot&&r.push(u.snapshot)}),function(a,l){const u=Nt(a);u.onlineState=l;let f=!1;u.queries.forEach((d,m)=>{for(const _ of m.listeners)_.bu(l)&&(f=!0)}),f&&Xh(u)}(i.eventManager,t),r.length&&i.rc.Ho(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function kk(e,t,n){const i=Nt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.hc.get(t),a=r&&r.key;if(a){let l=new me(it.comparator);l=l.insert(a,Se.newNoDocument(a,ut.min()));const u=Ct().add(a),f=new vl(ut.min(),new Map,new ce($t),l,u);await Lv(i,f),i.ac=i.ac.remove(a),i.hc.delete(t),Qh(i)}else await Su(i.localStore,t,!1).then(()=>ku(i,t,n)).catch(Oh)}function ku(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.uc.get(t))e.oc.delete(i),n&&e.rc.gc(i,n);e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach(i=>{e.lc.containsKey(i)||Mv(e,i)})}function Mv(e,t){e.cc.delete(t.path.canonicalString());const n=e.ac.get(t);n!==null&&(Cv(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),Qh(e))}function Vp(e,t,n){for(const i of n)i instanceof Iv?(e.lc.addReference(i.key,t),Ik(e,i)):i instanceof Pv?(et("SyncEngine","Document no longer in limbo: "+i.key),e.lc.removeReference(i.key,t),e.lc.containsKey(i.key)||Mv(e,i.key)):ht()}function Ik(e,t){const n=t.key,i=n.path.canonicalString();e.ac.get(n)||e.cc.has(i)||(et("SyncEngine","New document in limbo: "+n),e.cc.add(i),Qh(e))}function Qh(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){const t=e.cc.values().next().value;e.cc.delete(t);const n=new it(Zt.fromString(t)),i=e._c.next();e.hc.set(i,new Ek(n)),e.ac=e.ac.insert(n,i),Tv(e.remoteStore,new Oi(Fn(Y_(n.path)),i,2,Bh.at))}}async function Nv(e,t,n){const i=Nt(e),r=[],a=[],l=[];i.oc.isEmpty()||(i.oc.forEach((u,f)=>{l.push(i.mc(f,t,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,d!=null&&d.fromCache?"not-current":"current"),d){r.push(d);const m=Zh.Ni(f.targetId,d);a.push(m)}}))}),await Promise.all(l),i.rc.Ho(r),await async function(u,f){const d=Nt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>O.forEach(f,_=>O.forEach(_.Ci,v=>d.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>O.forEach(_.xi,v=>d.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!so(m))throw m;et("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const _=m.targetId;if(!m.fromCache){const v=d.Ki.get(_),x=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(x);d.Ki=d.Ki.insert(_,P)}}}(i.localStore,a))}async function Pk(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=await xv(n.localStore,t);n.currentUser=t,function(r,a){r.dc.forEach(l=>{l.forEach(u=>{u.reject(new Y(z.CANCELLED,a))})}),r.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Nv(n,i.Wi)}}function Lk(e,t){const n=Nt(e),i=n.hc.get(t);if(i&&i.ic)return Ct().add(i.key);{let r=Ct();const a=n.uc.get(t);if(!a)return r;for(const l of a){const u=n.oc.get(l);r=r.unionWith(u.view.Wu)}return r}}function Mk(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kk.bind(null,t),t.rc.Ho=vk.bind(null,t.eventManager),t.rc.gc=yk.bind(null,t.eventManager),t}class Nk{constructor(){this.synchronizeTabs=!1}async initialize(t){this.Tt=yl(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),await this.persistence.start(),this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore)}Ac(t,n){return null}Rc(t,n){return null}Ec(t){return GS(this.persistence,new KS,t.initialUser,this.Tt)}Tc(t){return new qS(qh.qs,this.Tt)}Ic(t){return new tk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rk{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Up(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pk.bind(null,this.syncEngine),await dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new mk}createDatastore(t){const n=yl(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new sk(r));var r;return function(a,l,u,f){return new ak(a,l,u,f)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return n=this.localStore,i=this.datastore,r=t.asyncQueue,a=u=>Up(this.syncEngine,u,0),l=Bp.C()?new Bp:new ek,new ck(n,i,r,a,l);var n,i,r,a,l}createSyncEngine(t,n){return function(i,r,a,l,u,f,d){const m=new Tk(i,r,a,l,u,f);return d&&(m.wc=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Nt(t);et("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await lo(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):$n("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}vc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ae.UNAUTHENTICATED,this.clientId=z_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async a=>{et("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(et("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=kv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Bk(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await xv(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function $k(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Fk(e);et("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>Fp(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Fp(t.remoteStore,a)),e.onlineComponents=t}async function Fk(e){return e.offlineComponents||(et("FirestoreClient","Using default OfflineComponentProvider"),await Bk(e,new Nk)),e.offlineComponents}async function zk(e){return e.onlineComponents||(et("FirestoreClient","Using default OnlineComponentProvider"),await $k(e,new Rk)),e.onlineComponents}async function Uk(e){const t=await zk(e),n=t.eventManager;return n.onListen=Ck.bind(null,t.syncEngine),n.onUnlisten=Sk.bind(null,t.syncEngine),n}function Vk(e,t,n={}){const i=new Ri;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,f){const d=new Dk({next:_=>{a.enqueueAndForget(()=>_k(r,m)),_.fromCache&&u.source==="server"?f.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),m=new wk(l,d,{includeMetadataChanges:!0,$u:!0});return gk(r,m)}(await Uk(e),e.asyncQueue,t,n,i)),i.promise}const Hp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(e,t,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Hk(e,t,n,i){if(t===!0&&i===!0)throw new Y(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jp(e){if(!it.isDocumentKey(e))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qp(e){if(it.isDocumentKey(e))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xl(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ht()}function Iu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xl(e);throw new Y(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Hk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AA;switch(n.type){case"gapi":const i=n.client;return new PA(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Hp.get(t);n&&(et("ComponentProvider","Removing Datastore"),Hp.delete(t),n.terminate())}(this),Promise.resolve()}}function jk(e,t,n,i={}){var r;const a=(e=Iu(e,bl))._getSettings();if(a.host!=="firestore.googleapis.com"&&a.host!==t&&mu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=Ae.MOCK_USER;else{l=lT(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ae(f)}e._authCredentials=new SA(new F_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}}class Ks{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ks(this.firestore,t,this._query)}}class oi extends Ks{constructor(t,n,i){super(t,n,Y_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new it(t))}withConverter(t){return new oi(this.firestore,t,this._path)}}function Dv(e,t,...n){if(e=Nr(e),Rv("collection","path",t),e instanceof bl){const i=Zt.fromString(t,...n);return qp(i),new oi(e,null,i)}{if(!(e instanceof Xe||e instanceof oi))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Zt.fromString(t,...n));return qp(i),new oi(e.firestore,null,i)}}function qk(e,t,...n){if(e=Nr(e),arguments.length===1&&(t=z_.R()),Rv("doc","path",t),e instanceof bl){const i=Zt.fromString(t,...n);return jp(i),new Xe(e,null,new it(i))}{if(!(e instanceof Xe||e instanceof oi))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Zt.fromString(t,...n));return jp(i),new Xe(e.firestore,e instanceof oi?e.converter:null,new it(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Ev(this,"async_queue_retry"),this.Hc=()=>{const n=Ic();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const t=Ic();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const n=Ic();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Ri;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(t){if(!so(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(t){const n=this.qc.then(()=>(this.jc=!0,t().catch(i=>{this.Qc=i,this.jc=!1;const r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw $n("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.jc=!1,i))));return this.qc=n,n}enqueueAfterDelay(t,n,i){this.Jc(),this.Wc.indexOf(t)>-1&&(n=0);const r=Yh.createAndSchedule(this,t,n,i,a=>this.Xc(a));return this.Gc.push(r),r}Jc(){this.Qc&&ht()}verifyOperationInProgress(){}async ta(){let t;do t=this.qc,await t;while(t!==this.qc)}ea(t){for(const n of this.Gc)if(n.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const n=this.Gc.indexOf(t);this.Gc.splice(n,1)}}class Ov extends bl{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Zk,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bv(this),this._firestoreClient.terminate()}}function Kk(e,t){const n=typeof e=="object"?e:fC(),i=typeof e=="string"?e:t||"(default)",r=lC(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=rT("firestore");a&&jk(r,...a)}return r}function Wk(e){return e._firestoreClient||Bv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bv(e){var t;const n=e._freezeSettings(),i=function(r,a,l,u){return new zA(r,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ok(e._authCredentials,e._appCheckCredentials,e._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rs(Me.fromBase64String(t))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Rs(Me.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Re(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^__.*__$/;function zv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class tf{constructor(t,n,i,r,a,l){this.settings=t,this.databaseId=n,this.Tt=i,this.ignoreUndefinedProperties=r,a===void 0&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new tf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.oa({path:i,ca:!1});return r.aa(t),r}ha(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.oa({path:i,ca:!1});return r.ia(),r}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return Pu(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(t.length===0)throw this.fa("Document fields must not be empty");if(zv(this.ra)&&Gk.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class Yk{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=i||yl(t)}wa(t,n,i,r=!1){return new tf({ra:t,methodName:n,_a:i,path:Re.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Xk(e){const t=e._freezeSettings(),n=yl(e._databaseId);return new Yk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qk(e,t,n,i=!1){return ef(n,e.wa(i?4:3,t))}function ef(e,t){if(Uv(e=Nr(e)))return tI("Unsupported field value:",t,e),Jk(e,t);if(e instanceof Fv)return function(n,i){if(!zv(i.ra))throw i.fa(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&t.ra!==4)throw t.fa("Nested arrays are not supported");return function(n,i){const r=[];let a=0;for(const l of n){let u=ef(l,i.la(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=Nr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sS(i.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=de.fromDate(n);return{timestampValue:Cu(i.Tt,r)}}if(n instanceof de){const r=new de(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cu(i.Tt,r)}}if(n instanceof Jh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rs)return{bytesValue:pv(i.Tt,n._byteString)};if(n instanceof Xe){const r=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(r))throw i.fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:mv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.fa(`Unsupported field value: ${xl(n)}`)}(e,t)}function Jk(e,t){const n={};return U_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(e,(i,r)=>{const a=ef(r,t.ua(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function Uv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof de||e instanceof Jh||e instanceof Rs||e instanceof Xe||e instanceof Fv)}function tI(e,t,n){if(!Uv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=xl(n);throw i==="an object"?t.fa(e+" a custom object"):t.fa(e+" "+i)}}const eI=new RegExp("[~\\*/\\[\\]]");function nI(e,t,n){if(t.search(eI)>=0)throw Pu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new $v(...t.split("."))._internalPath}catch{throw Pu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pu(e,t,n,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new Y(z.INVALID_ARGUMENT,u+e+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t,n,i,r,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iI extends Vv{data(){return super.data()}}function nf(e,t){return typeof t=="string"?nI(e,t):t instanceof $v?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sf{}class rI extends sf{}function oI(e,t,...n){let i=[];t instanceof sf&&i.push(t),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof rf).length,l=r.filter(u=>u instanceof El).length;if(a>1||a>0&&l>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class El extends rI{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new El(t,n,i)}_apply(t){const n=this._parse(t);return Hv(t._query,n),new Ks(t.firestore,t.converter,wu(t._query,n))}_parse(t){const n=Xk(t.firestore);return function(r,a,l,u,f,d,m){let _;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Wp(m,d);const v=[];for(const x of m)v.push(Kp(u,r,x));_={arrayValue:{values:v}}}else _=Kp(u,r,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Wp(m,d),_=Qk(l,a,m,d==="in"||d==="not-in");return ae.create(f,d,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function aI(e,t,n){const i=t,r=nf("where",e);return El._create(r,i,n)}class rf extends sf{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rf(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,r){let a=i;const l=r.getFlattenedFilters();for(const u of l)Hv(a,u),a=wu(a,u)}(t._query,n),new Ks(t.firestore,t.converter,wu(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kp(e,t,n){if(typeof(n=Nr(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q_(t)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Zt.fromString(n));if(!it.isDocumentKey(i))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yp(e,new it(i))}if(n instanceof Xe)return yp(e,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xl(n)}.`)}function Wp(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Hv(e,t){if(t.isInequality()){const i=Uh(e),r=t.field;if(i!==null&&!i.isEqual(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=X_(e);a!==null&&lI(e,r,a)}const n=function(i,r){for(const a of i)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function lI(e,t,n){if(!n.isEqual(t))throw new Y(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cI{convertValue(t,n="none"){switch(zi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ht()}}convertObject(t,n){const i={};return ro(t.fields,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertGeoPoint(t){return new Jh(oe(t.latitude),oe(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=H_(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Hr(t));default:return null}}convertTimestamp(t){const n=ui(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Zt.fromString(t);le(wv(i));const r=new Vr(i.get(1),i.get(3)),a=new it(i.popFirst(5));return r.isEqual(n)||$n(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uI extends Vv{constructor(t,n,i,r,a,l){super(t,n,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(nf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ra extends uI{data(t={}){return super.data(t)}}class hI{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ko(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new ra(this._firestore,this._userDataWriter,i.key,i,new Ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new ra(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ko(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new ra(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ko(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:fI(l.type),doc:u,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}class dI extends cI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function jv(e){e=Iu(e,Ks);const t=Iu(e.firestore,Ov),n=Wk(t),i=new dI(t);return sI(e._query),Vk(n,e._query).then(r=>new hI(t,i,e,r))}(function(e,t=!0){(function(n){js=n})(hC),wa(new Rr("firestore",(n,{instanceIdentifier:i,options:r})=>{const a=n.getProvider("app").getImmediate(),l=new Ov(new kA(n.getProvider("auth-internal")),new MA(n.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vr(u.options.projectId,f)}(a,i),a);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),_s(mp,"3.9.0",e),_s(mp,"3.9.0","esm2017")})();const pI="AIzaSyDa4EAZpUtMcU4ct7XIjzmALae3YPVIFN0",mI="1:1048115582755:web:857e1bc1f3ceb6d4591e96";Rg({apiKey:pI,authDomain:"none-chinese-a-year.firebaseapp.com",databaseURL:"https://none-chinese-a-year-default-rtdb.firebaseio.com",projectId:"none-chinese-a-year",storageBucket:"none-chinese-a-year.appspot.com",messagingSenderId:"1048115582755",appId:mI,measurementId:"G-TZVQGP3ZDJ"});const Lu=Kk(),gI={setup(){const e=en([]);return(async()=>{qk(Lu,"article-lists","popular-article-lists"),(await jv(Dv(Lu,"article-lists"))).forEach(i=>{e.value.unshift(i.data())})})(),{popArticles:e}}},_I=I("h1",{class:"text-4xl text-center bg-yellow-300"},"\u6E2C\u8A66",-1);function vI(e,t,n,i,r,a){const l=GE,u=VE,f=kE,d=mE,m=k1;return Xt(),ne(Ue,null,[wt(l),_I,i.popArticles.length?(Xt(),xd(u,{key:0,"pop-articles":i.popArticles},null,8,["pop-articles"])):(Xt(),xd(f,{key:1})),wt(d),wt(m)],64)}var yI=ge(gI,[["render",vI]]),wI=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Mu={exports:{}};/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(wI,function(n){var i="1.7.1";function r(s){var o,c,h,p;for(c=1,h=arguments.length;c<h;c++){p=arguments[c];for(o in p)s[o]=p[o]}return s}var a=Object.create||function(){function s(){}return function(o){return s.prototype=o,new s}}();function l(s,o){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var h=c.call(arguments,2);return function(){return s.apply(o,h.length?h.concat(c.call(arguments)):arguments)}}var u=0;function f(s){return s._leaflet_id=s._leaflet_id||++u,s._leaflet_id}function d(s,o,c){var h,p,g,w;return w=function(){h=!1,p&&(g.apply(c,p),p=!1)},g=function(){h?p=arguments:(s.apply(c,arguments),setTimeout(w,o),h=!0)},g}function m(s,o,c){var h=o[1],p=o[0],g=h-p;return s===h&&c?s:((s-p)%g+g)%g+p}function _(){return!1}function v(s,o){var c=Math.pow(10,o===void 0?6:o);return Math.round(s*c)/c}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return x(s).split(/\s+/)}function T(s,o){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var c in o)s.options[c]=o[c];return s.options}function C(s,o,c){var h=[];for(var p in s)h.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!o||o.indexOf("?")===-1?"?":"&")+h.join("&")}var U=/\{ *([\w_-]+) *\}/g;function W(s,o){return s.replace(U,function(c,h){var p=o[h];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(o)),p})}var J=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function at(s,o){for(var c=0;c<s.length;c++)if(s[c]===o)return c;return-1}var vt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Kt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var mt=0;function qt(s){var o=+new Date,c=Math.max(0,16-(o-mt));return mt=o+c,window.setTimeout(s,c)}var Vt=window.requestAnimationFrame||Kt("RequestAnimationFrame")||qt,_e=window.cancelAnimationFrame||Kt("CancelAnimationFrame")||Kt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function xt(s,o,c){if(c&&Vt===qt)s.call(o);else return Vt.call(window,l(s,o))}function At(s){s&&_e.call(window,s)}var cn={extend:r,create:a,bind:l,lastId:u,stamp:f,throttle:d,wrapNum:m,falseFn:_,formatNum:v,trim:x,splitWords:P,setOptions:T,getParamString:C,template:W,isArray:J,indexOf:at,emptyImageUrl:vt,requestFn:Vt,cancelFn:_e,requestAnimFrame:xt,cancelAnimFrame:At};function Ee(){}Ee.extend=function(s){var o=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=o.__super__=this.prototype,h=a(c);h.constructor=o,o.prototype=h;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(o[p]=this[p]);return s.statics&&(r(o,s.statics),delete s.statics),s.includes&&(Hn(s.includes),r.apply(null,[h].concat(s.includes)),delete s.includes),h.options&&(s.options=r(a(h.options),s.options)),r(h,s),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=h._initHooks.length;g<w;g++)h._initHooks[g].call(this)}},o},Ee.include=function(s){return r(this.prototype,s),this},Ee.mergeOptions=function(s){return r(this.prototype.options,s),this},Ee.addInitHook=function(s){var o=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Hn(s){if(!(typeof L=="undefined"||!L||!L.Mixin)){s=J(s)?s:[s];for(var o=0;o<s.length;o++)s[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bt={on:function(s,o,c){if(typeof s=="object")for(var h in s)this._on(h,s[h],o);else{s=P(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],o,c)}return this},off:function(s,o,c){if(!s)delete this._events;else if(typeof s=="object")for(var h in s)this._off(h,s[h],o);else{s=P(s);for(var p=0,g=s.length;p<g;p++)this._off(s[p],o,c)}return this},_on:function(s,o,c){this._events=this._events||{};var h=this._events[s];h||(h=[],this._events[s]=h),c===this&&(c=void 0);for(var p={fn:o,ctx:c},g=h,w=0,E=g.length;w<E;w++)if(g[w].fn===o&&g[w].ctx===c)return;g.push(p)},_off:function(s,o,c){var h,p,g;if(!!this._events&&(h=this._events[s],!!h)){if(!o){for(p=0,g=h.length;p<g;p++)h[p].fn=_;delete this._events[s];return}if(c===this&&(c=void 0),h)for(p=0,g=h.length;p<g;p++){var w=h[p];if(w.ctx===c&&w.fn===o){w.fn=_,this._firingCount&&(this._events[s]=h=h.slice()),h.splice(p,1);return}}}},fire:function(s,o,c){if(!this.listens(s,c))return this;var h=r({},o,{type:s,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,w=p.length;g<w;g++){var E=p[g];E.fn.call(E.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(s,o){var c=this._events&&this._events[s];if(c&&c.length)return!0;if(o){for(var h in this._eventParents)if(this._eventParents[h].listens(s,o))return!0}return!1},once:function(s,o,c){if(typeof s=="object"){for(var h in s)this.once(h,s[h],o);return this}var p=l(function(){this.off(s,o,c).off(s,p,c)},this);return this.on(s,o,c).on(s,p,c)},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var o in this._eventParents)this._eventParents[o].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};bt.addEventListener=bt.on,bt.removeEventListener=bt.clearAllEventListeners=bt.off,bt.addOneTimeEventListener=bt.once,bt.fireEvent=bt.fire,bt.hasEventListeners=bt.listens;var St=Ee.extend(bt);function q(s,o,c){this.x=c?Math.round(s):s,this.y=c?Math.round(o):o}var Te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(s){return this.clone()._add(dt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(dt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new q(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new q(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(s){s=dt(s);var o=s.x-this.x,c=s.y-this.y;return Math.sqrt(o*o+c*c)},equals:function(s){return s=dt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=dt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function dt(s,o,c){return s instanceof q?s:J(s)?new q(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new q(s.x,s.y):new q(s,o,c)}function Et(s,o){if(!!s)for(var c=o?[s,o]:s,h=0,p=c.length;h<p;h++)this.extend(c[h])}Et.prototype={extend:function(s){return s=dt(s),!this.min&&!this.max?(this.min=s.clone(),this.max=s.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(s){return new q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return new q(this.min.x,this.max.y)},getTopRight:function(){return new q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var o,c;return typeof s[0]=="number"||s instanceof q?s=dt(s):s=Qt(s),s instanceof Et?(o=s.min,c=s.max):o=c=s,o.x>=this.min.x&&c.x<=this.max.x&&o.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=Qt(s);var o=this.min,c=this.max,h=s.min,p=s.max,g=p.x>=o.x&&h.x<=c.x,w=p.y>=o.y&&h.y<=c.y;return g&&w},overlaps:function(s){s=Qt(s);var o=this.min,c=this.max,h=s.min,p=s.max,g=p.x>o.x&&h.x<c.x,w=p.y>o.y&&h.y<c.y;return g&&w},isValid:function(){return!!(this.min&&this.max)}};function Qt(s,o){return!s||s instanceof Et?s:new Et(s,o)}function Ut(s,o){if(!!s)for(var c=o?[s,o]:s,h=0,p=c.length;h<p;h++)this.extend(c[h])}Ut.prototype={extend:function(s){var o=this._southWest,c=this._northEast,h,p;if(s instanceof k)h=s,p=s;else if(s instanceof Ut){if(h=s._southWest,p=s._northEast,!h||!p)return this}else return s?this.extend(H(s)||Wt(s)):this;return!o&&!c?(this._southWest=new k(h.lat,h.lng),this._northEast=new k(p.lat,p.lng)):(o.lat=Math.min(h.lat,o.lat),o.lng=Math.min(h.lng,o.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var o=this._southWest,c=this._northEast,h=Math.abs(o.lat-c.lat)*s,p=Math.abs(o.lng-c.lng)*s;return new Ut(new k(o.lat-h,o.lng-p),new k(c.lat+h,c.lng+p))},getCenter:function(){return new k((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new k(this.getNorth(),this.getWest())},getSouthEast:function(){return new k(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof k||"lat"in s?s=H(s):s=Wt(s);var o=this._southWest,c=this._northEast,h,p;return s instanceof Ut?(h=s.getSouthWest(),p=s.getNorthEast()):h=p=s,h.lat>=o.lat&&p.lat<=c.lat&&h.lng>=o.lng&&p.lng<=c.lng},intersects:function(s){s=Wt(s);var o=this._southWest,c=this._northEast,h=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=o.lat&&h.lat<=c.lat,w=p.lng>=o.lng&&h.lng<=c.lng;return g&&w},overlaps:function(s){s=Wt(s);var o=this._southWest,c=this._northEast,h=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>o.lat&&h.lat<c.lat,w=p.lng>o.lng&&h.lng<c.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,o){return s?(s=Wt(s),this._southWest.equals(s.getSouthWest(),o)&&this._northEast.equals(s.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Wt(s,o){return s instanceof Ut?s:new Ut(s,o)}function k(s,o,c){if(isNaN(s)||isNaN(o))throw new Error("Invalid LatLng object: ("+s+", "+o+")");this.lat=+s,this.lng=+o,c!==void 0&&(this.alt=+c)}k.prototype={equals:function(s,o){if(!s)return!1;s=H(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(o===void 0?1e-9:o)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return K.distance(this,H(s))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(s){var o=180*s/40075017,c=o/Math.cos(Math.PI/180*this.lat);return Wt([this.lat-o,this.lng-c],[this.lat+o,this.lng+c])},clone:function(){return new k(this.lat,this.lng,this.alt)}};function H(s,o,c){return s instanceof k?s:J(s)&&typeof s[0]!="object"?s.length===3?new k(s[0],s[1],s[2]):s.length===2?new k(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new k(s.lat,"lng"in s?s.lng:s.lon,s.alt):o===void 0?null:new k(s,o,c)}var $={latLngToPoint:function(s,o){var c=this.projection.project(s),h=this.scale(o);return this.transformation._transform(c,h)},pointToLatLng:function(s,o){var c=this.scale(o),h=this.transformation.untransform(s,c);return this.projection.unproject(h)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var o=this.projection.bounds,c=this.scale(s),h=this.transformation.transform(o.min,c),p=this.transformation.transform(o.max,c);return new Et(h,p)},infinite:!1,wrapLatLng:function(s){var o=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,h=s.alt;return new k(c,o,h)},wrapLatLngBounds:function(s){var o=s.getCenter(),c=this.wrapLatLng(o),h=o.lat-c.lat,p=o.lng-c.lng;if(h===0&&p===0)return s;var g=s.getSouthWest(),w=s.getNorthEast(),E=new k(g.lat-h,g.lng-p),S=new k(w.lat-h,w.lng-p);return new Ut(E,S)}},K=r({},$,{wrapLng:[-180,180],R:6371e3,distance:function(s,o){var c=Math.PI/180,h=s.lat*c,p=o.lat*c,g=Math.sin((o.lat-s.lat)*c/2),w=Math.sin((o.lng-s.lng)*c/2),E=g*g+Math.cos(h)*Math.cos(p)*w*w,S=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*S}}),kt=6378137,Dt={R:kt,MAX_LATITUDE:85.0511287798,project:function(s){var o=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,s.lat),-c),p=Math.sin(h*o);return new q(this.R*s.lng*o,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var o=180/Math.PI;return new k((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*o,s.x*o/this.R)},bounds:function(){var s=kt*Math.PI;return new Et([-s,-s],[s,s])}()};function ct(s,o,c,h){if(J(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=o,this._c=c,this._d=h}ct.prototype={transform:function(s,o){return this._transform(s.clone(),o)},_transform:function(s,o){return o=o||1,s.x=o*(this._a*s.x+this._b),s.y=o*(this._c*s.y+this._d),s},untransform:function(s,o){return o=o||1,new q((s.x/o-this._b)/this._a,(s.y/o-this._d)/this._c)}};function st(s,o,c,h){return new ct(s,o,c,h)}var y=r({},K,{code:"EPSG:3857",projection:Dt,transformation:function(){var s=.5/(Math.PI*Dt.R);return st(s,.5,-s,.5)}()}),b=r({},y,{code:"EPSG:900913"});function A(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function R(s,o){var c="",h,p,g,w,E,S;for(h=0,g=s.length;h<g;h++){for(E=s[h],p=0,w=E.length;p<w;p++)S=E[p],c+=(p?"L":"M")+S.x+" "+S.y;c+=o?fo?"z":"x":""}return c||"M0 0"}var N=document.documentElement.style,F="ActiveXObject"in window,j=F&&!document.addEventListener,B="msLaunchUri"in navigator&&!("documentMode"in document),V=fn("webkit"),D=fn("android"),Q=fn("android 2")||fn("android 3"),G=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tt=D&&fn("Google")&&G<537&&!("AudioNode"in window),rt=!!window.opera,gt=!B&&fn("chrome"),Ft=fn("gecko")&&!V&&!rt&&!F,It=!gt&&fn("safari"),zt=fn("phantom"),Be="OTransition"in N,En=navigator.platform.indexOf("Win")===0,ji=F&&"transition"in N,Tn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Q,Gs="MozPerspective"in N,Ht=!window.L_DISABLE_3D&&(ji||Tn||Gs)&&!Be&&!zt,ve=typeof orientation!="undefined"||fn("mobile"),ho=ve&&V,gy=ve&&Tn,jn=!window.PointerEvent&&window.MSPointerEvent,un=!!(window.PointerEvent||jn),hn=!window.L_NO_TOUCH&&(un||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pf=ve&&rt,_y=ve&&Ft,qn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qi=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,o),window.removeEventListener("testPassiveEventSupport",_,o)}catch{}return s}(),mf=function(){return!!document.createElement("canvas").getContext}(),fo=!!(document.createElementNS&&A("svg").createSVGRect),po=!fo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var o=s.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}();function fn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var vy={ie:F,ielt9:j,edge:B,webkit:V,android:D,android23:Q,androidStock:tt,opera:rt,chrome:gt,gecko:Ft,safari:It,phantom:zt,opera12:Be,win:En,ie3d:ji,webkit3d:Tn,gecko3d:Gs,any3d:Ht,mobile:ve,mobileWebkit:ho,mobileWebkit3d:gy,msPointer:jn,pointer:un,touch:hn,mobileOpera:pf,mobileGecko:_y,retina:qn,passiveEvents:qi,canvas:mf,svg:fo,vml:po},Sl=jn?"MSPointerDown":"pointerdown",kl=jn?"MSPointerMove":"pointermove",Il=jn?"MSPointerUp":"pointerup",Pl=jn?"MSPointerCancel":"pointercancel",Zi={},gf=!1;function yy(s,o,c,h){return o==="touchstart"?xy(s,c,h):o==="touchmove"?Ty(s,c,h):o==="touchend"&&Cy(s,c,h),this}function wy(s,o,c){var h=s["_leaflet_"+o+c];return o==="touchstart"?s.removeEventListener(Sl,h,!1):o==="touchmove"?s.removeEventListener(kl,h,!1):o==="touchend"&&(s.removeEventListener(Il,h,!1),s.removeEventListener(Pl,h,!1)),this}function xy(s,o,c){var h=l(function(p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Ke(p),Ll(p,o)});s["_leaflet_touchstart"+c]=h,s.addEventListener(Sl,h,!1),gf||(document.addEventListener(Sl,by,!0),document.addEventListener(kl,Ey,!0),document.addEventListener(Il,_f,!0),document.addEventListener(Pl,_f,!0),gf=!0)}function by(s){Zi[s.pointerId]=s}function Ey(s){Zi[s.pointerId]&&(Zi[s.pointerId]=s)}function _f(s){delete Zi[s.pointerId]}function Ll(s,o){s.touches=[];for(var c in Zi)s.touches.push(Zi[c]);s.changedTouches=[s],o(s)}function Ty(s,o,c){var h=function(p){p.pointerType===(p.MSPOINTER_TYPE_MOUSE||"mouse")&&p.buttons===0||Ll(p,o)};s["_leaflet_touchmove"+c]=h,s.addEventListener(kl,h,!1)}function Cy(s,o,c){var h=function(p){Ll(p,o)};s["_leaflet_touchend"+c]=h,s.addEventListener(Il,h,!1),s.addEventListener(Pl,h,!1)}var mo=jn?"MSPointerDown":un?"pointerdown":"touchstart",go=jn?"MSPointerUp":un?"pointerup":"touchend",Ki="_leaflet_";function Ay(s,o,c){var h,p,g=!1,w=250;function E(M){if(un){if(!M.isPrimary||M.pointerType==="mouse")return}else if(M.touches.length>1)return;var Z=Date.now(),nt=Z-(h||Z);p=M.touches?M.touches[0]:M,g=nt>0&&nt<=w,h=Z}function S(M){if(g&&!p.cancelBubble){if(un){if(M.pointerType==="mouse")return;var Z={},nt,Lt;for(Lt in p)nt=p[Lt],Z[Lt]=nt&&nt.bind?nt.bind(p):nt;p=Z}p.type="dblclick",p.button=0,o(p),h=null}}return s[Ki+mo+c]=E,s[Ki+go+c]=S,s[Ki+"dblclick"+c]=o,s.addEventListener(mo,E,qi?{passive:!1}:!1),s.addEventListener(go,S,qi?{passive:!1}:!1),s.addEventListener("dblclick",o,!1),this}function Sy(s,o){var c=s[Ki+mo+o],h=s[Ki+go+o],p=s[Ki+"dblclick"+o];return s.removeEventListener(mo,c,qi?{passive:!1}:!1),s.removeEventListener(go,h,qi?{passive:!1}:!1),s.removeEventListener("dblclick",p,!1),this}var Ml=yo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ys=yo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vf=Ys==="webkitTransition"||Ys==="OTransition"?Ys+"End":"transitionend";function yf(s){return typeof s=="string"?document.getElementById(s):s}function Xs(s,o){var c=s.style[o]||s.currentStyle&&s.currentStyle[o];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(s,null);c=h?h[o]:null}return c==="auto"?null:c}function Pt(s,o,c){var h=document.createElement(s);return h.className=o||"",c&&c.appendChild(h),h}function Yt(s){var o=s.parentNode;o&&o.removeChild(s)}function _o(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Wi(s){var o=s.parentNode;o&&o.lastChild!==s&&o.appendChild(s)}function Gi(s){var o=s.parentNode;o&&o.firstChild!==s&&o.insertBefore(s,o.firstChild)}function Nl(s,o){if(s.classList!==void 0)return s.classList.contains(o);var c=vo(s);return c.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(c)}function ft(s,o){if(s.classList!==void 0)for(var c=P(o),h=0,p=c.length;h<p;h++)s.classList.add(c[h]);else if(!Nl(s,o)){var g=vo(s);Rl(s,(g?g+" ":"")+o)}}function Jt(s,o){s.classList!==void 0?s.classList.remove(o):Rl(s,x((" "+vo(s)+" ").replace(" "+o+" "," ")))}function Rl(s,o){s.className.baseVal===void 0?s.className=o:s.className.baseVal=o}function vo(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ze(s,o){"opacity"in s.style?s.style.opacity=o:"filter"in s.style&&ky(s,o)}function ky(s,o){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(h)}catch{if(o===1)return}o=Math.round(o*100),c?(c.Enabled=o!==100,c.Opacity=o):s.style.filter+=" progid:"+h+"(opacity="+o+")"}function yo(s){for(var o=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in o)return s[c];return!1}function pi(s,o,c){var h=o||new q(0,0);s.style[Ml]=(ji?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function ie(s,o){s._leaflet_pos=o,Ht?pi(s,o):(s.style.left=o.x+"px",s.style.top=o.y+"px")}function Zn(s){return s._leaflet_pos||new q(0,0)}var Qs,Js,Dl;if("onselectstart"in document)Qs=function(){_t(window,"selectstart",Ke)},Js=function(){ee(window,"selectstart",Ke)};else{var tr=yo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qs=function(){if(tr){var s=document.documentElement.style;Dl=s[tr],s[tr]="none"}},Js=function(){tr&&(document.documentElement.style[tr]=Dl,Dl=void 0)}}function Ol(){_t(window,"dragstart",Ke)}function Bl(){ee(window,"dragstart",Ke)}var wo,$l;function Fl(s){for(;s.tabIndex===-1;)s=s.parentNode;!s.style||(xo(),wo=s,$l=s.style.outline,s.style.outline="none",_t(window,"keydown",xo))}function xo(){!wo||(wo.style.outline=$l,wo=void 0,$l=void 0,ee(window,"keydown",xo))}function wf(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function zl(s){var o=s.getBoundingClientRect();return{x:o.width/s.offsetWidth||1,y:o.height/s.offsetHeight||1,boundingClientRect:o}}var Iy={TRANSFORM:Ml,TRANSITION:Ys,TRANSITION_END:vf,get:yf,getStyle:Xs,create:Pt,remove:Yt,empty:_o,toFront:Wi,toBack:Gi,hasClass:Nl,addClass:ft,removeClass:Jt,setClass:Rl,getClass:vo,setOpacity:Ze,testProp:yo,setTransform:pi,setPosition:ie,getPosition:Zn,disableTextSelection:Qs,enableTextSelection:Js,disableImageDrag:Ol,enableImageDrag:Bl,preventOutline:Fl,restoreOutline:xo,getSizedParentNode:wf,getScale:zl};function _t(s,o,c,h){if(typeof o=="object")for(var p in o)bo(s,p,o[p],c);else{o=P(o);for(var g=0,w=o.length;g<w;g++)bo(s,o[g],c,h)}return this}var Qe="_leaflet_events";function ee(s,o,c,h){if(typeof o=="object")for(var p in o)Vl(s,p,o[p],c);else if(o){o=P(o);for(var g=0,w=o.length;g<w;g++)Vl(s,o[g],c,h)}else{for(var E in s[Qe])Vl(s,E,s[Qe][E]);delete s[Qe]}return this}function xf(){if(un)return!(B||It)}var Ul={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bo(s,o,c,h){var p=o+f(c)+(h?"_"+f(h):"");if(s[Qe]&&s[Qe][p])return this;var g=function(E){return c.call(h||s,E||window.event)},w=g;un&&o.indexOf("touch")===0?yy(s,o,g,p):hn&&o==="dblclick"&&!xf()?Ay(s,g,p):"addEventListener"in s?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?s.addEventListener(Ul[o]||o,g,qi?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(g=function(E){E=E||window.event,Eo(s,E)&&w(E)},s.addEventListener(Ul[o],g,!1)):s.addEventListener(o,w,!1):"attachEvent"in s&&s.attachEvent("on"+o,g),s[Qe]=s[Qe]||{},s[Qe][p]=g}function Vl(s,o,c,h){var p=o+f(c)+(h?"_"+f(h):""),g=s[Qe]&&s[Qe][p];if(!g)return this;un&&o.indexOf("touch")===0?wy(s,o,p):hn&&o==="dblclick"&&!xf()?Sy(s,p):"removeEventListener"in s?s.removeEventListener(Ul[o]||o,g,!1):"detachEvent"in s&&s.detachEvent("on"+o,g),s[Qe][p]=null}function mi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,Zl(s),this}function Hl(s){return bo(s,"wheel",mi),this}function er(s){return _t(s,"mousedown touchstart dblclick",mi),bo(s,"click",ql),this}function Ke(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Cn(s){return Ke(s),mi(s),this}function bf(s,o){if(!o)return new q(s.clientX,s.clientY);var c=zl(o),h=c.boundingClientRect;return new q((s.clientX-h.left)/c.x-o.clientLeft,(s.clientY-h.top)/c.y-o.clientTop)}var Py=En&&gt?2*window.devicePixelRatio:Ft?window.devicePixelRatio:1;function Ef(s){return B?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Py:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}var jl={};function ql(s){jl[s.type]=!0}function Zl(s){var o=jl[s.type];return jl[s.type]=!1,o}function Eo(s,o){var c=o.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var Ly={on:_t,off:ee,stopPropagation:mi,disableScrollPropagation:Hl,disableClickPropagation:er,preventDefault:Ke,stop:Cn,getMousePosition:bf,getWheelDelta:Ef,fakeStop:ql,skipped:Zl,isExternalTarget:Eo,addListener:_t,removeListener:ee},Tf=St.extend({run:function(s,o,c,h){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Zn(s),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=xt(this._animate,this),this._step()},_step:function(s){var o=+new Date-this._startTime,c=this._duration*1e3;o<c?this._runFrame(this._easeOut(o/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,o){var c=this._startPos.add(this._offset.multiplyBy(s));o&&c._round(),ie(this._el,c),this.fire("step")},_complete:function(){At(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Tt=St.extend({options:{crs:y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,o){o=T(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(H(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ys&&Ht&&!pf&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_t(this._proxy,vf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,o,c){if(o=o===void 0?this._zoom:this._limitZoom(o),s=this._limitCenter(H(s),o,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,o,c.zoom):this._tryAnimatedPan(s,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(s,o),this},setZoom:function(s,o){return this._loaded?this.setView(this.getCenter(),s,{zoom:o}):(this._zoom=s,this)},zoomIn:function(s,o){return s=s||(Ht?this.options.zoomDelta:1),this.setZoom(this._zoom+s,o)},zoomOut:function(s,o){return s=s||(Ht?this.options.zoomDelta:1),this.setZoom(this._zoom-s,o)},setZoomAround:function(s,o,c){var h=this.getZoomScale(o),p=this.getSize().divideBy(2),g=s instanceof q?s:this.latLngToContainerPoint(s),w=g.subtract(p).multiplyBy(1-1/h),E=this.containerPointToLatLng(p.add(w));return this.setView(E,o,{zoom:c})},_getBoundsCenterZoom:function(s,o){o=o||{},s=s.getBounds?s.getBounds():Wt(s);var c=dt(o.paddingTopLeft||o.padding||[0,0]),h=dt(o.paddingBottomRight||o.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(h));if(p=typeof o.maxZoom=="number"?Math.min(o.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=h.subtract(c).divideBy(2),w=this.project(s.getSouthWest(),p),E=this.project(s.getNorthEast(),p),S=this.unproject(w.add(E).divideBy(2).add(g),p);return{center:S,zoom:p}},fitBounds:function(s,o){if(s=Wt(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,o);return this.setView(c.center,c.zoom,o)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,o){return this.setView(s,this._zoom,{pan:o})},panBy:function(s,o){if(s=dt(s).round(),o=o||{},!s.x&&!s.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Tf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ft(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,o.duration||.25,o.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,o,c){if(c=c||{},c.animate===!1||!Ht)return this.setView(s,o,c);this._stop();var h=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),w=this._zoom;s=H(s),o=o===void 0?w:o;var E=Math.max(g.x,g.y),S=E*this.getZoomScale(w,o),M=p.distanceTo(h)||1,Z=1.42,nt=Z*Z;function Lt(se){var No=se?-1:1,_0=se?S:E,v0=S*S-E*E+No*nt*nt*M*M,y0=2*_0*nt*M,rc=v0/y0,id=Math.sqrt(rc*rc+1)-rc,w0=id<1e-9?-18:Math.log(id);return w0}function Pn(se){return(Math.exp(se)-Math.exp(-se))/2}function vi(se){return(Math.exp(se)+Math.exp(-se))/2}function Mo(se){return Pn(se)/vi(se)}var Wn=Lt(0);function sc(se){return E*(vi(Wn)/vi(Wn+Z*se))}function d0(se){return E*(vi(Wn)*Mo(Wn+Z*se)-Pn(Wn))/nt}function p0(se){return 1-Math.pow(1-se,1.5)}var m0=Date.now(),ed=(Lt(1)-Wn)/Z,g0=c.duration?1e3*c.duration:1e3*ed*.8;function nd(){var se=(Date.now()-m0)/g0,No=p0(se)*ed;se<=1?(this._flyToFrame=xt(nd,this),this._move(this.unproject(h.add(p.subtract(h).multiplyBy(d0(No)/M)),w),this.getScaleZoom(E/sc(No),w),{flyTo:!0})):this._move(s,o)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),nd.call(this),this},flyToBounds:function(s,o){var c=this._getBoundsCenterZoom(s,o);return this.flyTo(c.center,c.zoom,o)},setMaxBounds:function(s){if(s=Wt(s),s.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(s){var o=this.options.minZoom;return this.options.minZoom=s,this._loaded&&o!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var o=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&o!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,o){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,Wt(s));return c.equals(h)||this.panTo(h,o),this._enforcingBounds=!1,this},panInside:function(s,o){o=o||{};var c=dt(o.paddingTopLeft||o.padding||[0,0]),h=dt(o.paddingBottomRight||o.padding||[0,0]),p=this.getCenter(),g=this.project(p),w=this.project(s),E=this.getPixelBounds(),S=E.getSize().divideBy(2),M=Qt([E.min.add(c),E.max.subtract(h)]);if(!M.contains(w)){this._enforcingBounds=!0;var Z=g.subtract(w),nt=dt(w.x+Z.x,w.y+Z.y);(w.x<M.min.x||w.x>M.max.x)&&(nt.x=g.x-Z.x,Z.x>0?nt.x+=S.x-c.x:nt.x-=S.x-h.x),(w.y<M.min.y||w.y>M.max.y)&&(nt.y=g.y-Z.y,Z.y>0?nt.y+=S.y-c.y:nt.y-=S.y-h.y),this.panTo(this.unproject(nt),o),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=o.divideBy(2).round(),p=c.divideBy(2).round(),g=h.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,c,s):navigator.geolocation.getCurrentPosition(o,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){var o=s.code,c=s.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(s){var o=s.coords.latitude,c=s.coords.longitude,h=new k(o,c),p=h.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(p);this.setView(h,g.maxZoom?Math.min(w,g.maxZoom):w)}var E={latlng:h,bounds:p,timestamp:s.timestamp};for(var S in s.coords)typeof s.coords[S]=="number"&&(E[S]=s.coords[S]);this.fire("locationfound",E)},addHandler:function(s,o){if(!o)return this;var c=this[s]=new o(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(At(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Yt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,o){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),h=Pt("div",c,o||this._mapPane);return s&&(this._panes[s]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),o=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Ut(o,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,o,c){s=Wt(s),c=dt(c||[0,0]);var h=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),w=s.getNorthWest(),E=s.getSouthEast(),S=this.getSize().subtract(c),M=Qt(this.project(E,h),this.project(w,h)).getSize(),Z=Ht?this.options.zoomSnap:1,nt=S.x/M.x,Lt=S.y/M.y,Pn=o?Math.max(nt,Lt):Math.min(nt,Lt);return h=this.getScaleZoom(Pn,h),Z&&(h=Math.round(h/(Z/100))*(Z/100),h=o?Math.ceil(h/Z)*Z:Math.floor(h/Z)*Z),Math.max(p,Math.min(g,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,o){var c=this._getTopLeftPoint(s,o);return new Et(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,o){var c=this.options.crs;return o=o===void 0?this._zoom:o,c.scale(s)/c.scale(o)},getScaleZoom:function(s,o){var c=this.options.crs;o=o===void 0?this._zoom:o;var h=c.zoom(s*c.scale(o));return isNaN(h)?1/0:h},project:function(s,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(H(s),o)},unproject:function(s,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(dt(s),o)},layerPointToLatLng:function(s){var o=dt(s).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(s){var o=this.project(H(s))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(H(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Wt(s))},distance:function(s,o){return this.options.crs.distance(H(s),H(o))},containerPointToLayerPoint:function(s){return dt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return dt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var o=this.containerPointToLayerPoint(dt(s));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(s)))},mouseEventToContainerPoint:function(s){return bf(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var o=this._container=yf(s);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_t(o,"scroll",this._onScroll,this),this._containerId=f(o)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ht,ft(s,"leaflet-container"+(hn?" leaflet-touch":"")+(qn?" leaflet-retina":"")+(j?" leaflet-oldie":"")+(It?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Xs(s,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ie(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(s.markerPane,"leaflet-zoom-hide"),ft(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,o){ie(this._mapPane,new q(0,0));var c=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var h=this._zoom!==o;this._moveStart(h,!1)._move(s,o)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(s,o){return s&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(s,o,c){o===void 0&&(o=this._zoom);var h=this._zoom!==o;return this._zoom=o,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),(h||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return At(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ie(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var o=s?ee:_t;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Ht&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){At(this._resizeRequest),this._resizeRequest=xt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,o){for(var c=[],h,p=o==="mouseout"||o==="mouseover",g=s.target||s.srcElement,w=!1;g;){if(h=this._targets[f(g)],h&&(o==="click"||o==="preclick")&&!s._simulated&&this._draggableMoved(h)){w=!0;break}if(h&&h.listens(o,!0)&&(p&&!Eo(g,s)||(c.push(h),p))||g===this._container)break;g=g.parentNode}return!c.length&&!w&&!p&&Eo(g,s)&&(c=[this]),c},_handleDOMEvent:function(s){if(!(!this._loaded||Zl(s))){var o=s.type;(o==="mousedown"||o==="keypress"||o==="keyup"||o==="keydown")&&Fl(s.target||s.srcElement),this._fireDOMEvent(s,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,o,c){if(s.type==="click"){var h=r({},s);h.type="preclick",this._fireDOMEvent(h,h.type,c)}if(!s._stopped&&(c=(c||[]).concat(this._findEventTargets(s,o)),!!c.length)){var p=c[0];o==="contextmenu"&&p.listens(o,!0)&&Ke(s);var g={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var w=p.getLatLng&&(!p._radius||p._radius<=10);g.containerPoint=w?this.latLngToContainerPoint(p.getLatLng()):this.mouseEventToContainerPoint(s),g.layerPoint=this.containerPointToLayerPoint(g.containerPoint),g.latlng=w?p.getLatLng():this.layerPointToLatLng(g.layerPoint)}for(var E=0;E<c.length;E++)if(c[E].fire(o,g,!0),g.originalEvent._stopped||c[E].options.bubblingMouseEvents===!1&&at(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,o=this._handlers.length;s<o;s++)this._handlers[s].disable()},whenReady:function(s,o){return this._loaded?s.call(o||this,{target:this}):this.on("load",s,o),this},_getMapPanePos:function(){return Zn(this._mapPane)||new q(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,o){var c=s&&o!==void 0?this._getNewPixelOrigin(s,o):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,o){var c=this.getSize()._divideBy(2);return this.project(s,o)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,o,c){var h=this._getNewPixelOrigin(c,o);return this.project(s,o)._subtract(h)},_latLngBoundsToNewLayerBounds:function(s,o,c){var h=this._getNewPixelOrigin(c,o);return Qt([this.project(s.getSouthWest(),o)._subtract(h),this.project(s.getNorthWest(),o)._subtract(h),this.project(s.getSouthEast(),o)._subtract(h),this.project(s.getNorthEast(),o)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,o,c){if(!c)return s;var h=this.project(s,o),p=this.getSize().divideBy(2),g=new Et(h.subtract(p),h.add(p)),w=this._getBoundsOffset(g,c,o);return w.round().equals([0,0])?s:this.unproject(h.add(w),o)},_limitOffset:function(s,o){if(!o)return s;var c=this.getPixelBounds(),h=new Et(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(h,o))},_getBoundsOffset:function(s,o,c){var h=Qt(this.project(o.getNorthEast(),c),this.project(o.getSouthWest(),c)),p=h.min.subtract(s.min),g=h.max.subtract(s.max),w=this._rebound(p.x,-g.x),E=this._rebound(p.y,-g.y);return new q(w,E)},_rebound:function(s,o){return s+o>0?Math.round(s-o)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(o))},_limitZoom:function(s){var o=this.getMinZoom(),c=this.getMaxZoom(),h=Ht?this.options.zoomSnap:1;return h&&(s=Math.round(s/h)*h),Math.max(o,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,o){var c=this._getCenterOffset(s)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,o),!0)},_createAnimProxy:function(){var s=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(o){var c=Ml,h=this._proxy.style[c];pi(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),o=this.getZoom();pi(this._proxy,this.project(s,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,o,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(o),p=this._getCenterOffset(s)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(p)?!1:(xt(function(){this._moveStart(!0,!1)._animateZoom(s,o,!0)},this),!0)},_animateZoom:function(s,o,c,h){!this._mapPane||(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=o,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:o,noUpdate:h}),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),xt(function(){this._moveEnd(!0)},this))}});function My(s,o){return new Tt(s,o)}var Je=Ee.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var o=this._map;return o&&o.removeControl(this),this.options.position=s,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var o=this._container=this.onAdd(s),c=this.getPosition(),h=s._controlCorners[c];return ft(o,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(o,h.firstChild):h.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),nr=function(s){return new Je(s)};Tt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},o="leaflet-",c=this._controlContainer=Pt("div",o+"control-container",this._container);function h(p,g){var w=o+p+" "+o+g;s[p+g]=Pt("div",w,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Yt(this._controlCorners[s]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cf=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,o,c,h){return c<h?-1:h<c?1:0}},initialize:function(s,o,c){T(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var h in s)this._addLayer(s[h],h);for(h in o)this._addLayer(o[h],h,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Je.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,o){return this._addLayer(s,o),this._map?this._update():this},addOverlay:function(s,o){return this._addLayer(s,o,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var o=this._getLayer(f(s));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",o=this._container=Pt("div",s),c=this.options.collapsed;o.setAttribute("aria-haspopup",!0),er(o),Hl(o);var h=this._section=Pt("section",s+"-list");c&&(this._map.on("click",this.collapse,this),D||_t(o,{mouseenter:this.expand,mouseleave:this.collapse},this));var p=this._layersLink=Pt("a",s+"-toggle",o);p.href="#",p.title="Layers",hn?(_t(p,"click",Cn),_t(p,"click",this.expand,this)):_t(p,"focus",this.expand,this),c||this.expand(),this._baseLayersList=Pt("div",s+"-base",h),this._separator=Pt("div",s+"-separator",h),this._overlaysList=Pt("div",s+"-overlays",h),o.appendChild(h)},_getLayer:function(s){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&f(this._layers[o].layer)===s)return this._layers[o]},_addLayer:function(s,o,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:o,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(h,p){return this.options.sortFunction(h.layer,p.layer,h.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_o(this._baseLayersList),_o(this._overlaysList),this._layerControlInputs=[];var s,o,c,h,p=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),o=o||h.overlay,s=s||!h.overlay,p+=h.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=o&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var o=this._getLayer(f(s.target)),c=o.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,o)},_createRadioElement:function(s,o){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(o?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(s){var o=document.createElement("label"),c=this._map.hasLayer(s.layer),h;s.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+f(this),c),this._layerControlInputs.push(h),h.layerId=f(s.layer),_t(h,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("div");o.appendChild(g),g.appendChild(h),g.appendChild(p);var w=s.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var s=this._layerControlInputs,o,c,h=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)o=s[g],c=this._getLayer(o.layerId).layer,o.checked?h.push(c):o.checked||p.push(c);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<h.length;g++)this._map.hasLayer(h[g])||this._map.addLayer(h[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,o,c,h=this._map.getZoom(),p=s.length-1;p>=0;p--)o=s[p],c=this._getLayer(o.layerId).layer,o.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ny=function(s,o,c){return new Cf(s,o,c)},Kl=Je.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(s){var o="leaflet-control-zoom",c=Pt("div",o+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,o+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,o+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,o,c,h,p){var g=Pt("a",c,h);return g.innerHTML=s,g.href="#",g.title=o,g.setAttribute("role","button"),g.setAttribute("aria-label",o),er(g),_t(g,"click",Cn),_t(g,"click",p,this),_t(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,o="leaflet-disabled";Jt(this._zoomInButton,o),Jt(this._zoomOutButton,o),(this._disabled||s._zoom===s.getMinZoom())&&ft(this._zoomOutButton,o),(this._disabled||s._zoom===s.getMaxZoom())&&ft(this._zoomInButton,o)}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Kl,this.addControl(this.zoomControl))});var Ry=function(s){return new Kl(s)},Af=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var o="leaflet-control-scale",c=Pt("div",o),h=this.options;return this._addScales(h,o+"-line",c),s.on(h.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,o,c){s.metric&&(this._mScale=Pt("div",o,c)),s.imperial&&(this._iScale=Pt("div",o,c))},_update:function(){var s=this._map,o=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,o]),s.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var o=this._getRoundNum(s),c=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,c,o/s)},_updateImperial:function(s){var o=s*3.2808399,c,h,p;o>5280?(c=o/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(p=this._getRoundNum(o),this._updateScale(this._iScale,p+" ft",p/o))},_updateScale:function(s,o,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=o},_getRoundNum:function(s){var o=Math.pow(10,(Math.floor(s)+"").length-1),c=s/o;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,o*c}}),Dy=function(s){return new Af(s)},Wl=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),er(this._container);for(var o in s._layers)s._layers[o].getAttribution&&this.addAttribution(s._layers[o].getAttribution());return this._update(),this._container},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(!!this._map){var s=[];for(var o in this._attributions)this._attributions[o]&&s.push(o);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(" | ")}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new Wl().addTo(this)});var Oy=function(s){return new Wl(s)};Je.Layers=Cf,Je.Zoom=Kl,Je.Scale=Af,Je.Attribution=Wl,nr.layers=Ny,nr.zoom=Ry,nr.scale=Dy,nr.attribution=Oy;var dn=Ee.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(s,o){return s.addHandler(o,this),this};var By={Events:bt},Sf=hn?"touchstart mousedown":"mousedown",kf={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Gl={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},gi=St.extend({options:{clickTolerance:3},initialize:function(s,o,c,h){T(this,h),this._element=s,this._dragStartTarget=o||s,this._preventOutline=c},enable:function(){this._enabled||(_t(this._dragStartTarget,Sf,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(gi._dragging===this&&this.finishDrag(),ee(this._dragStartTarget,Sf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(!(s._simulated||!this._enabled)&&(this._moved=!1,!Nl(this._element,"leaflet-zoom-anim")&&!(gi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(gi._dragging=this,this._preventOutline&&Fl(this._element),Ol(),Qs(),!this._moving))){this.fire("down");var o=s.touches?s.touches[0]:s,c=wf(this._element);this._startPoint=new q(o.clientX,o.clientY),this._parentScale=zl(c),_t(document,Gl[s.type],this._onMove,this),_t(document,kf[s.type],this._onUp,this)}},_onMove:function(s){if(!(s._simulated||!this._enabled)){if(s.touches&&s.touches.length>1){this._moved=!0;return}var o=s.touches&&s.touches.length===1?s.touches[0]:s,c=new q(o.clientX,o.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Ke(s),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Zn(this._element).subtract(c),ft(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,At(this._animRequest),this._lastEvent=s,this._animRequest=xt(this._updatePosition,this,!0))}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ie(this._element,this._newPos),this.fire("drag",s)},_onUp:function(s){s._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var s in Gl)ee(document,Gl[s],this._onMove,this),ee(document,kf[s],this._onUp,this);Bl(),Js(),this._moved&&this._moving&&(At(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,gi._dragging=!1}});function If(s,o){if(!o||!s.length)return s.slice();var c=o*o;return s=zy(s,c),s=Fy(s,c),s}function Pf(s,o,c){return Math.sqrt(ir(s,o,c,!0))}function $y(s,o,c){return ir(s,o,c)}function Fy(s,o){var c=s.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new h(c);p[0]=p[c-1]=1,Yl(s,p,o,0,c-1);var g,w=[];for(g=0;g<c;g++)p[g]&&w.push(s[g]);return w}function Yl(s,o,c,h,p){var g=0,w,E,S;for(E=h+1;E<=p-1;E++)S=ir(s[E],s[h],s[p],!0),S>g&&(w=E,g=S);g>c&&(o[w]=1,Yl(s,o,c,h,w),Yl(s,o,c,w,p))}function zy(s,o){for(var c=[s[0]],h=1,p=0,g=s.length;h<g;h++)Uy(s[h],s[p])>o&&(c.push(s[h]),p=h);return p<g-1&&c.push(s[g-1]),c}var Lf;function Mf(s,o,c,h,p){var g=h?Lf:_i(s,c),w=_i(o,c),E,S,M;for(Lf=w;;){if(!(g|w))return[s,o];if(g&w)return!1;E=g||w,S=To(s,o,E,c,p),M=_i(S,c),E===g?(s=S,g=M):(o=S,w=M)}}function To(s,o,c,h,p){var g=o.x-s.x,w=o.y-s.y,E=h.min,S=h.max,M,Z;return c&8?(M=s.x+g*(S.y-s.y)/w,Z=S.y):c&4?(M=s.x+g*(E.y-s.y)/w,Z=E.y):c&2?(M=S.x,Z=s.y+w*(S.x-s.x)/g):c&1&&(M=E.x,Z=s.y+w*(E.x-s.x)/g),new q(M,Z,p)}function _i(s,o){var c=0;return s.x<o.min.x?c|=1:s.x>o.max.x&&(c|=2),s.y<o.min.y?c|=4:s.y>o.max.y&&(c|=8),c}function Uy(s,o){var c=o.x-s.x,h=o.y-s.y;return c*c+h*h}function ir(s,o,c,h){var p=o.x,g=o.y,w=c.x-p,E=c.y-g,S=w*w+E*E,M;return S>0&&(M=((s.x-p)*w+(s.y-g)*E)/S,M>1?(p=c.x,g=c.y):M>0&&(p+=w*M,g+=E*M)),w=s.x-p,E=s.y-g,h?w*w+E*E:new q(p,g)}function An(s){return!J(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]!="undefined"}function Nf(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),An(s)}var Vy={simplify:If,pointToSegmentDistance:Pf,closestPointOnSegment:$y,clipSegment:Mf,_getEdgeIntersection:To,_getBitCode:_i,_sqClosestPointOnSegment:ir,isFlat:An,_flat:Nf};function Rf(s,o,c){var h,p=[1,4,2,8],g,w,E,S,M,Z,nt,Lt;for(g=0,Z=s.length;g<Z;g++)s[g]._code=_i(s[g],o);for(E=0;E<4;E++){for(nt=p[E],h=[],g=0,Z=s.length,w=Z-1;g<Z;w=g++)S=s[g],M=s[w],S._code&nt?M._code&nt||(Lt=To(M,S,nt,o,c),Lt._code=_i(Lt,o),h.push(Lt)):(M._code&nt&&(Lt=To(M,S,nt,o,c),Lt._code=_i(Lt,o),h.push(Lt)),h.push(S));s=h}return s}var Hy={clipPolygon:Rf},Xl={project:function(s){return new q(s.lng,s.lat)},unproject:function(s){return new k(s.y,s.x)},bounds:new Et([-180,-90],[180,90])},Ql={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Et([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var o=Math.PI/180,c=this.R,h=s.lat*o,p=this.R_MINOR/c,g=Math.sqrt(1-p*p),w=g*Math.sin(h),E=Math.tan(Math.PI/4-h/2)/Math.pow((1-w)/(1+w),g/2);return h=-c*Math.log(Math.max(E,1e-10)),new q(s.lng*o*c,h)},unproject:function(s){for(var o=180/Math.PI,c=this.R,h=this.R_MINOR/c,p=Math.sqrt(1-h*h),g=Math.exp(-s.y/c),w=Math.PI/2-2*Math.atan(g),E=0,S=.1,M;E<15&&Math.abs(S)>1e-7;E++)M=p*Math.sin(w),M=Math.pow((1-M)/(1+M),p/2),S=Math.PI/2-2*Math.atan(g*M)-w,w+=S;return new k(w*o,s.x*o/c)}},jy={LonLat:Xl,Mercator:Ql,SphericalMercator:Dt},qy=r({},K,{code:"EPSG:3395",projection:Ql,transformation:function(){var s=.5/(Math.PI*Ql.R);return st(s,.5,-s,.5)}()}),Df=r({},K,{code:"EPSG:4326",projection:Xl,transformation:st(1/180,1,-1/180,.5)}),Zy=r({},$,{projection:Xl,transformation:st(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,o){var c=o.lng-s.lng,h=o.lat-s.lat;return Math.sqrt(c*c+h*h)},infinite:!0});$.Earth=K,$.EPSG3395=qy,$.EPSG3857=y,$.EPSG900913=b,$.EPSG4326=Df,$.Simple=Zy;var tn=St.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var o=s.target;if(!!o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var c=this.getEvents();o.on(c,this),this.once("remove",function(){o.off(c,this)},this)}this.onAdd(o),this.getAttribution&&o.attributionControl&&o.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),o.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var o=f(s);return this._layers[o]?this:(this._layers[o]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var o=f(s);return this._layers[o]?(this._loaded&&s.onRemove(this),s.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(s.getAttribution()),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return!!s&&f(s)in this._layers},eachLayer:function(s,o){for(var c in this._layers)s.call(o,this._layers[c]);return this},_addLayers:function(s){s=s?J(s)?s:[s]:[];for(var o=0,c=s.length;o<c;o++)this.addLayer(s[o])},_addZoomLimit:function(s){(isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var o=f(s);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,o=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var p=this._zoomBoundLayers[h].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),o=p.maxZoom===void 0?o:Math.max(o,p.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yi=tn.extend({initialize:function(s,o){T(this,o),this._layers={};var c,h;if(s)for(c=0,h=s.length;c<h;c++)this.addLayer(s[c])},addLayer:function(s){var o=this.getLayerId(s);return this._layers[o]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var o=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(s){if(!s)return!1;var o=typeof s=="number"?s:this.getLayerId(s);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var o=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[s]&&h[s].apply(h,o);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,o){for(var c in this._layers)s.call(o,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),Ky=function(s,o){return new Yi(s,o)},Xi=Yi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Yi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Yi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ut;for(var o in this._layers){var c=this._layers[o];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),Wy=function(s,o){return new Xi(s,o)},Qi=Ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,o){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(h,s),h},_setIconStyles:function(s,o){var c=this.options,h=c[o+"Size"];typeof h=="number"&&(h=[h,h]);var p=dt(h),g=dt(o==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+o+" "+(c.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,o){return o=o||document.createElement("img"),o.src=s,o},_getIconUrl:function(s){return qn&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Gy(s){return new Qi(s)}var sr=Qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return sr.imagePath||(sr.imagePath=this._detectIconPath()),(this.options.imagePath||sr.imagePath)+Qi.prototype._getIconUrl.call(this,s)},_detectIconPath:function(){var s=Pt("div","leaflet-default-icon-path",document.body),o=Xs(s,"background-image")||Xs(s,"backgroundImage");return document.body.removeChild(s),o===null||o.indexOf("url")!==0?o="":o=o.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),o}}),Of=dn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new gi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var o=this._marker,c=o._map,h=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Zn(o._icon),w=c.getPixelBounds(),E=c.getPixelOrigin(),S=Qt(w.min._subtract(E).add(p),w.max._subtract(E).subtract(p));if(!S.contains(g)){var M=dt((Math.max(S.max.x,g.x)-S.max.x)/(w.max.x-S.max.x)-(Math.min(S.min.x,g.x)-S.min.x)/(w.min.x-S.min.x),(Math.max(S.max.y,g.y)-S.max.y)/(w.max.y-S.max.y)-(Math.min(S.min.y,g.y)-S.min.y)/(w.min.y-S.min.y)).multiplyBy(h);c.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),ie(o._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=xt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(At(this._panRequest),this._panRequest=xt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var o=this._marker,c=o._shadow,h=Zn(o._icon),p=o._map.layerPointToLatLng(h);c&&ie(c,h),o._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,o.fire("move",s).fire("drag",s)},_onDragEnd:function(s){At(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Co=tn.extend({options:{icon:new sr,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,o){T(this,o),this._latlng=H(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var o=this._latlng;return this._latlng=H(s),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ft(c,o),s.keyboard&&(c.tabIndex="0"),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(ft(p,o),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ie(this._icon,s),this._shadow&&ie(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var o=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(o)},_initInteraction:function(){if(!!this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Of)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Of(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ze(this._icon,s),this._shadow&&Ze(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yy(s,o){return new Co(s,o)}var Kn=tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ao=Kn.extend({options:{fill:!0,radius:10},initialize:function(s,o){T(this,o),this._latlng=H(s),this._radius=this.options.radius},setLatLng:function(s){var o=this._latlng;return this._latlng=H(s),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var o=s&&s.radius||this._radius;return Kn.prototype.setStyle.call(this,s),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,o=this._radiusY||s,c=this._clickTolerance(),h=[s+c,o+c];this._pxBounds=new Et(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xy(s,o){return new Ao(s,o)}var Jl=Ao.extend({initialize:function(s,o,c){if(typeof o=="number"&&(o=r({},c,{radius:o})),T(this,o),this._latlng=H(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ut(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Kn.prototype.setStyle,_project:function(){var s=this._latlng.lng,o=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===K.distance){var p=Math.PI/180,g=this._mRadius/K.R/p,w=c.project([o+g,s]),E=c.project([o-g,s]),S=w.add(E).divideBy(2),M=c.unproject(S).lat,Z=Math.acos((Math.cos(g*p)-Math.sin(o*p)*Math.sin(M*p))/(Math.cos(o*p)*Math.cos(M*p)))/p;(isNaN(Z)||Z===0)&&(Z=g/Math.cos(Math.PI/180*o)),this._point=S.subtract(c.getPixelOrigin()),this._radius=isNaN(Z)?0:S.x-c.project([M,s-Z]).x,this._radiusY=S.y-w.y}else{var nt=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(nt).x}this._updateBounds()}});function Qy(s,o,c){return new Jl(s,o,c)}var Sn=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,o){T(this,o),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var o=1/0,c=null,h=ir,p,g,w=0,E=this._parts.length;w<E;w++)for(var S=this._parts[w],M=1,Z=S.length;M<Z;M++){p=S[M-1],g=S[M];var nt=h(s,p,g,!0);nt<o&&(o=nt,c=h(s,p,g))}return c&&(c.distance=Math.sqrt(o)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var s,o,c,h,p,g,w,E=this._rings[0],S=E.length;if(!S)return null;for(s=0,o=0;s<S-1;s++)o+=E[s].distanceTo(E[s+1])/2;if(o===0)return this._map.layerPointToLatLng(E[0]);for(s=0,h=0;s<S-1;s++)if(p=E[s],g=E[s+1],c=p.distanceTo(g),h+=c,h>o)return w=(h-o)/c,this._map.layerPointToLatLng([g.x-w*(g.x-p.x),g.y-w*(g.y-p.y)])},getBounds:function(){return this._bounds},addLatLng:function(s,o){return o=o||this._defaultShape(),s=H(s),o.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ut,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return An(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var o=[],c=An(s),h=0,p=s.length;h<p;h++)c?(o[h]=H(s[h]),this._bounds.extend(o[h])):o[h]=this._convertLatLngs(s[h]);return o},_project:function(){var s=new Et;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),o=new q(s,s);this._pxBounds=new Et([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)])},_projectLatlngs:function(s,o,c){var h=s[0]instanceof k,p=s.length,g,w;if(h){for(w=[],g=0;g<p;g++)w[g]=this._map.latLngToLayerPoint(s[g]),c.extend(w[g]);o.push(w)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],o,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,c,h,p,g,w,E,S;for(c=0,p=0,g=this._rings.length;c<g;c++)for(S=this._rings[c],h=0,w=S.length;h<w-1;h++)E=Mf(S[h],S[h+1],s,h,!0),E&&(o[p]=o[p]||[],o[p].push(E[0]),(E[1]!==S[h+1]||h===w-2)&&(o[p].push(E[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,o=this.options.smoothFactor,c=0,h=s.length;c<h;c++)s[c]=If(s[c],o)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,o){var c,h,p,g,w,E,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,g=this._parts.length;c<g;c++)for(E=this._parts[c],h=0,w=E.length,p=w-1;h<w;p=h++)if(!(!o&&h===0)&&Pf(s,E[p],E[h])<=S)return!0;return!1}});function Jy(s,o){return new Sn(s,o)}Sn._flat=Nf;var Ji=Sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var s,o,c,h,p,g,w,E,S,M=this._rings[0],Z=M.length;if(!Z)return null;for(g=w=E=0,s=0,o=Z-1;s<Z;o=s++)c=M[s],h=M[o],p=c.y*h.x-h.y*c.x,w+=(c.x+h.x)*p,E+=(c.y+h.y)*p,g+=p*3;return g===0?S=M[0]:S=[w/g,E/g],this._map.layerPointToLatLng(S)},_convertLatLngs:function(s){var o=Sn.prototype._convertLatLngs.call(this,s),c=o.length;return c>=2&&o[0]instanceof k&&o[0].equals(o[c-1])&&o.pop(),o},_setLatLngs:function(s){Sn.prototype._setLatLngs.call(this,s),An(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return An(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,o=this.options.weight,c=new q(o,o);if(s=new Et(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,p=this._rings.length,g;h<p;h++)g=Rf(this._rings[h],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var o=!1,c,h,p,g,w,E,S,M;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,S=this._parts.length;g<S;g++)for(c=this._parts[g],w=0,M=c.length,E=M-1;w<M;E=w++)h=c[w],p=c[E],h.y>s.y!=p.y>s.y&&s.x<(p.x-h.x)*(s.y-h.y)/(p.y-h.y)+h.x&&(o=!o);return o||Sn.prototype._containsPoint.call(this,s,!0)}});function t0(s,o){return new Ji(s,o)}var kn=Xi.extend({initialize:function(s,o){T(this,o),this._layers={},s&&this.addData(s)},addData:function(s){var o=J(s)?s:s.features,c,h,p;if(o){for(c=0,h=o.length;c<h;c++)p=o[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var w=tc(s,g);return w?(w.feature=Io(s),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(s,w),this.addLayer(w)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(o){this._setLayerStyle(o,s)},this)},_setLayerStyle:function(s,o){s.setStyle&&(typeof o=="function"&&(o=o(s.feature)),s.setStyle(o))}});function tc(s,o){var c=s.type==="Feature"?s.geometry:s,h=c?c.coordinates:null,p=[],g=o&&o.pointToLayer,w=o&&o.coordsToLatLng||ec,E,S,M,Z;if(!h&&!c)return null;switch(c.type){case"Point":return E=w(h),Bf(g,s,E,o);case"MultiPoint":for(M=0,Z=h.length;M<Z;M++)E=w(h[M]),p.push(Bf(g,s,E,o));return new Xi(p);case"LineString":case"MultiLineString":return S=So(h,c.type==="LineString"?0:1,w),new Sn(S,o);case"Polygon":case"MultiPolygon":return S=So(h,c.type==="Polygon"?1:2,w),new Ji(S,o);case"GeometryCollection":for(M=0,Z=c.geometries.length;M<Z;M++){var nt=tc({geometry:c.geometries[M],type:"Feature",properties:s.properties},o);nt&&p.push(nt)}return new Xi(p);default:throw new Error("Invalid GeoJSON object.")}}function Bf(s,o,c,h){return s?s(o,c):new Co(c,h&&h.markersInheritOptions&&h)}function ec(s){return new k(s[1],s[0],s[2])}function So(s,o,c){for(var h=[],p=0,g=s.length,w;p<g;p++)w=o?So(s[p],o-1,c):(c||ec)(s[p]),h.push(w);return h}function nc(s,o){return o=typeof o=="number"?o:6,s.alt!==void 0?[v(s.lng,o),v(s.lat,o),v(s.alt,o)]:[v(s.lng,o),v(s.lat,o)]}function ko(s,o,c,h){for(var p=[],g=0,w=s.length;g<w;g++)p.push(o?ko(s[g],o-1,c,h):nc(s[g],h));return!o&&c&&p.push(p[0]),p}function ts(s,o){return s.feature?r({},s.feature,{geometry:o}):Io(o)}function Io(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ic={toGeoJSON:function(s){return ts(this,{type:"Point",coordinates:nc(this.getLatLng(),s)})}};Co.include(ic),Jl.include(ic),Ao.include(ic),Sn.include({toGeoJSON:function(s){var o=!An(this._latlngs),c=ko(this._latlngs,o?1:0,!1,s);return ts(this,{type:(o?"Multi":"")+"LineString",coordinates:c})}}),Ji.include({toGeoJSON:function(s){var o=!An(this._latlngs),c=o&&!An(this._latlngs[0]),h=ko(this._latlngs,c?2:o?1:0,!0,s);return o||(h=[h]),ts(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),Yi.include({toMultiPoint:function(s){var o=[];return this.eachLayer(function(c){o.push(c.toGeoJSON(s).geometry.coordinates)}),ts(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(s){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(s);var c=o==="GeometryCollection",h=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(c)h.push(g.geometry);else{var w=Io(g);w.type==="FeatureCollection"?h.push.apply(h,w.features):h.push(w)}}}),c?ts(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function $f(s,o){return new kn(s,o)}var e0=$f,Po=tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,o,c){this._url=s,this._bounds=Wt(o),T(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Wi(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Wt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",o=this._image=s?this._url:Pt("img");if(ft(o,"leaflet-image-layer"),this._zoomAnimated&&ft(o,"leaflet-zoom-animated"),this.options.className&&ft(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(s){var o=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;pi(this._image,c,o)},_reset:function(){var s=this._image,o=new Et(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=o.getSize();ie(s,o.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)}}),n0=function(s,o,c){return new Po(s,o,c)},Ff=Po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var s=this._url.tagName==="VIDEO",o=this._image=s?this._url:Pt("video");if(ft(o,"leaflet-image-layer"),this._zoomAnimated&&ft(o,"leaflet-zoom-animated"),this.options.className&&ft(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onloadeddata=l(this.fire,this,"load"),s){for(var c=o.getElementsByTagName("source"),h=[],p=0;p<c.length;p++)h.push(c[p].src);this._url=c.length>0?h:[o.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted;for(var g=0;g<this._url.length;g++){var w=Pt("source");w.src=this._url[g],o.appendChild(w)}}});function i0(s,o,c){return new Ff(s,o,c)}var zf=Po.extend({_initImage:function(){var s=this._image=this._url;ft(s,"leaflet-image-layer"),this._zoomAnimated&&ft(s,"leaflet-zoom-animated"),this.options.className&&ft(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function s0(s,o,c){return new zf(s,o,c)}var In=tn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(s,o){T(this,s),this._source=o},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ze(this._container,1),this.bringToFront()},onRemove:function(s){s._fadeAnimated?(Ze(this._container,0),this._removeTimeout=setTimeout(l(Yt,void 0,this._container),200)):Yt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=H(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wi(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(s,o,c){if(o instanceof tn||(c=o,o=s),o instanceof Xi)for(var h in s._layers){o=s._layers[h];break}if(!c)if(o.getCenter)c=o.getCenter();else if(o.getLatLng)c=o.getLatLng();else throw new Error("Unable to get source layer LatLng.");return this._source=o,this.update(),c},_updateContent:function(){if(!!this._content){var s=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")s.innerHTML=o;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var s=this._map.latLngToLayerPoint(this._latlng),o=dt(this.options.offset),c=this._getAnchor();this._zoomAnimated?ie(this._container,s.add(c)):o=o.add(s).add(c);var h=this._containerBottom=-o.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=h+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}}),es=In.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s.openPopup(this),this},onAdd:function(s){In.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",mi))},onRemove:function(s){In.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",mi))},getEvents:function(){var s=In.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this._close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var s="leaflet-popup",o=this._container=Pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Pt("div",s+"-content-wrapper",o);if(this._contentNode=Pt("div",s+"-content",c),er(o),Hl(this._contentNode),_t(o,"contextmenu",mi),this._tipContainer=Pt("div",s+"-tip-container",o),this._tip=Pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=Pt("a",s+"-close-button",o);h.href="#close",h.innerHTML="&#215;",_t(h,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var s=this._contentNode,o=s.style;o.width="",o.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),o.width=c+1+"px",o.whiteSpace="",o.height="";var h=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&h>p?(o.height=p+"px",ft(s,g)):Jt(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var o=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();ie(this._container,o.add(c))},_adjustPan:function(){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var s=this._map,o=parseInt(Xs(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+o,h=this._containerWidth,p=new q(this._containerLeft,-c-this._containerBottom);p._add(Zn(this._container));var g=s.layerPointToContainerPoint(p),w=dt(this.options.autoPanPadding),E=dt(this.options.autoPanPaddingTopLeft||w),S=dt(this.options.autoPanPaddingBottomRight||w),M=s.getSize(),Z=0,nt=0;g.x+h+S.x>M.x&&(Z=g.x+h-M.x+S.x),g.x-Z-E.x<0&&(Z=g.x-E.x),g.y+c+S.y>M.y&&(nt=g.y+c-M.y+S.y),g.y-nt-E.y<0&&(nt=g.y-E.y),(Z||nt)&&s.fire("autopanstart").panBy([Z,nt])}},_onCloseButtonClick:function(s){this._close(),Cn(s)},_getAnchor:function(){return dt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),r0=function(s,o){return new es(s,o)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(s,o,c){return s instanceof es||(s=new es(c).setContent(s)),o&&s.setLatLng(o),this.hasLayer(s)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=s,this.addLayer(s))},closePopup:function(s){return(!s||s===this._popup)&&(s=this._popup,this._popup=null),s&&this.removeLayer(s),this}}),tn.include({bindPopup:function(s,o){return s instanceof es?(T(s,o),this._popup=s,s._source=this):((!this._popup||o)&&(this._popup=new es(o,this)),this._popup.setContent(s)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s,o){return this._popup&&this._map&&(o=this._popup._prepareOpen(this,s,o),this._map.openPopup(this._popup,o)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(s){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(s)),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){var o=s.layer||s.target;if(!!this._popup&&!!this._map){if(Cn(s),o instanceof Kn){this.openPopup(s.layer||s.target,s.latlng);return}this._map.hasLayer(this._popup)&&this._popup._source===o?this.closePopup():this.openPopup(o,s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var ns=In.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(s){In.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(s){In.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var s=In.prototype.getEvents.call(this);return hn&&!this.options.permanent&&(s.preclick=this._close),s},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var s="leaflet-tooltip",o=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",o)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var o,c,h=this._map,p=this._container,g=h.latLngToContainerPoint(h.getCenter()),w=h.layerPointToContainerPoint(s),E=this.options.direction,S=p.offsetWidth,M=p.offsetHeight,Z=dt(this.options.offset),nt=this._getAnchor();E==="top"?(o=S/2,c=M):E==="bottom"?(o=S/2,c=0):E==="center"?(o=S/2,c=M/2):E==="right"?(o=0,c=M/2):E==="left"?(o=S,c=M/2):w.x<g.x?(E="right",o=0,c=M/2):(E="left",o=S+(Z.x+nt.x)*2,c=M/2),s=s.subtract(dt(o,c,!0)).add(Z).add(nt),Jt(p,"leaflet-tooltip-right"),Jt(p,"leaflet-tooltip-left"),Jt(p,"leaflet-tooltip-top"),Jt(p,"leaflet-tooltip-bottom"),ft(p,"leaflet-tooltip-"+E),ie(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ze(this._container,s)},_animateZoom:function(s){var o=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(o)},_getAnchor:function(){return dt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o0=function(s,o){return new ns(s,o)};Tt.include({openTooltip:function(s,o,c){return s instanceof ns||(s=new ns(c).setContent(s)),o&&s.setLatLng(o),this.hasLayer(s)?this:this.addLayer(s)},closeTooltip:function(s){return s&&this.removeLayer(s),this}}),tn.include({bindTooltip:function(s,o){return s instanceof ns?(T(s,o),this._tooltip=s,s._source=this):((!this._tooltip||o)&&(this._tooltip=new ns(o,this)),this._tooltip.setContent(s)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var o=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),hn&&(c.click=this._openTooltip)),this[o](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s,o){return this._tooltip&&this._map&&(o=this._tooltip._prepareOpen(this,s,o),this._map.openTooltip(this._tooltip,o),this._tooltip.options.interactive&&this._tooltip._container&&(ft(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Jt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(s){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(s)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_openTooltip:function(s){var o=s.layer||s.target;!this._tooltip||!this._map||this.openTooltip(o,this._tooltip.options.sticky?s.latlng:void 0)},_moveTooltip:function(s){var o=s.latlng,c,h;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),h=this._map.containerPointToLayerPoint(c),o=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(o)}});var Uf=Qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var o=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(_o(o),o.appendChild(c.html)):o.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=dt(c.bgPos);o.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function a0(s){return new Uf(s)}Qi.Default=sr;var rr=tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Yt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof q?s:new q(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var o=this.getPane().children,c=-s(-1/0,1/0),h=0,p=o.length,g;h<p;h++)g=o[h].style.zIndex,o[h]!==this._container&&g&&(c=s(c,+g));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!j){Ze(this._container,this.options.opacity);var s=+new Date,o=!1,c=!1;for(var h in this._tiles){var p=this._tiles[h];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);Ze(p.el,g),g<1?o=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),o&&(At(this._fadeFrame),this._fadeFrame=xt(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,o=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=o-Math.abs(s-c),this._onUpdateLevel(c)):(Yt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[s],p=this._map;return h||(h=this._levels[s]={},h.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=o,h.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),h.zoom=s,this._setZoomTransform(h,p.getCenter(),p.getZoom()),_(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(!!this._map){var s,o,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)o=this._tiles[s],o.retain=o.current;for(s in this._tiles)if(o=this._tiles[s],o.current&&!o.active){var h=o.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var o in this._tiles)this._tiles[o].coords.z===s&&this._removeTile(o)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Yt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,o,c,h){var p=Math.floor(s/2),g=Math.floor(o/2),w=c-1,E=new q(+p,+g);E.z=+w;var S=this._tileCoordsToKey(E),M=this._tiles[S];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),w>h?this._retainParent(p,g,w,h):!1)},_retainChildren:function(s,o,c,h){for(var p=2*s;p<2*s+2;p++)for(var g=2*o;g<2*o+2;g++){var w=new q(p,g);w.z=c+1;var E=this._tileCoordsToKey(w),S=this._tiles[E];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);c+1<h&&this._retainChildren(p,g,c+1,h)}},_resetView:function(s){var o=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var o=this.options;return o.minNativeZoom!==void 0&&s<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<s?o.maxNativeZoom:s},_setView:function(s,o,c,h){var p=Math.round(o);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!h||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,o)},_setZoomTransforms:function(s,o){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,o)},_setZoomTransform:function(s,o,c){var h=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(o,c)).round();Ht?pi(s.el,p,h):ie(s.el,p)},_resetGrid:function(){var s=this._map,o=s.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,o.wrapLng[0]],h).x/c.x),Math.ceil(s.project([0,o.wrapLng[1]],h).x/c.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([o.wrapLat[0],0],h).y/c.x),Math.ceil(s.project([o.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var o=this._map,c=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),h=o.getZoomScale(c,this._tileZoom),p=o.project(s,this._tileZoom).floor(),g=o.getSize().divideBy(h*2);return new Et(p.subtract(g),p.add(g))},_update:function(s){var o=this._map;if(!!o){var c=this._clampZoom(o.getZoom());if(s===void 0&&(s=o.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(h),g=p.getCenter(),w=[],E=this.options.keepBuffer,S=new Et(p.getBottomLeft().subtract([E,-E]),p.getTopRight().add([E,-E]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var Z=this._tiles[M].coords;(Z.z!==this._tileZoom||!S.contains(new q(Z.x,Z.y)))&&(this._tiles[M].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var nt=p.min.y;nt<=p.max.y;nt++)for(var Lt=p.min.x;Lt<=p.max.x;Lt++){var Pn=new q(Lt,nt);if(Pn.z=this._tileZoom,!!this._isValidTile(Pn)){var vi=this._tiles[this._tileCoordsToKey(Pn)];vi?vi.current=!0:w.push(Pn)}}if(w.sort(function(Wn,sc){return Wn.distanceTo(g)-sc.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mo=document.createDocumentFragment();for(Lt=0;Lt<w.length;Lt++)this._addTile(w[Lt],Mo);this._level.el.appendChild(Mo)}}}},_isValidTile:function(s){var o=this._map.options.crs;if(!o.infinite){var c=this._globalTileRange;if(!o.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!o.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(s);return Wt(this.options.bounds).overlaps(h)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var o=this._map,c=this.getTileSize(),h=s.scaleBy(c),p=h.add(c),g=o.unproject(h,s.z),w=o.unproject(p,s.z);return[g,w]},_tileCoordsToBounds:function(s){var o=this._tileCoordsToNwSe(s),c=new Ut(o[0],o[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var o=s.split(":"),c=new q(+o[0],+o[1]);return c.z=+o[2],c},_removeTile:function(s){var o=this._tiles[s];!o||(Yt(o.el),delete this._tiles[s],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ft(s,"leaflet-tile");var o=this.getTileSize();s.style.width=o.x+"px",s.style.height=o.y+"px",s.onselectstart=_,s.onmousemove=_,j&&this.options.opacity<1&&Ze(s,this.options.opacity),D&&!Q&&(s.style.WebkitBackfaceVisibility="hidden")},_addTile:function(s,o){var c=this._getTilePos(s),h=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&xt(l(this._tileReady,this,s,null,p)),ie(p,c),this._tiles[h]={el:p,coords:s,current:!0},o.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,o,c){o&&this.fire("tileerror",{error:o,tile:c,coords:s});var h=this._tileCoordsToKey(s);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ze(c.el,0),At(this._fadeFrame),this._fadeFrame=xt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),o||(ft(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),j||!this._map._fadeAnimated?xt(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var o=new q(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return o.z=s.z,o},_pxBoundsToTileRange:function(s){var o=this.getTileSize();return new Et(s.min.unscaleBy(o).floor(),s.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function l0(s){return new rr(s)}var is=rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(s,o){this._url=s,o=T(this,o),o.detectRetina&&qn&&o.maxZoom>0&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),D||this.on("tileunload",this._onTileRemove)},setUrl:function(s,o){return this._url===s&&o===void 0&&(o=!0),this._url=s,o||this.redraw(),this},createTile:function(s,o){var c=document.createElement("img");return _t(c,"load",l(this._tileOnLoad,this,o,c)),_t(c,"error",l(this._tileOnError,this,o,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c.alt="",c.setAttribute("role","presentation"),c.src=this.getTileUrl(s),c},getTileUrl:function(s){var o={r:qn?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(o.y=c),o["-y"]=c}return W(this._url,r(o,this.options))},_tileOnLoad:function(s,o){j?setTimeout(l(s,this,null,o),0):s(null,o)},_tileOnError:function(s,o,c){var h=this.options.errorTileUrl;h&&o.getAttribute("src")!==h&&(o.src=h),s(c,o)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,o=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(s=o-s),s+h},_getSubdomain:function(s){var o=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var s,o;for(s in this._tiles)this._tiles[s].coords.z!==this._tileZoom&&(o=this._tiles[s].el,o.onload=_,o.onerror=_,o.complete||(o.src=vt,Yt(o),delete this._tiles[s]))},_removeTile:function(s){var o=this._tiles[s];if(!!o)return tt||o.el.setAttribute("src",vt),rr.prototype._removeTile.call(this,s)},_tileReady:function(s,o,c){if(!(!this._map||c&&c.getAttribute("src")===vt))return rr.prototype._tileReady.call(this,s,o,c)}});function Vf(s,o){return new is(s,o)}var Hf=is.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,o){this._url=s;var c=r({},this.defaultWmsParams);for(var h in o)h in this.options||(c[h]=o[h]);o=T(this,o);var p=o.detectRetina&&qn?2:1,g=this.getTileSize();c.width=g.x*p,c.height=g.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,is.prototype.onAdd.call(this,s)},getTileUrl:function(s){var o=this._tileCoordsToNwSe(s),c=this._crs,h=Qt(c.project(o[0]),c.project(o[1])),p=h.min,g=h.max,w=(this._wmsVersion>=1.3&&this._crs===Df?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),E=is.prototype.getTileUrl.call(this,s);return E+C(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(s,o){return r(this.wmsParams,s),o||this.redraw(),this}});function c0(s,o){return new Hf(s,o)}is.WMS=Hf,Vf.wms=c0;var pn=tn.extend({options:{padding:.1,tolerance:0},initialize:function(s){T(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,o){var c=this._map.getZoomScale(o,this._zoom),h=Zn(this._container),p=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,o),w=this._map.project(s,o),E=w.subtract(g),S=p.multiplyBy(-c).add(h).add(p).subtract(E);Ht?pi(this._container,S,c):ie(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,o=this._map.getSize(),c=this._map.containerPointToLayerPoint(o.multiplyBy(-s)).round();this._bounds=new Et(c,c.add(o.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jf=pn.extend({getEvents:function(){var s=pn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");_t(s,"mousemove",this._onMouseMove,this),_t(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_t(s,"mouseout",this._handleMouseOut,this),this._ctx=s.getContext("2d")},_destroyContainer:function(){At(this._redrawRequest),delete this._ctx,Yt(this._container),ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var o in this._layers)s=this._layers[o],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pn.prototype._update.call(this);var s=this._bounds,o=this._container,c=s.getSize(),h=qn?2:1;ie(o,s.min),o.width=h*c.x,o.height=h*c.y,o.style.width=c.x+"px",o.style.height=c.y+"px",qn&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var o=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var o=s._order,c=o.next,h=o.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var o=s.options.dashArray.split(/[, ]+/),c=[],h,p;for(p=0;p<o.length;p++){if(h=Number(o[p]),isNaN(h))return;c.push(h)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){!this._map||(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||xt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var o=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Et,this._redrawBounds.extend(s._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(s._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var o=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,o=this._redrawBounds;if(this._ctx.save(),o){var c=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)s=h.layer,(!o||s._pxBounds&&s._pxBounds.intersects(o))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,o){if(!!this._drawing){var c,h,p,g,w=s._parts,E=w.length,S=this._ctx;if(!!E){for(S.beginPath(),c=0;c<E;c++){for(h=0,p=w[c].length;h<p;h++)g=w[c][h],S[h?"lineTo":"moveTo"](g.x,g.y);o&&S.closePath()}this._fillStroke(S,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var o=s._point,c=this._ctx,h=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||h)/h;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(o.x,o.y/p,h,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,o){var c=o.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(o.options&&o.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var o=this._map.mouseEventToLayerPoint(s),c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(o)&&(!(s.type==="click"||s.type!=="preclick")||!this._map._draggableMoved(c))&&(h=c);h&&(ql(s),this._fireEvent([h],s))},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,o)}},_handleMouseOut:function(s){var o=this._hoveredLayer;o&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([o],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,o){if(!this._mouseHoverThrottled){for(var c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(o)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(s),h&&(ft(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseover"),this._hoveredLayer=h)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,o,c){this._map._fireDOMEvent(o,c||o.type,s)},_bringToFront:function(s){var o=s._order;if(!!o){var c=o.next,h=o.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(s)}},_bringToBack:function(s){var o=s._order;if(!!o){var c=o.next,h=o.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(s)}}});function qf(s){return mf?new jf(s):null}var or=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),u0={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var o=s._container=or("shape");ft(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",s._path=or("path"),o.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var o=s._container;this._container.appendChild(o),s.options.interactive&&s.addInteractiveTarget(o)},_removePath:function(s){var o=s._container;Yt(o),s.removeInteractiveTarget(o),delete this._layers[f(s)]},_updateStyle:function(s){var o=s._stroke,c=s._fill,h=s.options,p=s._container;p.stroked=!!h.stroke,p.filled=!!h.fill,h.stroke?(o||(o=s._stroke=or("stroke")),p.appendChild(o),o.weight=h.weight+"px",o.color=h.color,o.opacity=h.opacity,h.dashArray?o.dashStyle=J(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=h.lineCap.replace("butt","flat"),o.joinstyle=h.lineJoin):o&&(p.removeChild(o),s._stroke=null),h.fill?(c||(c=s._fill=or("fill")),p.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var o=s._point.round(),c=Math.round(s._radius),h=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+o.x+","+o.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(s,o){s._path.v=o},_bringToFront:function(s){Wi(s._container)},_bringToBack:function(s){Gi(s._container)}},Lo=po?or:A,ar=pn.extend({getEvents:function(){var s=pn.prototype.getEvents.call(this);return s.zoomstart=this._onZoomStart,s},_initContainer:function(){this._container=Lo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pn.prototype._update.call(this);var s=this._bounds,o=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,c.setAttribute("width",o.x),c.setAttribute("height",o.y)),ie(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(s){var o=s._path=Lo("path");s.options.className&&ft(o,s.options.className),s.options.interactive&&ft(o,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Yt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var o=s._path,c=s.options;!o||(c.stroke?(o.setAttribute("stroke",c.color),o.setAttribute("stroke-opacity",c.opacity),o.setAttribute("stroke-width",c.weight),o.setAttribute("stroke-linecap",c.lineCap),o.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?o.setAttribute("stroke-dasharray",c.dashArray):o.removeAttribute("stroke-dasharray"),c.dashOffset?o.setAttribute("stroke-dashoffset",c.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),c.fill?(o.setAttribute("fill",c.fillColor||c.color),o.setAttribute("fill-opacity",c.fillOpacity),o.setAttribute("fill-rule",c.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(s,o){this._setPath(s,R(s._parts,o))},_updateCircle:function(s){var o=s._point,c=Math.max(Math.round(s._radius),1),h=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+h+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(o.x-c)+","+o.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,g)},_setPath:function(s,o){s._path.setAttribute("d",o)},_bringToFront:function(s){Wi(s._path)},_bringToBack:function(s){Gi(s._path)}});po&&ar.include(u0);function Zf(s){return fo||po?new ar(s):null}Tt.include({getRenderer:function(s){var o=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var o=this._paneRenderers[s];return o===void 0&&(o=this._createRenderer({pane:s}),this._paneRenderers[s]=o),o},_createRenderer:function(s){return this.options.preferCanvas&&qf(s)||Zf(s)}});var Kf=Ji.extend({initialize:function(s,o){Ji.prototype.initialize.call(this,this._boundsToLatLngs(s),o)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Wt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function h0(s,o){return new Kf(s,o)}ar.create=Lo,ar.pointsToPath=R,kn.geometryToLayer=tc,kn.coordsToLatLng=ec,kn.coordsToLatLngs=So,kn.latLngToCoords=nc,kn.latLngsToCoords=ko,kn.getFeature=ts,kn.asFeature=Io,Tt.mergeOptions({boxZoom:!0});var Wf=dn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qs(),Ol(),this._startPoint=this._map.mouseEventToContainerPoint(s),_t(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var o=new Et(this._point,this._startPoint),c=o.getSize();ie(this._box,o.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Yt(this._box),Jt(this._container,"leaflet-crosshair")),Js(),Bl(),ee(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new Ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(s){s.keyCode===27&&this._finish()}});Tt.addInitHook("addHandler","boxZoom",Wf),Tt.mergeOptions({doubleClickZoom:!0});var Gf=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var o=this._map,c=o.getZoom(),h=o.options.zoomDelta,p=s.originalEvent.shiftKey?c-h:c+h;o.options.doubleClickZoom==="center"?o.setZoom(p):o.setZoomAround(s.containerPoint,p)}});Tt.addInitHook("addHandler","doubleClickZoom",Gf),Tt.mergeOptions({dragging:!0,inertia:!Q,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yf=dn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new gi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=Wt(this._map.options.maxBounds);this._offsetLimit=Qt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var o=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(o),this._prunePositions(o)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,o){return s-(s-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;s.x<o.min.x&&(s.x=this._viscousLimit(s.x,o.min.x)),s.y<o.min.y&&(s.y=this._viscousLimit(s.y,o.min.y)),s.x>o.max.x&&(s.x=this._viscousLimit(s.x,o.max.x)),s.y>o.max.y&&(s.y=this._viscousLimit(s.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,o=Math.round(s/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,p=(h-o+c)%s+o-c,g=(h+o+c)%s-o-c,w=Math.abs(p+c)<Math.abs(g+c)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(s){var o=this._map,c=o.options,h=!c.inertia||this._times.length<2;if(o.fire("dragend",s),h)o.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=c.easeLinearity,E=p.multiplyBy(w/g),S=E.distanceTo([0,0]),M=Math.min(c.inertiaMaxSpeed,S),Z=E.multiplyBy(M/S),nt=M/(c.inertiaDeceleration*w),Lt=Z.multiplyBy(-nt/2).round();!Lt.x&&!Lt.y?o.fire("moveend"):(Lt=o._limitOffset(Lt,o.options.maxBounds),xt(function(){o.panBy(Lt,{duration:nt,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",Yf),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xf=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),_t(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,o=document.documentElement,c=s.scrollTop||o.scrollTop,h=s.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var o=this._panKeys={},c=this.keyCodes,h,p;for(h=0,p=c.left.length;h<p;h++)o[c.left[h]]=[-1*s,0];for(h=0,p=c.right.length;h<p;h++)o[c.right[h]]=[s,0];for(h=0,p=c.down.length;h<p;h++)o[c.down[h]]=[0,s];for(h=0,p=c.up.length;h<p;h++)o[c.up[h]]=[0,-1*s]},_setZoomDelta:function(s){var o=this._zoomKeys={},c=this.keyCodes,h,p;for(h=0,p=c.zoomIn.length;h<p;h++)o[c.zoomIn[h]]=s;for(h=0,p=c.zoomOut.length;h<p;h++)o[c.zoomOut[h]]=-s},_addHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var o=s.keyCode,c=this._map,h;if(o in this._panKeys)(!c._panAnim||!c._panAnim._inProgress)&&(h=this._panKeys[o],s.shiftKey&&(h=dt(h).multiplyBy(3)),c.panBy(h),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds));else if(o in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Cn(s)}}});Tt.addInitHook("addHandler","keyboard",Xf),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qf=dn.extend({addHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var o=Ef(s),c=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),h),Cn(s)},_performZoom:function(){var s=this._map,o=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,g=c?Math.ceil(p/c)*c:p,w=s._limitZoom(o+(this._delta>0?g:-g))-o;this._delta=0,this._startTime=null,w&&(s.options.scrollWheelZoom==="center"?s.setZoom(o+w):s.setZoomAround(this._lastMousePos,o+w))}});Tt.addInitHook("addHandler","scrollWheelZoom",Qf),Tt.mergeOptions({tap:!0,tapTolerance:15});var Jf=dn.extend({addHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(!!s.touches){if(Ke(s),this._fireClick=!0,s.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var o=s.touches[0],c=o.target;this._startPos=this._newPos=new q(o.clientX,o.clientY),c.tagName&&c.tagName.toLowerCase()==="a"&&ft(c,"leaflet-active"),this._holdTimeout=setTimeout(l(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",o))},this),1e3),this._simulateEvent("mousedown",o),_t(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(s){if(clearTimeout(this._holdTimeout),ee(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&s&&s.changedTouches){var o=s.changedTouches[0],c=o.target;c&&c.tagName&&c.tagName.toLowerCase()==="a"&&Jt(c,"leaflet-active"),this._simulateEvent("mouseup",o),this._isTapValid()&&this._simulateEvent("click",o)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(s){var o=s.touches[0];this._newPos=new q(o.clientX,o.clientY),this._simulateEvent("mousemove",o)},_simulateEvent:function(s,o){var c=document.createEvent("MouseEvents");c._simulated=!0,o.target._simulatedClick=!0,c.initMouseEvent(s,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(c)}});hn&&(!un||It)&&Tt.addInitHook("addHandler","tap",Jf),Tt.mergeOptions({touchZoom:hn&&!Q,bounceAtZoomLimits:!0});var td=dn.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var o=this._map;if(!(!s.touches||s.touches.length!==2||o._animatingZoom||this._zooming)){var c=o.mouseEventToContainerPoint(s.touches[0]),h=o.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend",this._onTouchEnd,this),Ke(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var o=this._map,c=o.mouseEventToContainerPoint(s.touches[0]),h=o.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(h)/this._startDist;if(this._zoom=o.getScaleZoom(p,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&p<1||this._zoom>o.getMaxZoom()&&p>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),At(this._animRequest);var w=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=xt(w,this,!0),Ke(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,At(this._animRequest),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",td),Tt.BoxZoom=Wf,Tt.DoubleClickZoom=Gf,Tt.Drag=Yf,Tt.Keyboard=Xf,Tt.ScrollWheelZoom=Qf,Tt.Tap=Jf,Tt.TouchZoom=td,n.version=i,n.Control=Je,n.control=nr,n.Browser=vy,n.Evented=St,n.Mixin=By,n.Util=cn,n.Class=Ee,n.Handler=dn,n.extend=r,n.bind=l,n.stamp=f,n.setOptions=T,n.DomEvent=Ly,n.DomUtil=Iy,n.PosAnimation=Tf,n.Draggable=gi,n.LineUtil=Vy,n.PolyUtil=Hy,n.Point=q,n.point=dt,n.Bounds=Et,n.bounds=Qt,n.Transformation=ct,n.transformation=st,n.Projection=jy,n.LatLng=k,n.latLng=H,n.LatLngBounds=Ut,n.latLngBounds=Wt,n.CRS=$,n.GeoJSON=kn,n.geoJSON=$f,n.geoJson=e0,n.Layer=tn,n.LayerGroup=Yi,n.layerGroup=Ky,n.FeatureGroup=Xi,n.featureGroup=Wy,n.ImageOverlay=Po,n.imageOverlay=n0,n.VideoOverlay=Ff,n.videoOverlay=i0,n.SVGOverlay=zf,n.svgOverlay=s0,n.DivOverlay=In,n.Popup=es,n.popup=r0,n.Tooltip=ns,n.tooltip=o0,n.Icon=Qi,n.icon=Gy,n.DivIcon=Uf,n.divIcon=a0,n.Marker=Co,n.marker=Yy,n.TileLayer=is,n.tileLayer=Vf,n.GridLayer=rr,n.gridLayer=l0,n.SVG=ar,n.svg=Zf,n.Renderer=pn,n.Canvas=jf,n.canvas=qf,n.Path=Kn,n.CircleMarker=Ao,n.circleMarker=Xy,n.Circle=Jl,n.circle=Qy,n.Polyline=Sn,n.polyline=Jy,n.Polygon=Ji,n.polygon=t0,n.Rectangle=Kf,n.rectangle=h0,n.Map=Tt,n.map=My;var f0=window.L;n.noConflict=function(){return window.L=f0,this},window.L=n})})(Mu,Mu.exports);var Wo=Mu.exports,xI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=";const bI={props:{},setup(e){Ka(()=>{var t=Wo.map("map",{center:[25.026511,121.534346],zoomControl:!1,minZoom:12,maxZoom:19,zoom:16,zoomDelta:.5,zoomSnap:0,attributionControl:!1});Wo.tileLayer("https://maps.nlsc.gov.tw/S_Maps/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=EMAP&STYLE=_null&TILEMATRIXSET=EPSG:3857&TILEMATRIX=EPSG:3857:{z}&TILEROW={y}&TILECOL={x}&FORMAT=image/png",{maxZoom:19}).addTo(t),Wo.marker([25.02723496647927,121.52784880738527],{icon:Wo.icon({iconUrl:xI})}).addTo(t)})}},EI={class:"text-gray-600 body-font relative"},TI=Vn('<div class="z-0 absolute inset-0 bg-gray-300" data-v-38d036c8><div id="map" data-v-38d036c8></div></div><div class="container px-5 py-24 mx-auto flex" data-v-38d036c8><div class="lg:w-1/3 md:w-1/2 bg-white rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0 relative z-10 shadow-md" data-v-38d036c8><h2 class="text-gray-900 text-lg mb-1 font-medium title-font" data-v-38d036c8> Feedback </h2><p class="leading-relaxed mb-5 text-gray-600" data-v-38d036c8> Post-ironic portland shabby chic echo park, banjo fashion axe </p><div class="relative mb-4" data-v-38d036c8><label for="email" class="leading-7 text-sm text-gray-600" data-v-38d036c8>Email</label><input type="email" id="email" name="email" class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" data-v-38d036c8></div><div class="relative mb-4" data-v-38d036c8><label for="message" class="leading-7 text-sm text-gray-600" data-v-38d036c8>Message</label><textarea id="message" name="message" class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-32 text-base outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out" data-v-38d036c8></textarea></div><button class="text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg" data-v-38d036c8> Button </button><p class="text-xs text-gray-500 mt-3" data-v-38d036c8> Chicharrones blog helvetica normcore iceland tousled brook viral artisan. </p></div></div>',2),CI=[TI];function AI(e,t,n,i,r,a){return Xt(),ne("section",EI,CI)}var SI=ge(bI,[["render",AI],["__scopeId","data-v-38d036c8"]]);const Gp=(e,t,n,i,r)=>{if(!e||!t||!n||!i)return;let a=[],l=360/n*(0+1)*Math.PI/180,u=l-Math.PI/2,f=Math.cos(u)*i,d=Math.sin(u)*i;for(var m=0;m<n;m++)l=360/n*(m+1)*Math.PI/180,u=l-Math.PI/2,f=Math.cos(u)*i,d=Math.sin(u)*i,a.push({x:e+f,y:t+d});return a};var kI={value:()=>{}};function qv(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new oa(n)}function oa(e){this._=e}function II(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}oa.prototype=qv.prototype={constructor:oa,on:function(e,t){var n=this._,i=II(e+"",n),r,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((r=(e=i[a]).type)&&(r=PI(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(r=(e=i[a]).type)n[r]=Yp(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Yp(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oa(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function PI(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Yp(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=kI,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nu="http://www.w3.org/1999/xhtml",Xp={svg:"http://www.w3.org/2000/svg",xhtml:Nu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xp.hasOwnProperty(t)?{space:Xp[t],local:e}:e}function LI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nu&&t.documentElement.namespaceURI===Nu?t.createElement(e):t.createElementNS(n,e)}}function MI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Zv(e){var t=Tl(e);return(t.local?MI:LI)(t)}function NI(){}function of(e){return e==null?NI:function(){return this.querySelector(e)}}function RI(e){typeof e!="function"&&(e=of(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,u=i[r]=new Array(l),f,d,m=0;m<l;++m)(f=a[m])&&(d=e.call(f,f.__data__,m,a))&&("__data__"in f&&(d.__data__=f.__data__),u[m]=d);return new qe(i,this._parents)}function DI(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OI(){return[]}function Kv(e){return e==null?OI:function(){return this.querySelectorAll(e)}}function BI(e){return function(){return DI(e.apply(this,arguments))}}function $I(e){typeof e=="function"?e=BI(e):e=Kv(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var l=t[a],u=l.length,f,d=0;d<u;++d)(f=l[d])&&(i.push(e.call(f,f.__data__,d,l)),r.push(f));return new qe(i,r)}function Wv(e){return function(){return this.matches(e)}}function Gv(e){return function(t){return t.matches(e)}}var FI=Array.prototype.find;function zI(e){return function(){return FI.call(this.children,e)}}function UI(){return this.firstElementChild}function VI(e){return this.select(e==null?UI:zI(typeof e=="function"?e:Gv(e)))}var HI=Array.prototype.filter;function jI(){return Array.from(this.children)}function qI(e){return function(){return HI.call(this.children,e)}}function ZI(e){return this.selectAll(e==null?jI:qI(typeof e=="function"?e:Gv(e)))}function KI(e){typeof e!="function"&&(e=Wv(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,u=i[r]=[],f,d=0;d<l;++d)(f=a[d])&&e.call(f,f.__data__,d,a)&&u.push(f);return new qe(i,this._parents)}function Yv(e){return new Array(e.length)}function WI(){return new qe(this._enter||this._groups.map(Yv),this._parents)}function Na(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Na.prototype={constructor:Na,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GI(e){return function(){return e}}function YI(e,t,n,i,r,a){for(var l=0,u,f=t.length,d=a.length;l<d;++l)(u=t[l])?(u.__data__=a[l],i[l]=u):n[l]=new Na(e,a[l]);for(;l<f;++l)(u=t[l])&&(r[l]=u)}function XI(e,t,n,i,r,a,l){var u,f,d=new Map,m=t.length,_=a.length,v=new Array(m),x;for(u=0;u<m;++u)(f=t[u])&&(v[u]=x=l.call(f,f.__data__,u,t)+"",d.has(x)?r[u]=f:d.set(x,f));for(u=0;u<_;++u)x=l.call(e,a[u],u,a)+"",(f=d.get(x))?(i[u]=f,f.__data__=a[u],d.delete(x)):n[u]=new Na(e,a[u]);for(u=0;u<m;++u)(f=t[u])&&d.get(v[u])===f&&(r[u]=f)}function QI(e){return e.__data__}function JI(e,t){if(!arguments.length)return Array.from(this,QI);var n=t?XI:YI,i=this._parents,r=this._groups;typeof e!="function"&&(e=GI(e));for(var a=r.length,l=new Array(a),u=new Array(a),f=new Array(a),d=0;d<a;++d){var m=i[d],_=r[d],v=_.length,x=tP(e.call(m,m&&m.__data__,d,i)),P=x.length,T=u[d]=new Array(P),C=l[d]=new Array(P),U=f[d]=new Array(v);n(m,_,T,C,U,x,t);for(var W=0,J=0,at,vt;W<P;++W)if(at=T[W]){for(W>=J&&(J=W+1);!(vt=C[J])&&++J<P;);at._next=vt||null}}return l=new qe(l,i),l._enter=u,l._exit=f,l}function tP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eP(){return new qe(this._exit||this._groups.map(Yv),this._parents)}function nP(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function iP(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,l=Math.min(r,a),u=new Array(r),f=0;f<l;++f)for(var d=n[f],m=i[f],_=d.length,v=u[f]=new Array(_),x,P=0;P<_;++P)(x=d[P]||m[P])&&(v[P]=x);for(;f<r;++f)u[f]=n[f];return new qe(u,this._parents)}function sP(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],l;--r>=0;)(l=i[r])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function rP(e){e||(e=oP);function t(_,v){return _&&v?e(_.__data__,v.__data__):!_-!v}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var l=n[a],u=l.length,f=r[a]=new Array(u),d,m=0;m<u;++m)(d=l[m])&&(f[m]=d);f.sort(t)}return new qe(r,this._parents).order()}function oP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lP(){return Array.from(this)}function cP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var l=i[r];if(l)return l}return null}function uP(){let e=0;for(const t of this)++e;return e}function hP(){return!this.node()}function fP(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,l=r.length,u;a<l;++a)(u=r[a])&&e.call(u,u.__data__,a,r);return this}function dP(e){return function(){this.removeAttribute(e)}}function pP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mP(e,t){return function(){this.setAttribute(e,t)}}function gP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _P(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yP(e,t){var n=Tl(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?pP:dP:typeof t=="function"?n.local?vP:_P:n.local?gP:mP)(n,t))}function Xv(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wP(e){return function(){this.style.removeProperty(e)}}function xP(e,t,n){return function(){this.style.setProperty(e,t,n)}}function bP(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function EP(e,t,n){return arguments.length>1?this.each((t==null?wP:typeof t=="function"?bP:xP)(e,t,n==null?"":n)):Ds(this.node(),e)}function Ds(e,t){return e.style.getPropertyValue(t)||Xv(e).getComputedStyle(e,null).getPropertyValue(t)}function TP(e){return function(){delete this[e]}}function CP(e,t){return function(){this[e]=t}}function AP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function SP(e,t){return arguments.length>1?this.each((t==null?TP:typeof t=="function"?AP:CP)(e,t)):this.node()[e]}function Qv(e){return e.trim().split(/^|\s+/)}function af(e){return e.classList||new Jv(e)}function Jv(e){this._node=e,this._names=Qv(e.getAttribute("class")||"")}Jv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ty(e,t){for(var n=af(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function ey(e,t){for(var n=af(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function kP(e){return function(){ty(this,e)}}function IP(e){return function(){ey(this,e)}}function PP(e,t){return function(){(t.apply(this,arguments)?ty:ey)(this,e)}}function LP(e,t){var n=Qv(e+"");if(arguments.length<2){for(var i=af(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?PP:t?kP:IP)(n,t))}function MP(){this.textContent=""}function NP(e){return function(){this.textContent=e}}function RP(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function DP(e){return arguments.length?this.each(e==null?MP:(typeof e=="function"?RP:NP)(e)):this.node().textContent}function OP(){this.innerHTML=""}function BP(e){return function(){this.innerHTML=e}}function $P(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function FP(e){return arguments.length?this.each(e==null?OP:(typeof e=="function"?$P:BP)(e)):this.node().innerHTML}function zP(){this.nextSibling&&this.parentNode.appendChild(this)}function UP(){return this.each(zP)}function VP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HP(){return this.each(VP)}function jP(e){var t=typeof e=="function"?e:Zv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qP(){return null}function ZP(e,t){var n=typeof e=="function"?e:Zv(e),i=t==null?qP:typeof t=="function"?t:of(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function KP(){var e=this.parentNode;e&&e.removeChild(this)}function WP(){return this.each(KP)}function GP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function YP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XP(e){return this.select(e?YP:GP)}function QP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function JP(e){return function(t){e.call(this,t,this.__data__)}}function tL(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function eL(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function nL(e,t,n){return function(){var i=this.__on,r,a=JP(t);if(i){for(var l=0,u=i.length;l<u;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function iL(e,t,n){var i=tL(e+""),r,a=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,d=u.length,m;f<d;++f)for(r=0,m=u[f];r<a;++r)if((l=i[r]).type===m.type&&l.name===m.name)return m.value}return}for(u=t?nL:eL,r=0;r<a;++r)this.each(u(i[r],t,n));return this}function ny(e,t,n){var i=Xv(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function sL(e,t){return function(){return ny(this,e,t)}}function rL(e,t){return function(){return ny(this,e,t.apply(this,arguments))}}function oL(e,t){return this.each((typeof t=="function"?rL:sL)(e,t))}function*aL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,l;r<a;++r)(l=i[r])&&(yield l)}var iy=[null];function qe(e,t){this._groups=e,this._parents=t}function Ws(){return new qe([[document.documentElement]],iy)}function lL(){return this}qe.prototype=Ws.prototype={constructor:qe,select:RI,selectAll:$I,selectChild:VI,selectChildren:ZI,filter:KI,data:JI,enter:WI,exit:eP,join:nP,merge:iP,selection:lL,order:sP,sort:rP,call:aP,nodes:lP,node:cP,size:uP,empty:hP,each:fP,attr:yP,style:EP,property:SP,classed:LP,text:DP,html:FP,raise:UP,lower:HP,append:jP,insert:ZP,remove:WP,clone:XP,datum:QP,on:iL,dispatch:oL,[Symbol.iterator]:aL};function cL(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],iy)}function lf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sy(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function uo(){}var qr=.7,Ra=1/qr,xs="\\s*([+-]?\\d+)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uL=/^#([0-9a-f]{3,8})$/,hL=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),fL=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),dL=new RegExp(`^rgba\\(${xs},${xs},${xs},${Zr}\\)$`),pL=new RegExp(`^rgba\\(${yn},${yn},${yn},${Zr}\\)$`),mL=new RegExp(`^hsl\\(${Zr},${yn},${yn}\\)$`),gL=new RegExp(`^hsla\\(${Zr},${yn},${yn},${Zr}\\)$`),Qp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lf(uo,Kr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jp,formatHex:Jp,formatHex8:_L,formatHsl:vL,formatRgb:tm,toString:tm});function Jp(){return this.rgb().formatHex()}function _L(){return this.rgb().formatHex8()}function vL(){return ry(this).formatHsl()}function tm(){return this.rgb().formatRgb()}function Kr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?em(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hL.exec(e))?new ze(t[1],t[2],t[3],1):(t=fL.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dL.exec(e))?Go(t[1],t[2],t[3],t[4]):(t=pL.exec(e))?Go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mL.exec(e))?sm(t[1],t[2]/100,t[3]/100,1):(t=gL.exec(e))?sm(t[1],t[2]/100,t[3]/100,t[4]):Qp.hasOwnProperty(e)?em(Qp[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function em(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Go(e,t,n,i){return i<=0&&(e=t=n=NaN),new ze(e,t,n,i)}function yL(e){return e instanceof uo||(e=Kr(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function Ru(e,t,n,i){return arguments.length===1?yL(e):new ze(e,t,n,i==null?1:i)}function ze(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}lf(ze,Ru,sy(uo,{brighter(e){return e=e==null?Ra:Math.pow(Ra,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qr:Math.pow(qr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Bi(this.r),Bi(this.g),Bi(this.b),Da(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nm,formatHex:nm,formatHex8:wL,formatRgb:im,toString:im}));function nm(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function wL(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function im(){const e=Da(this.opacity);return`${e===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${e===1?")":`, ${e})`}`}function Da(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Bi(e),(e<16?"0":"")+e.toString(16)}function sm(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nn(e,t,n,i)}function ry(e){if(e instanceof nn)return new nn(e.h,e.s,e.l,e.opacity);if(e instanceof uo||(e=Kr(e)),!e)return new nn;if(e instanceof nn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),l=NaN,u=a-r,f=(a+r)/2;return u?(t===a?l=(n-i)/u+(n<i)*6:n===a?l=(i-t)/u+2:l=(t-n)/u+4,u/=f<.5?a+r:2-a-r,l*=60):u=f>0&&f<1?0:l,new nn(l,u,f,e.opacity)}function xL(e,t,n,i){return arguments.length===1?ry(e):new nn(e,t,n,i==null?1:i)}function nn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}lf(nn,xL,sy(uo,{brighter(e){return e=e==null?Ra:Math.pow(Ra,e),new nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qr:Math.pow(qr,e),new nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ze(Pc(e>=240?e-240:e+120,r,i),Pc(e,r,i),Pc(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new nn(rm(this.h),Yo(this.s),Yo(this.l),Da(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Da(this.opacity);return`${e===1?"hsl(":"hsla("}${rm(this.h)}, ${Yo(this.s)*100}%, ${Yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rm(e){return e=(e||0)%360,e<0?e+360:e}function Yo(e){return Math.max(0,Math.min(1,e||0))}function Pc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var oy=e=>()=>e;function bL(e,t){return function(n){return e+n*t}}function EL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function TL(e){return(e=+e)==1?ay:function(t,n){return n-t?EL(t,n,e):oy(isNaN(t)?n:t)}}function ay(e,t){var n=t-e;return n?bL(e,n):oy(isNaN(e)?t:e)}var om=function e(t){var n=TL(t);function i(r,a){var l=n((r=Ru(r)).r,(a=Ru(a)).r),u=n(r.g,a.g),f=n(r.b,a.b),d=ay(r.opacity,a.opacity);return function(m){return r.r=l(m),r.g=u(m),r.b=f(m),r.opacity=d(m),r+""}}return i.gamma=e,i}(1);function ti(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Du=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lc=new RegExp(Du.source,"g");function CL(e){return function(){return e}}function AL(e){return function(t){return e(t)+""}}function SL(e,t){var n=Du.lastIndex=Lc.lastIndex=0,i,r,a,l=-1,u=[],f=[];for(e=e+"",t=t+"";(i=Du.exec(e))&&(r=Lc.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(i=i[0])===(r=r[0])?u[l]?u[l]+=r:u[++l]=r:(u[++l]=null,f.push({i:l,x:ti(i,r)})),n=Lc.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?AL(f[0].x):CL(t):(t=f.length,function(d){for(var m=0,_;m<t;++m)u[(_=f[m]).i]=_.x(d);return u.join("")})}var am=180/Math.PI,Ou={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ly(e,t,n,i,r,a){var l,u,f;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),e*i<t*n&&(e=-e,t=-t,f=-f,l=-l),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*am,skewX:Math.atan(f)*am,scaleX:l,scaleY:u}}var Xo;function kL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ou:ly(t.a,t.b,t.c,t.d,t.e,t.f)}function IL(e){return e==null||(Xo||(Xo=document.createElementNS("http://www.w3.org/2000/svg","g")),Xo.setAttribute("transform",e),!(e=Xo.transform.baseVal.consolidate()))?Ou:(e=e.matrix,ly(e.a,e.b,e.c,e.d,e.e,e.f))}function cy(e,t,n,i){function r(d){return d.length?d.pop()+" ":""}function a(d,m,_,v,x,P){if(d!==_||m!==v){var T=x.push("translate(",null,t,null,n);P.push({i:T-4,x:ti(d,_)},{i:T-2,x:ti(m,v)})}else(_||v)&&x.push("translate("+_+t+v+n)}function l(d,m,_,v){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),v.push({i:_.push(r(_)+"rotate(",null,i)-2,x:ti(d,m)})):m&&_.push(r(_)+"rotate("+m+i)}function u(d,m,_,v){d!==m?v.push({i:_.push(r(_)+"skewX(",null,i)-2,x:ti(d,m)}):m&&_.push(r(_)+"skewX("+m+i)}function f(d,m,_,v,x,P){if(d!==_||m!==v){var T=x.push(r(x)+"scale(",null,",",null,")");P.push({i:T-4,x:ti(d,_)},{i:T-2,x:ti(m,v)})}else(_!==1||v!==1)&&x.push(r(x)+"scale("+_+","+v+")")}return function(d,m){var _=[],v=[];return d=e(d),m=e(m),a(d.translateX,d.translateY,m.translateX,m.translateY,_,v),l(d.rotate,m.rotate,_,v),u(d.skewX,m.skewX,_,v),f(d.scaleX,d.scaleY,m.scaleX,m.scaleY,_,v),d=m=null,function(x){for(var P=-1,T=v.length,C;++P<T;)_[(C=v[P]).i]=C.x(x);return _.join("")}}}var PL=cy(kL,"px, ","px)","deg)"),LL=cy(IL,", ",")",")"),Os=0,_r=0,hr=0,uy=1e3,Oa,vr,Ba=0,Ui=0,Cl=0,Wr=typeof performance=="object"&&performance.now?performance:Date,hy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cf(){return Ui||(hy(ML),Ui=Wr.now()+Cl)}function ML(){Ui=0}function $a(){this._call=this._time=this._next=null}$a.prototype=uf.prototype={constructor:$a,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cf():+n)+(t==null?0:+t),!this._next&&vr!==this&&(vr?vr._next=this:Oa=this,vr=this),this._call=e,this._time=n,Bu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bu())}};function uf(e,t,n){var i=new $a;return i.restart(e,t,n),i}function NL(){cf(),++Os;for(var e=Oa,t;e;)(t=Ui-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Os}function lm(){Ui=(Ba=Wr.now())+Cl,Os=_r=0;try{NL()}finally{Os=0,DL(),Ui=0}}function RL(){var e=Wr.now(),t=e-Ba;t>uy&&(Cl-=t,Ba=e)}function DL(){for(var e,t=Oa,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Oa=n);vr=e,Bu(i)}function Bu(e){if(!Os){_r&&(_r=clearTimeout(_r));var t=e-Ui;t>24?(e<1/0&&(_r=setTimeout(lm,e-Wr.now()-Cl)),hr&&(hr=clearInterval(hr))):(hr||(Ba=Wr.now(),hr=setInterval(RL,uy)),Os=1,hy(lm))}}function cm(e,t,n){var i=new $a;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var OL=qv("start","end","cancel","interrupt"),BL=[],fy=0,um=1,$u=2,aa=3,hm=4,Fu=5,la=6;function Al(e,t,n,i,r,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;$L(e,n,{name:t,index:i,group:r,on:OL,tween:BL,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fy})}function hf(e,t){var n=ln(e,t);if(n.state>fy)throw new Error("too late; already scheduled");return n}function bn(e,t){var n=ln(e,t);if(n.state>aa)throw new Error("too late; already running");return n}function ln(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $L(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=uf(a,0,n.time);function a(d){n.state=um,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var m,_,v,x;if(n.state!==um)return f();for(m in i)if(x=i[m],x.name===n.name){if(x.state===aa)return cm(l);x.state===hm?(x.state=la,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[m]):+m<t&&(x.state=la,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[m])}if(cm(function(){n.state===aa&&(n.state=hm,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=$u,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$u){for(n.state=aa,r=new Array(v=n.tween.length),m=0,_=-1;m<v;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(r[++_]=x);r.length=_+1}}function u(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=Fu,1),_=-1,v=r.length;++_<v;)r[_].call(e,m);n.state===Fu&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=la,n.timer.stop(),delete i[t];for(var d in i)return;delete e.__transition}}function FL(e,t){var n=e.__transition,i,r,a=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){a=!1;continue}r=i.state>$u&&i.state<Fu,i.state=la,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}a&&delete e.__transition}}function zL(e){return this.each(function(){FL(this,e)})}function UL(e,t){var n,i;return function(){var r=bn(this,e),a=r.tween;if(a!==n){i=n=a;for(var l=0,u=i.length;l<u;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function VL(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=bn(this,e),l=a.tween;if(l!==i){r=(i=l).slice();for(var u={name:t,value:n},f=0,d=r.length;f<d;++f)if(r[f].name===t){r[f]=u;break}f===d&&r.push(u)}a.tween=r}}function HL(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=ln(this.node(),n).tween,r=0,a=i.length,l;r<a;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?UL:VL)(n,e,t))}function ff(e,t,n){var i=e._id;return e.each(function(){var r=bn(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return ln(r,i).value[t]}}function dy(e,t){var n;return(typeof t=="number"?ti:t instanceof Kr?om:(n=Kr(t))?(t=n,om):SL)(e,t)}function jL(e){return function(){this.removeAttribute(e)}}function qL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZL(e,t,n){var i,r=n+"",a;return function(){var l=this.getAttribute(e);return l===r?null:l===i?a:a=t(i=l,n)}}function KL(e,t,n){var i,r=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?a:a=t(i=l,n)}}function WL(e,t,n){var i,r,a;return function(){var l,u=n(this),f;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=u+"",l===f?null:l===i&&f===r?a:(r=f,a=t(i=l,u)))}}function GL(e,t,n){var i,r,a;return function(){var l,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=u+"",l===f?null:l===i&&f===r?a:(r=f,a=t(i=l,u)))}}function YL(e,t){var n=Tl(e),i=n==="transform"?LL:dy;return this.attrTween(e,typeof t=="function"?(n.local?GL:WL)(n,i,ff(this,"attr."+e,t)):t==null?(n.local?qL:jL)(n):(n.local?KL:ZL)(n,i,t))}function XL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function QL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function JL(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&QL(e,a)),n}return r._value=t,r}function tM(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&XL(e,a)),n}return r._value=t,r}function eM(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Tl(e);return this.tween(n,(i.local?JL:tM)(i,t))}function nM(e,t){return function(){hf(this,e).delay=+t.apply(this,arguments)}}function iM(e,t){return t=+t,function(){hf(this,e).delay=t}}function sM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nM:iM)(t,e)):ln(this.node(),t).delay}function rM(e,t){return function(){bn(this,e).duration=+t.apply(this,arguments)}}function oM(e,t){return t=+t,function(){bn(this,e).duration=t}}function aM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rM:oM)(t,e)):ln(this.node(),t).duration}function lM(e,t){if(typeof t!="function")throw new Error;return function(){bn(this,e).ease=t}}function cM(e){var t=this._id;return arguments.length?this.each(lM(t,e)):ln(this.node(),t).ease}function uM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bn(this,e).ease=n}}function hM(e){if(typeof e!="function")throw new Error;return this.each(uM(this._id,e))}function fM(e){typeof e!="function"&&(e=Wv(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,u=i[r]=[],f,d=0;d<l;++d)(f=a[d])&&e.call(f,f.__data__,d,a)&&u.push(f);return new zn(i,this._parents,this._name,this._id)}function dM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),l=new Array(i),u=0;u<a;++u)for(var f=t[u],d=n[u],m=f.length,_=l[u]=new Array(m),v,x=0;x<m;++x)(v=f[x]||d[x])&&(_[x]=v);for(;u<i;++u)l[u]=t[u];return new zn(l,this._parents,this._name,this._id)}function pM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mM(e,t,n){var i,r,a=pM(t)?hf:bn;return function(){var l=a(this,e),u=l.on;u!==i&&(r=(i=u).copy()).on(t,n),l.on=r}}function gM(e,t){var n=this._id;return arguments.length<2?ln(this.node(),n).on.on(e):this.each(mM(n,e,t))}function _M(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vM(){return this.on("end.remove",_M(this._id))}function yM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=of(e));for(var i=this._groups,r=i.length,a=new Array(r),l=0;l<r;++l)for(var u=i[l],f=u.length,d=a[l]=new Array(f),m,_,v=0;v<f;++v)(m=u[v])&&(_=e.call(m,m.__data__,v,u))&&("__data__"in m&&(_.__data__=m.__data__),d[v]=_,Al(d[v],t,n,v,d,ln(m,n)));return new zn(a,this._parents,t,n)}function wM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Kv(e));for(var i=this._groups,r=i.length,a=[],l=[],u=0;u<r;++u)for(var f=i[u],d=f.length,m,_=0;_<d;++_)if(m=f[_]){for(var v=e.call(m,m.__data__,_,f),x,P=ln(m,n),T=0,C=v.length;T<C;++T)(x=v[T])&&Al(x,t,n,T,v,P);a.push(v),l.push(m)}return new zn(a,l,t,n)}var xM=Ws.prototype.constructor;function bM(){return new xM(this._groups,this._parents)}function EM(e,t){var n,i,r;return function(){var a=Ds(this,e),l=(this.style.removeProperty(e),Ds(this,e));return a===l?null:a===n&&l===i?r:r=t(n=a,i=l)}}function py(e){return function(){this.style.removeProperty(e)}}function TM(e,t,n){var i,r=n+"",a;return function(){var l=Ds(this,e);return l===r?null:l===i?a:a=t(i=l,n)}}function CM(e,t,n){var i,r,a;return function(){var l=Ds(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Ds(this,e))),l===f?null:l===i&&f===r?a:(r=f,a=t(i=l,u))}}function AM(e,t){var n,i,r,a="style."+t,l="end."+a,u;return function(){var f=bn(this,e),d=f.on,m=f.value[a]==null?u||(u=py(t)):void 0;(d!==n||r!==m)&&(i=(n=d).copy()).on(l,r=m),f.on=i}}function SM(e,t,n){var i=(e+="")=="transform"?PL:dy;return t==null?this.styleTween(e,EM(e,i)).on("end.style."+e,py(e)):typeof t=="function"?this.styleTween(e,CM(e,i,ff(this,"style."+e,t))).each(AM(this._id,e)):this.styleTween(e,TM(e,i,t),n).on("end.style."+e,null)}function kM(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function IM(e,t,n){var i,r;function a(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&kM(e,l,n)),i}return a._value=t,a}function PM(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,IM(e,t,n==null?"":n))}function LM(e){return function(){this.textContent=e}}function MM(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function NM(e){return this.tween("text",typeof e=="function"?MM(ff(this,"text",e)):LM(e==null?"":e+""))}function RM(e){return function(t){this.textContent=e.call(this,t)}}function DM(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&RM(r)),t}return i._value=e,i}function OM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DM(e))}function BM(){for(var e=this._name,t=this._id,n=my(),i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],u=l.length,f,d=0;d<u;++d)if(f=l[d]){var m=ln(f,t);Al(f,e,n,d,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new zn(i,this._parents,e,n)}function $M(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,l){var u={value:l},f={value:function(){--r===0&&a()}};n.each(function(){var d=bn(this,i),m=d.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),d.on=t}),r===0&&a()})}var FM=0;function zn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function zu(e){return Ws().transition(e)}function my(){return++FM}var Mn=Ws.prototype;zn.prototype=zu.prototype={constructor:zn,select:yM,selectAll:wM,selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:fM,merge:dM,selection:bM,transition:BM,call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:gM,attr:YL,attrTween:eM,style:SM,styleTween:PM,text:NM,textTween:OM,remove:vM,tween:HL,delay:sM,duration:aM,ease:cM,easeVarying:hM,end:$M,[Symbol.iterator]:Mn[Symbol.iterator]};const fm=e=>+e;function zM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var UM={time:null,delay:0,duration:250,ease:zM};function VM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function HM(e){var t,n;e instanceof zn?(t=e._id,e=e._name):(t=my(),(n=UM).time=cf(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],u=l.length,f,d=0;d<u;++d)(f=l[d])&&Al(f,e,t,d,l,n||VM(f,t));return new zn(i,this._parents,e,t)}Ws.prototype.interrupt=zL;Ws.prototype.transition=HM;const jM={setup(){const e=en(0),t=en(0),n=en(null),i=en(null),r=en(null),a=en(!1),l=en(!1),u=en(!1),f=en([]),d=()=>{n.value=cL(".gallery-one").append("svg").attr("width",e.value).attr("height",t.value),f.value=Gp(e.value/2,t.value/2,32,100).map(T=>({x:T.x,y:T.y,x_diff:Math.random()<.5?1:-1,y_diff:Math.random()<.5?1:-1,speed:Math.random()*5,width:15,height:15})),m()},m=()=>{console.log(f.value),i.value=n.value.selectAll("rect").data(f.value).enter().append("rect").attr("x",function(T){return T.x-T.width/2}).attr("y",function(T){return T.y-T.height/2}).attr("rx",function(T){return T.width>T.height?T.height/2:T.width/2}).attr("ry",function(T){return T.width>T.height?T.height/2:T.width/2}).attr("width",function(T){return T.width}).attr("height",function(T){return T.height}).attr("fill","rgba(161,216,230,0.5)")},_=T=>{u.value=!0,i.value.attr("x",function(C){return C.x=C.x+C.speed*C.x_diff,(C.x<=0||C.x>=e.value-C.width)&&(C.x_diff=C.x_diff*-1),C.x}).attr("y",function(C){return C.y=C.y+C.speed*C.y_diff,(C.y<=0||C.y>=t.value-C.height)&&(C.y_diff=C.y_diff*-1),C.y}).attr("width",function(C){return C.width}).attr("height",function(C){return C.height})},v=()=>{!l.value&&a.value&&(x(),setTimeout(()=>{const T=zu().duration(1e3).ease(fm);r.value.stop(),f.value=Gp(e.value/2,t.value/2,32,100).map(C=>({x:C.x,y:C.y,x_diff:Math.random()<.5?1:-1,y_diff:Math.random()<.5?1:-1,speed:Math.random()*5,width:15,height:15})),n.value.selectAll("rect").data(f.value).transition(T).attr("x",function(C){return C.x-C.width/2}).attr("y",function(C){return C.y-C.height/2}).attr("rx",function(C){return C.width>C.height?C.height/2:C.width/2}).attr("ry",function(C){return C.width>C.height?C.height/2:C.width/2}).attr("width",function(C){return C.width}).attr("height",function(C){return C.height}).attr("fill","rgba(161,216,230,0.5)"),l.value=!1,u.value=!1,a.value=!1},1e3))},x=()=>{u.value||(r.value=uf(_))},P=()=>{l.value||(x(),setTimeout(()=>{const T=zu().duration(1e3).ease(fm);r.value.stop(),i.value.transition(T).attr("x",function(C,U){return e.value/2-(C.width+5)*16+(C.width+5)*U}).attr("y",function(C,U){return t.value/2}).attr("height",function(C,U){return C.height*Math.random()*5}),u.value=!1,l.value=!1,a.value=!0},1e3))};return Ka(()=>{e.value=document.querySelector(".gallery-one").clientWidth,t.value=document.querySelector(".gallery-one").clientHeight,d()}),{handleInit:v,handleSpurStart:x,handleShapeLine:P}}},df=e=>(Bm("data-v-1272dfdb"),e=e(),$m(),e),qM={class:"text-gray-600 body-font relative"},ZM=df(()=>I("div",{id:"svgBackground"},null,-1)),KM={class:"march text-gray-600 body-font"},WM={class:"container px-5 py-24 mx-auto"},GM={class:"lg:w-4/5 mx-auto flex flex-wrap"},YM=df(()=>I("div",{class:"lg:w-1/2 w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0 flex justify-center items-center"}," = \u5167\u5BB9\u88FD\u4F5C\u4E2D = ",-1)),XM={class:"gallery-one relative lg:w-1/2 w-full h-128 object-cover object-center rounded border-solid border-5 border-gray"},QM={class:"controller absolute left-0 bottom-0"},JM=df(()=>I("div",{class:"absolute left-1 top-1"},"\u904E\u5834\u6548\u679C\u6E2C\u8A66",-1));function t2(e,t,n,i,r,a){return Xt(),ne("div",qM,[ZM,I("section",null,[I("div",KM,[I("div",WM,[I("div",GM,[YM,I("div",XM,[I("div",QM,[I("button",{class:"stop border border-solid rounded mr-1 px-2 py-1",onClick:t[0]||(t[0]=(...l)=>i.handleInit&&i.handleInit(...l))}," \u5207\u63DB\u5713\u5F62 "),I("button",{class:"stop border border-solid rounded px-2 py-1",onClick:t[1]||(t[1]=(...l)=>i.handleShapeLine&&i.handleShapeLine(...l))}," \u5207\u63DB\u5716\u8868 ")]),JM])])])])])])}var e2=ge(jM,[["render",t2],["__scopeId","data-v-1272dfdb"]]);const n2={},i2={class:"text-gray-600 body-font"},s2=Vn('<div class="container px-5 py-24 mx-auto"><div class="flex flex-wrap w-full mb-20"><div class="lg:w-1/2 w-full mb-6 lg:mb-0"><h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900"> Pitchfork Kickstarter Taxidermy </h1><div class="h-1 w-20 bg-indigo-500 rounded"></div></div><p class="lg:w-1/2 w-full leading-relaxed text-gray-500"> Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven&#39;t heard of them man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag. </p></div><div class="flex flex-wrap -m-4"><div class="xl:w-1/4 md:w-1/2 p-4"><div class="bg-gray-100 p-6 rounded-lg"><img class="h-40 rounded w-full object-cover object-center mb-6" src="https://dummyimage.com/720x400" alt="content"><h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font"> SUBTITLE </h3><h2 class="text-lg text-gray-900 font-medium title-font mb-4"> Chichen Itza </h2><p class="leading-relaxed text-base"> Fingerstache flexitarian street art 8-bit waistcoat. Distillery hexagon disrupt edison bulbche. </p></div></div><div class="xl:w-1/4 md:w-1/2 p-4"><div class="bg-gray-100 p-6 rounded-lg"><img class="h-40 rounded w-full object-cover object-center mb-6" src="https://dummyimage.com/721x401" alt="content"><h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font"> SUBTITLE </h3><h2 class="text-lg text-gray-900 font-medium title-font mb-4"> Colosseum Roma </h2><p class="leading-relaxed text-base"> Fingerstache flexitarian street art 8-bit waistcoat. Distillery hexagon disrupt edison bulbche. </p></div></div><div class="xl:w-1/4 md:w-1/2 p-4"><div class="bg-gray-100 p-6 rounded-lg"><img class="h-40 rounded w-full object-cover object-center mb-6" src="https://dummyimage.com/722x402" alt="content"><h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font"> SUBTITLE </h3><h2 class="text-lg text-gray-900 font-medium title-font mb-4"> Great Pyramid of Giza </h2><p class="leading-relaxed text-base"> Fingerstache flexitarian street art 8-bit waistcoat. Distillery hexagon disrupt edison bulbche. </p></div></div><div class="xl:w-1/4 md:w-1/2 p-4"><div class="bg-gray-100 p-6 rounded-lg"><img class="h-40 rounded w-full object-cover object-center mb-6" src="https://dummyimage.com/723x403" alt="content"><h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font"> SUBTITLE </h3><h2 class="text-lg text-gray-900 font-medium title-font mb-4"> San Francisco </h2><p class="leading-relaxed text-base"> Fingerstache flexitarian street art 8-bit waistcoat. Distillery hexagon disrupt edison bulbche. </p></div></div></div></div>',1),r2=[s2];function o2(e,t,n,i,r,a){return Xt(),ne("section",i2,r2)}var a2=ge(n2,[["render",o2]]);const l2={},c2={class:"text-gray-600 body-font"},u2=Vn('<div class="container px-5 py-24 mx-auto"><div class="flex flex-col text-center w-full mb-20"><h1 class="text-2xl font-medium title-font mb-4 text-gray-900 tracking-widest"> OUR TEAM </h1><p class="lg:w-2/3 mx-auto leading-relaxed text-base"> Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven&#39;t heard of them. </p></div><div class="flex flex-wrap -m-4"><div class="p-4 lg:w-1/2"><div class="h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left"><img alt="team" class="flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" src="https://dummyimage.com/200x200"><div class="flex-grow sm:pl-8"><h2 class="title-font font-medium text-lg text-gray-900"> Holden Caulfield </h2><h3 class="text-gray-500 mb-3">UI Developer</h3><p class="mb-4"> DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware. </p><span class="inline-flex"><a class="text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg></a></span></div></div></div><div class="p-4 lg:w-1/2"><div class="h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left"><img alt="team" class="flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" src="https://dummyimage.com/201x201"><div class="flex-grow sm:pl-8"><h2 class="title-font font-medium text-lg text-gray-900"> Alper Kamu </h2><h3 class="text-gray-500 mb-3">Designer</h3><p class="mb-4"> DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware. </p><span class="inline-flex"><a class="text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg></a></span></div></div></div><div class="p-4 lg:w-1/2"><div class="h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left"><img alt="team" class="flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" src="https://dummyimage.com/204x204"><div class="flex-grow sm:pl-8"><h2 class="title-font font-medium text-lg text-gray-900"> Atticus Finch </h2><h3 class="text-gray-500 mb-3">UI Developer</h3><p class="mb-4"> DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware. </p><span class="inline-flex"><a class="text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg></a></span></div></div></div><div class="p-4 lg:w-1/2"><div class="h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left"><img alt="team" class="flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" src="https://dummyimage.com/206x206"><div class="flex-grow sm:pl-8"><h2 class="title-font font-medium text-lg text-gray-900"> Henry Letham </h2><h3 class="text-gray-500 mb-3">Designer</h3><p class="mb-4"> DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware. </p><span class="inline-flex"><a class="text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a><a class="ml-2 text-gray-500"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg></a></span></div></div></div></div></div>',1),h2=[u2];function f2(e,t,n,i,r,a){return Xt(),ne("section",c2,h2)}var d2=ge(l2,[["render",f2]]);const p2={},m2={class:"text-gray-600 body-font overflow-hidden"},g2=Vn('<div class="container px-5 py-24 mx-auto"><div class="-my-8 divide-y-2 divide-gray-100"><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="mt-1 text-gray-500 text-sm">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Bitters hashtag waistcoat fashion axe chia unicorn </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="mt-1 text-gray-500 text-sm">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Meditation bushwick direct trade taxidermy shaman </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="text-sm text-gray-500">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Woke master cleanse drinking vinegar salvia </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div></div></div>',1),_2=[g2];function v2(e,t,n,i,r,a){return Xt(),ne("section",m2,_2)}var y2=ge(p2,[["render",v2]]);const w2={},x2={class:"text-gray-600 body-font overflow-hidden"},b2=Vn('<div class="container px-5 py-24 mx-auto"><div class="-my-8 divide-y-2 divide-gray-100"><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="mt-1 text-gray-500 text-sm">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Bitters hashtag waistcoat fashion axe chia unicorn </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="mt-1 text-gray-500 text-sm">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Meditation bushwick direct trade taxidermy shaman </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div><div class="py-8 flex flex-wrap md:flex-nowrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="font-semibold title-font text-gray-700">CATEGORY</span><span class="text-sm text-gray-500">12 Jun 2019</span></div><div class="md:flex-grow"><h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> Woke master cleanse drinking vinegar salvia </h2><p class="leading-relaxed"> Glossier echo park pug, church-key sartorial biodiesel vexillologist pop-up snackwave ramps cornhole. Marfa 3 wolf moon party messenger bag selfies, poke vaporware kombucha lumbersexual pork belly polaroid hoodie portland craft beer. </p><a class="text-indigo-500 inline-flex items-center mt-4">\u770B\u66F4\u591A <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg></a></div></div></div></div>',1),E2=[b2];function T2(e,t,n,i,r,a){return Xt(),ne("section",x2,E2)}var C2=ge(w2,[["render",T2]]);const A2={},S2={class:"text-gray-600 body-font"},k2=Vn('<div class="container mx-auto flex px-5 py-24 items-center justify-center flex-col"><img class="lg:w-2/6 md:w-3/6 w-5/6 mb-10 object-cover object-center rounded" alt="hero" src="https://dummyimage.com/720x600"><div class="text-center lg:w-2/3 w-full"><h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900"> Psychological Hacks 42 </h1><p class="mb-8 leading-relaxed"> Meggings kinfolk echo park stumptown DIY, kale chips beard jianbing tousled. Chambray dreamcatcher trust fund, kitsch vice godard disrupt ramps hexagon mustache umami snackwave tilde chillwave ugh. Pour-over meditation PBR&amp;B pickled ennui celiac mlkshk freegan photo booth af fingerstache pitchfork. </p><div class="flex justify-center"><button class="inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg"> Donate </button><button class="ml-4 inline-flex text-gray-700 bg-gray-100 border-0 py-2 px-6 focus:outline-none hover:bg-gray-200 rounded text-lg"> Leave </button></div></div></div>',1),I2=[k2];function P2(e,t,n,i,r,a){return Xt(),ne("section",S2,I2)}var L2=ge(A2,[["render",P2]]);const M2={setup(){const e=Fs({category:"",content:"",cover:"",subtitle:"",title:"",url:""}),n=Yb().params.title;return(async()=>{const r=oI(Dv(Lu,"article-lists"),aI("title","==",n));(await jv(r)).forEach(l=>{console.log(l.data()),Object.assign(e,{...l.data(),id:l.id})})})(),{...dw(e)}}},N2={class:"text-gray-600 body-font"},R2={class:"container px-5 py-24 mx-auto flex flex-col"},D2={class:"w-full lg:w-4/6 mx-auto"},O2={class:"rounded-lg h-64 overflow-hidden"},B2=["src"],$2={class:"flex flex-col sm:flex-row mt-10"},F2={class:"sm:w-1/3 text-center sm:pr-8 sm:py-8"},z2=I("div",{class:"w-20 h-20 rounded-full inline-flex items-center justify-center bg-gray-200 text-gray-400"},[I("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"w-10 h-10",viewBox:"0 0 24 24"},[I("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),I("circle",{cx:"12",cy:"7",r:"4"})])],-1),U2={class:"flex flex-col items-center text-center justify-center"},V2={class:"font-medium title-font mt-4 text-gray-900 text-lg"},H2=I("div",{class:"w-12 h-1 bg-indigo-500 rounded mt-2 mb-4"},null,-1),j2={class:"text-base"},q2={class:"lg:w-2/3 pl-8 py-8 border-l lg:border-gray-200 border-t-0 lg:border-t lg:mt-4 lg:pt-4 mt-0"},Z2=["innerHTML"],K2=Oe(" \u56DE\u5230\u4E0A\u4E00\u9801 "),W2=I("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"w-4 h-4 ml-2",viewBox:"0 0 24 24"},[I("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1);function G2(e,t,n,i,r,a){const l=zs("router-link");return Xt(),ne("section",N2,[I("div",R2,[I("div",D2,[I("div",O2,[I("img",{alt:"content",class:"object-cover object-center h-full w-full",src:e.cover},null,8,B2)]),I("div",$2,[I("div",F2,[z2,I("div",U2,[I("h2",V2,ni(e.title),1),H2,I("p",j2,ni(e.subtitle),1)])]),I("div",q2,[I("p",{innerHTML:e.content,class:"leading-relaxed text-lg mb-4"},null,8,Z2),wt(l,{class:"text-indigo-500 inline-flex items-center",to:"/"},{default:Fe(()=>[K2,W2]),_:1})])])])])])}var Y2=ge(M2,[["render",G2]]);const X2=Wb({base:"./",history:ub(),routes:[{path:"/",name:"Home",component:yI},{path:"/therapists/",name:"Therapists",component:SI},{path:"/gadgets/",name:"Gadgets",component:a2},{path:"/happiness-articles/",name:"happiness-articles",component:d2},{path:"/project/",name:"Project",component:e2},{path:"/book-review/",name:"book-review",component:y2},{path:"/news-and-views/",name:"news-and-views",component:C2},{path:"/article/:title/",name:"Article",component:Y2},{path:"/about/",name:"About",component:L2}]});jx(b1).use(X2).mount("#app");
